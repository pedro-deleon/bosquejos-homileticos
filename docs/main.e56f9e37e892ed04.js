var N3=Object.defineProperty,F3=Object.defineProperties,L3=Object.getOwnPropertyDescriptors,lL=Object.getOwnPropertySymbols,V3=Object.prototype.hasOwnProperty,B3=Object.prototype.propertyIsEnumerable,cL=(Ke,_e,P)=>_e in Ke?N3(Ke,_e,{enumerable:!0,configurable:!0,writable:!0,value:P}):Ke[_e]=P,qe=(Ke,_e)=>{for(var P in _e||(_e={}))V3.call(_e,P)&&cL(Ke,P,_e[P]);if(lL)for(var P of lL(_e))B3.call(_e,P)&&cL(Ke,P,_e[P]);return Ke},ui=(Ke,_e)=>F3(Ke,L3(_e));(self.webpackChunkbosquejos=self.webpackChunkbosquejos||[]).push([[179],{7905:(Ke,_e,P)=>{"use strict";P.d(_e,{hO:()=>je,xv:()=>de,Dh:()=>se,GT:()=>ge,cc:()=>Ie,on:()=>$,pX:()=>ie});var c=P(3668),X=P(7892),F=P(7233);Ke=P.hmd(Ke);const ue=["ngOnDestroy"],ie=(Y,ce,De,ye={})=>new Proxy(Y,{get:(ze,ke)=>De.runOutsideAngular(()=>{var We;if(Y[ke])return(null===(We=null==ye?void 0:ye.spy)||void 0===We?void 0:We.get)&&ye.spy.get(ke,Y[ke]),Y[ke];if(ue.indexOf(ke)>-1)return()=>{};const Qe=ce.toPromise().then(ft=>{const te=ft&&ft[ke];return"function"==typeof te?te.bind(ft):te&&te.then?te.then(he=>De.run(()=>he)):De.run(()=>te)});return new Proxy(()=>{},{get:(ft,te)=>Qe[te],apply:(ft,te,he)=>Qe.then(be=>{var we;const Fe=be&&be(...he);return(null===(we=null==ye?void 0:ye.spy)||void 0===we?void 0:we.apply)&&ye.spy.apply(ke,he,Fe),Fe})})})}),ge=(Y,ce)=>{ce.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(ye=>{Object.defineProperty(Y.prototype,ye,Object.getOwnPropertyDescriptor(De.prototype||De,ye))})})};class J{constructor(ce){return ce}}const se=new c.OlP("angularfire2.app.options"),de=new c.OlP("angularfire2.app.name");function $(Y,ce,De){const ze="object"==typeof De&&De||{};ze.name=ze.name||"string"==typeof De&&De||"[DEFAULT]";const We=X.Z.apps.filter(Qe=>Qe&&Qe.name===ze.name)[0]||ce.runOutsideAngular(()=>X.Z.initializeApp(Y,ze));try{JSON.stringify(Y)!==JSON.stringify(We.options)&&q("error",`${We.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new J(We)}const q=(Y,...ce)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Y](...ce)},Q={provide:J,useFactory:$,deps:[se,c.R0b,[new c.FiY,de]]};let je=(()=>{class Y{constructor(De){X.Z.registerVersion("angularfire",F.q4.full,"core"),X.Z.registerVersion("angularfire",F.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,De.toString())}static initializeApp(De,ye){return{ngModule:Y,providers:[{provide:se,useValue:De},{provide:de,useValue:ye}]}}}return Y.\u0275fac=function(De){return new(De||Y)(c.LFG(c.Lbi))},Y.\u0275mod=c.oAB({type:Y}),Y.\u0275inj=c.cJS({providers:[Q]}),Y})();function Ie(Y,ce,De,ye,ze){const[,ke,We]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===Y)||[];if(ke)return function(Y,ce){try{return Y.toString()===ce.toString()}catch(De){return Y===ce}}(ze,We)||(le("error",`${ce} was already initialized on the ${De} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:ze,was:We})),ke;{const Qe=ye();return globalThis.\u0275AngularfireInstanceCache.push([Y,Qe,ze]),Qe}}const Ue=!!Ke.hot,le=(Y,...ce)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Y](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(Ke,_e,P)=>{"use strict";P.d(_e,{q4:()=>Ds,iC:()=>Gs,HU:()=>Wp,vb:()=>D_,JM:()=>Zo});var c=P(3668),X=P(7713),F=P(8239),ue=P(1572),ie=P(4213),ge=P(1177),J=P(3855),se=P(4995);const de="@firebase/installations",$="0.5.4",Q=`w:${$}`,je="FIS_v2",ce=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(D){return D instanceof ie.ZR&&D.code.includes("request-failed")}function ye({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function ze(D){return{token:D.token,requestStatus:2,expiresIn:be(D.expiresIn),creationTime:Date.now()}}function ke(D,A){return We.apply(this,arguments)}function We(){return(We=(0,F.Z)(function*(D,A){const L=(yield A.json()).error;return ce.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Qe({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ft(D,{refreshToken:A}){const R=Qe(D);return R.append("Authorization",function(D){return`${je} ${D}`}(A)),R}function te(D){return he.apply(this,arguments)}function he(){return(he=(0,F.Z)(function*(D){const A=yield D();return A.status>=500&&A.status<600?D():A})).apply(this,arguments)}function be(D){return Number(D.replace("s","000"))}function Fe(D,A){return me.apply(this,arguments)}function me(){return(me=(0,F.Z)(function*(D,{fid:A}){const R=ye(D),ae={method:"POST",headers:Qe(D),body:JSON.stringify({fid:A,authVersion:je,appId:D.appId,sdkVersion:Q})},Te=yield te(()=>fetch(R,ae));if(Te.ok){const Be=yield Te.json();return{fid:Be.fid||A,registrationStatus:2,refreshToken:Be.refreshToken,authToken:ze(Be.authToken)}}throw yield ke("Create Installation",Te)})).apply(this,arguments)}function St(D){return new Promise(A=>{setTimeout(A,D)})}const Jn=/^[cdef][\w-]{21}$/;function Et(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Jn.test(R)?R:""}catch(D){return""}}function pn(D){return`${D.appName}!${D.appId}`}const qr=new Map;function di(D,A){const R=pn(D);Mn(R,A),function(D,A){const R=(!zt&&"BroadcastChannel"in self&&(zt=new BroadcastChannel("[Firebase] FID Change"),zt.onmessage=D=>{Mn(D.data.key,D.data.fid)}),zt);R&&R.postMessage({key:D,fid:A}),0===qr.size&&zt&&(zt.close(),zt=null)}(R,A)}function Mn(D,A){const R=qr.get(D);if(R)for(const L of R)L(A)}let zt=null;const Me="firebase-installations-store";let or=null;function Gn(){return or||(or=(0,se.openDb)("firebase-installations-database",1,D=>{0===D.oldVersion&&D.createObjectStore(Me)})),or}function rt(D,A){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,F.Z)(function*(D,A){const R=pn(D),K=(yield Gn()).transaction(Me,"readwrite"),ae=K.objectStore(Me),Te=yield ae.get(R);return yield ae.put(A,R),yield K.complete,(!Te||Te.fid!==A.fid)&&di(D,A.fid),A})).apply(this,arguments)}function zi(D){return hi.apply(this,arguments)}function hi(){return(hi=(0,F.Z)(function*(D){const A=pn(D),L=(yield Gn()).transaction(Me,"readwrite");yield L.objectStore(Me).delete(A),yield L.complete})).apply(this,arguments)}function dt(D,A){return mt.apply(this,arguments)}function mt(){return(mt=(0,F.Z)(function*(D,A){const R=pn(D),K=(yield Gn()).transaction(Me,"readwrite"),ae=K.objectStore(Me),Te=yield ae.get(R),Be=A(Te);return void 0===Be?yield ae.delete(R):yield ae.put(Be,R),yield K.complete,Be&&(!Te||Te.fid!==Be.fid)&&di(D,Be.fid),Be})).apply(this,arguments)}function Lt(D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,F.Z)(function*(D){let A;const R=yield dt(D,L=>{const K=fi(L),ae=Jt(D,K);return A=ae.registrationPromise,ae.installationEntry});return""===R.fid?{installationEntry:yield A}:{installationEntry:R,registrationPromise:A}})).apply(this,arguments)}function fi(D){return At(D||{fid:Et(),registrationStatus:0})}function Jt(D,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(ce.create("app-offline"))};const R={fid:A.fid,registrationStatus:1,registrationTime:Date.now()},L=function(D,A){return lt.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:L}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:Vu(D)}:{installationEntry:A}}function lt(){return(lt=(0,F.Z)(function*(D,A){try{return rt(D,yield Fe(D,A))}catch(R){throw De(R)&&409===R.customData.serverCode?yield zi(D):yield rt(D,{fid:A.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Vu(D){return to.apply(this,arguments)}function to(){return(to=(0,F.Z)(function*(D){let A=yield nn(D);for(;1===A.registrationStatus;)yield St(100),A=yield nn(D);if(0===A.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield Lt(D);return L||R}return A})).apply(this,arguments)}function nn(D){return dt(D,A=>{if(!A)throw ce.create("installation-not-found");return At(A)})}function At(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Bu(D,A){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*({appConfig:D,platformLoggerProvider:A},R){const L=B(D,R),K=ft(D,R),ae=A.getImmediate({optional:!0});ae&&K.append("x-firebase-client",ae.getPlatformInfoString());const Be={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q}})},Pe=yield te(()=>fetch(L,Be));if(Pe.ok)return ze(yield Pe.json());throw yield ke("Generate Auth Token",Pe)})).apply(this,arguments)}function B(D,{fid:A}){return`${ye(D)}/${A}/authTokens:generate`}function W(D){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,F.Z)(function*(D,A=!1){let R;const L=yield dt(D.appConfig,ae=>{if(!kn(ae))throw ce.create("not-registered");const Te=ae.authToken;if(!A&&pi(Te))return ae;if(1===Te.requestStatus)return R=ne(D,A),ae;{if(!navigator.onLine)throw ce.create("app-offline");const Be=_r(ae);return R=rn(D,Be),Be}});return R?yield R:L.authToken})).apply(this,arguments)}function ne(D,A){return Je.apply(this,arguments)}function Je(){return(Je=(0,F.Z)(function*(D,A){let R=yield pt(D.appConfig);for(;1===R.authToken.requestStatus;)yield St(100),R=yield pt(D.appConfig);const L=R.authToken;return 0===L.requestStatus?W(D,A):L})).apply(this,arguments)}function pt(D){return dt(D,A=>{if(!kn(A))throw ce.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function rn(D,A){return gr.apply(this,arguments)}function gr(){return(gr=(0,F.Z)(function*(D,A){try{const R=yield Bu(D,A),L=Object.assign(Object.assign({},A),{authToken:R});return yield rt(D.appConfig,L),R}catch(R){if(!De(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield rt(D.appConfig,L)}else yield zi(D.appConfig);throw R}})).apply(this,arguments)}function kn(D){return void 0!==D&&2===D.registrationStatus}function pi(D){return 2===D.requestStatus&&!function(D){const A=Date.now();return A<D.creationTime||D.creationTime+D.expiresIn<A+36e5}(D)}function _r(D){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:A})}function ul(){return(ul=(0,F.Z)(function*(D){const A=D,{installationEntry:R,registrationPromise:L}=yield Lt(A.appConfig);return L?L.catch(console.error):W(A).catch(console.error),R.fid})).apply(this,arguments)}function No(){return(No=(0,F.Z)(function*(D,A=!1){const R=D;return yield Uu(R.appConfig),(yield W(R,A)).token})).apply(this,arguments)}function Uu(D){return mn.apply(this,arguments)}function mn(){return(mn=(0,F.Z)(function*(D){const{registrationPromise:A}=yield Lt(D);A&&(yield A)})).apply(this,arguments)}function Wi(D){return ce.create("missing-app-config-values",{valueName:D})}const Wn="installations";(0,ue._registerComponent)(new ge.wA(Wn,D=>{const A=D.getProvider("app").getImmediate(),R=function(D){if(!D||!D.options)throw Wi("App Configuration");if(!D.name)throw Wi("App Name");const A=["projectId","apiKey","appId"];for(const R of A)if(!D.options[R])throw Wi(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(A);return{app:A,appConfig:R,platformLoggerProvider:(0,ue._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",D=>{const A=D.getProvider("app").getImmediate(),R=(0,ue._getProvider)(A,Wn).getImmediate();return{getId:()=>function(D){return ul.apply(this,arguments)}(R),getToken:K=>function(D){return No.apply(this,arguments)}(R,K)}},"PRIVATE")),(0,ue.registerVersion)(de,$),(0,ue.registerVersion)(de,$,"esm2017");const vt="@firebase/remote-config",on=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fp{constructor(A,R,L,K){this.client=A,this.storage=R,this.storageCache=L,this.logger=K}isCachedDataFresh(A,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,K=L<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${K}.`),K}fetch(A){var R=this;return(0,F.Z)(function*(){const[L,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(A.cacheMaxAgeMillis,L))return K;A.eTag=K&&K.eTag;const ae=yield R.client.fetch(A),Te=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ae.status&&Te.push(R.storage.setLastSuccessfulFetchResponse(ae)),yield Promise.all(Te),ae})()}}function d_(D=navigator){return D.languages&&D.languages[0]||D.language}class Yi{constructor(A,R,L,K,ae,Te){this.firebaseInstallations=A,this.sdkVersion=R,this.namespace=L,this.projectId=K,this.apiKey=ae,this.appId=Te}fetch(A){var R=this;return(0,F.Z)(function*(){const[L,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},Pe={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:R.appId,language_code:d_()},Gt={method:"POST",headers:Be,body:JSON.stringify(Pe)},un=fetch(Te,Gt),Hn=new Promise((Kn,Li)=>{A.signal.addEventListener(()=>{const Pr=new Error("The operation was aborted.");Pr.name="AbortError",Li(Pr)})});let Yn;try{yield Promise.race([un,Hn]),Yn=yield un}catch(Kn){let Li="fetch-client-network";throw"AbortError"===Kn.name&&(Li="fetch-timeout"),on.create(Li,{originalErrorMessage:Kn.message})}let dr=Yn.status;const go=Yn.headers.get("ETag")||void 0;let Ua,rs;if(200===Yn.status){let Kn;try{Kn=yield Yn.json()}catch(Li){throw on.create("fetch-client-parse",{originalErrorMessage:Li.message})}Ua=Kn.entries,rs=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===rs?dr=500:"NO_CHANGE"===rs?dr=304:("NO_TEMPLATE"===rs||"EMPTY_CONFIG"===rs)&&(Ua={}),304!==dr&&200!==dr)throw on.create("fetch-status",{httpStatus:dr});return{status:dr,eTag:go,config:Ua}})()}}class qh{constructor(A,R){this.client=A,this.storage=R}fetch(A){var R=this;return(0,F.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(A,L)})()}attemptFetch(A,{throttleEndTimeMillis:R,backoffCount:L}){var K=this;return(0,F.Z)(function*(){yield function(D,A){return new Promise((R,L)=>{const K=Math.max(A-Date.now(),0),ae=setTimeout(R,K);D.addEventListener(()=>{clearTimeout(ae),L(on.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,R);try{const ae=yield K.client.fetch(A);return yield K.storage.deleteThrottleMetadata(),ae}catch(ae){if(!function(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}(ae))throw ae;const Te={throttleEndTimeMillis:Date.now()+(0,ie.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(Te),K.attemptFetch(A,Te)}})()}}class h_{constructor(A,R,L,K,ae){this.app=A,this._client=R,this._storageCache=L,this._storage=K,this._logger=ae,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pl(D,A){const R=D.target.error||void 0;return on.create(A,{originalErrorMessage:R&&R.message})}const wa="app_namespace_store";class f_{constructor(A,R,L,K=function(){return new Promise((D,A)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{A(pl(L,"storage-open"))},R.onsuccess=L=>{D(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(wa,{keyPath:"compositeKey"})}}catch(R){A(on.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=A,this.appName=R,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var R=this;return(0,F.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ae)=>{const Be=L.transaction([wa],"readonly").objectStore(wa),Pe=R.createCompositeKey(A);try{const Gt=Be.get(Pe);Gt.onerror=un=>{ae(pl(un,"storage-get"))},Gt.onsuccess=un=>{const Hn=un.target.result;K(Hn?Hn.value:void 0)}}catch(Gt){ae(on.create("storage-get",{originalErrorMessage:Gt&&Gt.message}))}})})()}set(A,R){var L=this;return(0,F.Z)(function*(){const K=yield L.openDbPromise;return new Promise((ae,Te)=>{const Pe=K.transaction([wa],"readwrite").objectStore(wa),Gt=L.createCompositeKey(A);try{const un=Pe.put({compositeKey:Gt,value:R});un.onerror=Hn=>{Te(pl(Hn,"storage-set"))},un.onsuccess=()=>{ae()}}catch(un){Te(on.create("storage-set",{originalErrorMessage:un&&un.message}))}})})()}delete(A){var R=this;return(0,F.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ae)=>{const Be=L.transaction([wa],"readwrite").objectStore(wa),Pe=R.createCompositeKey(A);try{const Gt=Be.delete(Pe);Gt.onerror=un=>{ae(pl(un,"storage-delete"))},Gt.onsuccess=()=>{K()}}catch(Gt){ae(on.create("storage-delete",{originalErrorMessage:Gt&&Gt.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class zh{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,F.Z)(function*(){const R=A.storage.getLastFetchStatus(),L=A.storage.getLastSuccessfulFetchTimestampMillis(),K=A.storage.getActiveConfig(),ae=yield R;ae&&(A.lastFetchStatus=ae);const Te=yield L;Te&&(A.lastSuccessfulFetchTimestampMillis=Te);const Be=yield K;Be&&(A.activeConfig=Be)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function ml(){return $u.apply(this,arguments)}function $u(){return($u=(0,F.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,ue._registerComponent)(new ge.wA("remote-config",function(A,{instanceIdentifier:R}){const L=A.getProvider("app").getImmediate(),K=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw on.create("registration-window");if(!(0,ie.hl)())throw on.create("indexed-db-unavailable");const{projectId:ae,apiKey:Te,appId:Be}=L.options;if(!ae)throw on.create("registration-project-id");if(!Te)throw on.create("registration-api-key");if(!Be)throw on.create("registration-app-id");const Pe=new f_(Be,L.name,R=R||"firebase"),Gt=new zh(Pe),un=new J.Yd(vt);un.logLevel=J.in.ERROR;const Hn=new Yi(K,ue.SDK_VERSION,R,ae,Te,Be),Yn=new qh(Hn,Pe),dr=new Fp(Yn,Pe,Gt,un),go=new h_(L,dr,Gt,Pe,un);return function(D){const A=(0,ie.m9)(D);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(go),go},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(vt,"0.3.3"),(0,ue.registerVersion)(vt,"0.3.3","esm2017");const Gh="/firebase-messaging-sw.js",m_="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",so="google.c.a.c_id",Da="google.c.a.c_l",oo="google.c.a.ts",ys="google.c.a.e";var vr=(()=>{return(D=vr||(vr={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",vr;var D})();function Ls(D){const A=new Uint8Array(D);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),K=new Uint8Array(L.length);for(let ae=0;ae<L.length;++ae)K[ae]=L.charCodeAt(ae);return K}const zu="fcm_token_details_db",Zh="fcm_token_object_Store";function Gu(D){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,F.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ae=>ae.name).includes(zu))return null;let A=null;return(yield(0,se.openDb)(zu,5,function(){var L=(0,F.Z)(function*(K){var ae;if(K.oldVersion<2||!K.objectStoreNames.contains(Zh))return;const Te=K.transaction.objectStore(Zh),Be=yield Te.index("fcmSenderId").get(D);if(yield Te.clear(),Be)if(2===K.oldVersion){const Pe=Be;if(!Pe.auth||!Pe.p256dh||!Pe.endpoint)return;A={token:Pe.fcmToken,createTime:null!==(ae=Pe.createTime)&&void 0!==ae?ae:Date.now(),subscriptionOptions:{auth:Pe.auth,p256dh:Pe.p256dh,endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:"string"==typeof Pe.vapidKey?Pe.vapidKey:Ls(Pe.vapidKey)}}}else if(3===K.oldVersion){const Pe=Be;A={token:Pe.fcmToken,createTime:Pe.createTime,subscriptionOptions:{auth:Ls(Pe.auth),p256dh:Ls(Pe.p256dh),endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:Ls(Pe.vapidKey)}}}else if(4===K.oldVersion){const Pe=Be;A={token:Pe.fcmToken,createTime:Pe.createTime,subscriptionOptions:{auth:Ls(Pe.auth),p256dh:Ls(Pe.p256dh),endpoint:Pe.endpoint,swScope:Pe.swScope,vapidKey:Ls(Pe.vapidKey)}}}});return function(K){return L.apply(this,arguments)}}())).close(),yield(0,se.deleteDb)(zu),yield(0,se.deleteDb)("fcm_vapid_details_db"),yield(0,se.deleteDb)("undefined"),Up(A)?A:null}),Cc.apply(this,arguments)}function Up(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:A}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const ln="firebase-messaging-store";let Wu=null;function Vo(){return Wu||(Wu=(0,se.openDb)("firebase-messaging-database",1,D=>{0===D.oldVersion&&D.createObjectStore(ln)})),Wu}function Un(D){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,F.Z)(function*(D){const A=Uo(D),L=yield(yield Vo()).transaction(ln).objectStore(ln).get(A);if(L)return L;{const K=yield Gu(D.appConfig.senderId);if(K)return yield Wr(D,K),K}})).apply(this,arguments)}function Wr(D,A){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,F.Z)(function*(D,A){const R=Uo(D),K=(yield Vo()).transaction(ln,"readwrite");return yield K.objectStore(ln).put(A,R),yield K.complete,A})).apply(this,arguments)}function jn(D){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,F.Z)(function*(D){const A=Uo(D),L=(yield Vo()).transaction(ln,"readwrite");yield L.objectStore(ln).delete(A),yield L.complete})).apply(this,arguments)}function Uo({appConfig:D}){return D.appId}const sn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vs(D,A){return yl.apply(this,arguments)}function yl(){return(yl=(0,F.Z)(function*(D,A){const R=yield Yu(D),L=Dc(A),K={method:"POST",headers:R,body:JSON.stringify(L)};let ae;try{ae=yield(yield fetch(tt(D.appConfig),K)).json()}catch(Te){throw sn.create("token-subscribe-failed",{errorInfo:Te})}if(ae.error)throw sn.create("token-subscribe-failed",{errorInfo:ae.error.message});if(!ae.token)throw sn.create("token-subscribe-no-token");return ae.token})).apply(this,arguments)}function wc(D,A){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(D,A){const R=yield Yu(D),L=Dc(A.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(L)};let ae;try{ae=yield(yield fetch(`${tt(D.appConfig)}/${A.token}`,K)).json()}catch(Te){throw sn.create("token-update-failed",{errorInfo:Te})}if(ae.error)throw sn.create("token-update-failed",{errorInfo:ae.error.message});if(!ae.token)throw sn.create("token-update-no-token");return ae.token})).apply(this,arguments)}function Zu(D,A){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,F.Z)(function*(D,A){const L={method:"DELETE",headers:yield Yu(D)};try{const ae=yield(yield fetch(`${tt(D.appConfig)}/${A}`,L)).json();if(ae.error)throw sn.create("token-unsubscribe-failed",{errorInfo:ae.error.message})}catch(K){throw sn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function tt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Yu(D){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,F.Z)(function*({appConfig:D,installations:A}){const R=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Dc({p256dh:D,auth:A,endpoint:R,vapidKey:L}){const K={web:{endpoint:R,auth:A,p256dh:D}};return L!==_s&&(K.web.applicationPubKey=L),K}const vl=6048e5;function Qu(D){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,F.Z)(function*(D){const A=yield Ho(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:A.endpoint,auth:Ls(A.getKey("auth")),p256dh:Ls(A.getKey("p256dh"))},L=yield Un(D.firebaseDependencies);if(L){if(bl(L.subscriptionOptions,R))return Date.now()>=L.createTime+vl?Bt(D,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield Zu(D.firebaseDependencies,L.token)}catch(K){console.warn(K)}return gn(D.firebaseDependencies,R)}return gn(D.firebaseDependencies,R)})).apply(this,arguments)}function Yh(D){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,F.Z)(function*(D){const A=yield Un(D.firebaseDependencies);A&&(yield Zu(D.firebaseDependencies,A.token),yield jn(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Bt(D,A){return vs.apply(this,arguments)}function vs(){return(vs=(0,F.Z)(function*(D,A){try{const R=yield wc(D.firebaseDependencies,A),L=Object.assign(Object.assign({},A),{token:R,createTime:Date.now()});return yield Wr(D.firebaseDependencies,L),R}catch(R){throw yield Yh(D),R}})).apply(this,arguments)}function gn(D,A){return ao.apply(this,arguments)}function ao(){return(ao=(0,F.Z)(function*(D,A){const L={token:yield Vs(D,A),createTime:Date.now(),subscriptionOptions:A};return yield Wr(D,L),L.token})).apply(this,arguments)}function Ho(D,A){return er.apply(this,arguments)}function er(){return(er=(0,F.Z)(function*(D,A){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gl(A)})})).apply(this,arguments)}function bl(D,A){return A.vapidKey===D.vapidKey&&A.endpoint===D.endpoint&&A.auth===D.auth&&A.p256dh===D.p256dh}function lo(D){const A={from:D.from,collapseKey:D.collapse_key,messageId:D.fcm_message_id};return function(D,A){if(!A.notification)return;D.notification={};const R=A.notification.title;R&&(D.notification.title=R);const L=A.notification.body;L&&(D.notification.body=L);const K=A.notification.image;K&&(D.notification.image=K)}(A,D),function(D,A){!A.data||(D.data=A.data)}(A,D),function(D,A){if(!A.fcmOptions)return;D.fcmOptions={};const R=A.fcmOptions.link;R&&(D.fcmOptions.link=R);const L=A.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(A,D),A}function Ta(D){return"object"==typeof D&&!!D&&so in D}function ar(D,A){const R=[];for(let L=0;L<D.length;L++)R.push(D.charAt(L)),L<A.length&&R.push(A.charAt(L));return R.join("")}function Tc(D){return sn.create("missing-app-config-values",{valueName:D})}ar("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ar("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xi{constructor(A,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function(D){if(!D||!D.options)throw Tc("App Configuration Object");if(!D.name)throw Tc("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const L of A)if(!R[L])throw Tc(L);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:K,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function es(D){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,F.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Gh,{scope:m_}),D.swRegistration.update().catch(()=>{})}catch(A){throw sn.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function co(D,A){return qo.apply(this,arguments)}function qo(){return(qo=(0,F.Z)(function*(D,A){if(!A&&!D.swRegistration&&(yield es(D)),A||!D.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw sn.create("invalid-sw-registration");D.swRegistration=A}})).apply(this,arguments)}function Mc(D,A){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,F.Z)(function*(D,A){A?D.vapidKey=A:D.vapidKey||(D.vapidKey=_s)})).apply(this,arguments)}function xc(){return(xc=(0,F.Z)(function*(D,A){if(!navigator)throw sn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw sn.create("permission-blocked");return yield Mc(D,null==A?void 0:A.vapidKey),yield co(D,null==A?void 0:A.serviceWorkerRegistration),Qu(D)})).apply(this,arguments)}function El(D,A,R){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,F.Z)(function*(D,A,R){const L=xa(A);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[so],message_name:R[Da],message_time:R[oo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xa(D){switch(D){case vr.NOTIFICATION_CLICKED:return"notification_open";case vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ra(){return(Ra=(0,F.Z)(function*(D,A){const R=A.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===vr.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(lo(R)):D.onMessageHandler.next(lo(R)));const L=R.data;Ta(L)&&"1"===L[ys]&&(yield El(D,R.messageType,L))})).apply(this,arguments)}const Xu="@firebase/messaging";function ed(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,ie.hl)()&&(yield(0,ie.eu)())&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ue._registerComponent)(new ge.wA("messaging",D=>{const A=new Xi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(D,A){return Ra.apply(this,arguments)}(A,R)),A},"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",D=>{const A=D.getProvider("messaging").getImmediate();return{getToken:L=>function(D,A){return xc.apply(this,arguments)}(A,L)}},"PRIVATE")),(0,ue.registerVersion)(Xu,"0.9.4"),(0,ue.registerVersion)(Xu,"0.9.4","esm2017");const Bs="analytics",Rc="firebase_id",rd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hp="https://www.googletagmanager.com/gtag/js",_n=new J.Yd("@firebase/analytics");function Na(D){return Promise.all(D.map(A=>A.catch(R=>R)))}function qp(D,A){const R=document.createElement("script");R.src=`${Hp}?l=${D}&id=${A}`,R.async=!0,document.head.appendChild(R)}function Fa(D,A,R,L,K,ae){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,F.Z)(function*(D,A,R,L,K,ae){const Te=L[K];try{if(Te)yield A[Te];else{const Pe=(yield Na(R)).find(Gt=>Gt.measurementId===K);Pe&&(yield A[Pe.appId])}}catch(Be){_n.error(Be)}D("config",K,ae)})).apply(this,arguments)}function Il(D,A,R,L,K){return sd.apply(this,arguments)}function sd(){return(sd=(0,F.Z)(function*(D,A,R,L,K){try{let ae=[];if(K&&K.send_to){let Te=K.send_to;Array.isArray(Te)||(Te=[Te]);const Be=yield Na(R);for(const Pe of Te){const Gt=Be.find(Hn=>Hn.measurementId===Pe),un=Gt&&A[Gt.appId];if(!un){ae=[];break}ae.push(un)}}0===ae.length&&(ae=Object.values(A)),yield Promise.all(ae),D("event",L,K||{})}catch(ae){_n.error(ae)}})).apply(this,arguments)}function Oc(){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Hp))return A;return null}const lr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Al=new class{constructor(A={},R=1e3){this.throttleMetadata=A,this.intervalMillis=R}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,R){this.throttleMetadata[A]=R}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function C_(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Nc(D){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(D){var A;const{appId:R,apiKey:L}=D,K={method:"GET",headers:C_(L)},ae=rd.replace("{app-id}",R),Te=yield fetch(ae,K);if(200!==Te.status&&304!==Te.status){let Be="";try{const Pe=yield Te.json();(null===(A=Pe.error)||void 0===A?void 0:A.message)&&(Be=Pe.error.message)}catch(Pe){}throw lr.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Be})}return Te.json()})).apply(this,arguments)}function Tl(D){return Go.apply(this,arguments)}function Go(){return(Go=(0,F.Z)(function*(D,A=Al,R){const{appId:L,apiKey:K,measurementId:ae}=D.options;if(!L)throw lr.create("no-app-id");if(!K){if(ae)return{measurementId:ae,appId:L};throw lr.create("no-api-key")}const Te=A.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new bs;return setTimeout((0,F.Z)(function*(){Be.abort()}),void 0!==R?R:6e4),Lc({appId:L,apiKey:K,measurementId:ae},Te,Be,A)})).apply(this,arguments)}function Lc(D,A,R){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,F.Z)(function*(D,{throttleEndTimeMillis:A,backoffCount:R},L,K=Al){const{appId:ae,measurementId:Te}=D;try{yield E_(L,A)}catch(Be){if(Te)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ae,measurementId:Te};throw Be}try{const Be=yield Nc(D);return K.deleteThrottleMetadata(ae),Be}catch(Be){if(!yn(Be)){if(K.deleteThrottleMetadata(ae),Te)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:ae,measurementId:Te};throw Be}const Pe=503===Number(Be.customData.httpStatus)?(0,ie.$s)(R,K.intervalMillis,30):(0,ie.$s)(R,K.intervalMillis),Gt={throttleEndTimeMillis:Date.now()+Pe,backoffCount:R+1};return K.setThrottleMetadata(ae,Gt),_n.debug(`Calling attemptFetch again in ${Pe} millis`),Lc(D,Gt,L,K)}})).apply(this,arguments)}function E_(D,A){return new Promise((R,L)=>{const K=Math.max(A-Date.now(),0),ae=setTimeout(R,K);D.addEventListener(()=>{clearTimeout(ae),L(lr.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function yn(D){if(!(D instanceof ie.ZR&&D.customData))return!1;const A=Number(D.customData.httpStatus);return 429===A||500===A||503===A||504===A}class bs{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function Xe(){return gt.apply(this,arguments)}function gt(){return(gt=(0,F.Z)(function*(){if(!(0,ie.hl)())return _n.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(D){return _n.warn(lr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,F.Z)(function*(D,A,R,L,K,ae,Te){var Be;const Pe=Tl(D);Pe.then(dr=>{R[dr.measurementId]=dr.appId,D.options.measurementId&&dr.measurementId!==D.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${dr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dr=>_n.error(dr)),A.push(Pe);const Gt=Xe().then(dr=>{if(dr)return L.getId()}),[un,Hn]=yield Promise.all([Pe,Gt]);Oc()||qp(ae,un.measurementId),K("js",new Date);const Yn=null!==(Be=null==Te?void 0:Te.config)&&void 0!==Be?Be:{};return Yn.origin="firebase",Yn.update=!0,null!=Hn&&(Yn[Rc]=Hn),K("config",un.measurementId,Yn),un.measurementId})).apply(this,arguments)}class Xh{constructor(A){this.app=A}_delete(){return delete Cs[this.app.options.appId],Promise.resolve()}}let Cs={},od=[];const ad={};let xl,Ye,Sl="dataLayer",Wo=!1;function ld(D,A,R){!function(){const D=[];if((0,ie.ru)()&&D.push("This is a browser extension environment."),(0,ie.zI)()||D.push("Cookies are not available."),D.length>0){const A=D.map((L,K)=>`(${K+1}) ${L}`).join(" "),R=lr.create("invalid-analytics-context",{errorInfo:A});_n.warn(R.message)}}();const L=D.options.appId;if(!L)throw lr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw lr.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cs[L])throw lr.create("already-exists",{id:L});if(!Wo){!function(D){let A=[];Array.isArray(window[D])?A=window[D]:window[D]=A}(Sl);const{wrappedGtag:ae,gtagCore:Te}=function(D,A,R,L,K){let ae=function(...Te){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ae=window[K]),window[K]=function(D,A,R,L){function ae(){return(ae=(0,F.Z)(function*(Te,Be,Pe){try{"event"===Te?yield Il(D,A,R,Be,Pe):"config"===Te?yield Fa(D,A,R,L,Be,Pe):D("set",Be)}catch(Gt){_n.error(Gt)}})).apply(this,arguments)}return function(Te,Be,Pe){return ae.apply(this,arguments)}}(ae,D,A,R),{gtagCore:ae,wrappedGtag:window[K]}}(Cs,od,ad,Sl,"gtag");Ye=ae,xl=Te,Wo=!0}return Cs[L]=function(D,A,R,L,K,ae,Te){return vn.apply(this,arguments)}(D,od,ad,A,xl,Sl,R),new Xh(D)}function Bc(){return(Bc=(0,F.Z)(function*(D,A,R,L,K){if(K&&K.global)D("event",R,L);else{const ae=yield A;D("event",R,Object.assign(Object.assign({},L),{send_to:ae}))}})).apply(this,arguments)}function Es(){return cr.apply(this,arguments)}function cr(){return(cr=(0,F.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(D){return!1}})).apply(this,arguments)}const _i="@firebase/analytics";(0,ue._registerComponent)(new ge.wA(Bs,(A,{options:R})=>ld(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function(A){try{const R=A.getProvider(Bs).getImmediate();return{logEvent:(L,K,ae)=>function(D,A,R,L){D=(0,ie.m9)(D),function(D,A,R,L,K){return Bc.apply(this,arguments)}(Ye,Cs[D.app.options.appId],A,R,L).catch(K=>_n.error(K))}(R,L,K,ae)}}catch(R){throw lr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(_i,"0.7.4"),(0,ue.registerVersion)(_i,"0.7.4","esm2017");var Pi=P(2869),Cr=P(8843);const Hs=new class extends Cr.v{}(class extends Pi.o{constructor(A,R){super(A,R),this.scheduler=A,this.work=R}schedule(A,R=0){return R>0?super.schedule(A,R):(this.delay=R,this.state=A,this.scheduler.flush(this),this)}execute(A,R){return R>0||this.closed?super.execute(A,R):this._execute(A,R)}requestAsyncId(A,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(A,R,L):A.flush(this)}});var zp=P(2210),tf=P(7384),Yr=P(5222),ws=P(4763);const Ds=new c.GfV("7.2.0"),Ni="__angularfire_symbol__analyticsIsSupported",Ba="__angularfire_symbol__remoteConfigIsSupported",jc="__angularfire_symbol__messagingIsSupported";function Zo(D,A,R){if(A){if(1===A.length)return A[0];const ae=A.filter(Te=>Te.app===R);if(1===ae.length)return ae[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ni]||(globalThis[Ni]=Es().then(D=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=D)),globalThis[jc]||(globalThis[jc]=ed().then(D=>globalThis.__angularfire_symbol__messagingIsSupportedValue=D)),globalThis[Ba]||(globalThis[Ba]=ml().then(D=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=D));const D_=(D,A)=>{const R=A?[A]:(0,X.C6)(),L=[];return R.forEach(K=>{K.container.getProvider(D).instances.forEach(Te=>{L.includes(Te)||L.push(Te)})}),L};function $s(){}class Hc{constructor(A,R=Hs){this.zone=A,this.delegate=R}now(){return this.delegate.now()}schedule(A,R,L){const K=this.zone;return this.delegate.schedule(function(Te){K.runGuarded(()=>{A.apply(this,[Te])})},R,L)}}class dd{constructor(A){this.zone=A,this.task=null}call(A,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$s,{},$s,$s)),R.pipe((0,tf.b)({next:L,complete:L,error:L})).subscribe(A).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wp=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Hc(Zone.current)),this.insideAngular=R.run(()=>new Hc(Zone.current,zp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function zs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Gs(D){return zs(),function(D){return function(R){return(R=R.lift(new dd(D.ngZone))).pipe((0,Yr.R)(D.outsideAngular),(0,ws.Q)(D.insideAngular))}}(zs())(D)}},4213:(Ke,_e,P)=>{"use strict";P.d(_e,{BH:()=>je,LL:()=>me,ZR:()=>Fe,zI:()=>he,US:()=>ge,tV:()=>de,$s:()=>nn,r3:()=>hn,Sg:()=>Ie,ne:()=>or,vZ:()=>zt,ZB:()=>q,pd:()=>ps,m9:()=>Bu,z$:()=>$e,jU:()=>Y,ru:()=>ce,d:()=>ye,xb:()=>Mn,w1:()=>ze,hl:()=>ft,uI:()=>Ue,UG:()=>le,b$:()=>De,G6:()=>Qe,Mn:()=>ke,xO:()=>ba,zd:()=>$i,eu:()=>te});const ue=function(z){const B=[];let W=0;for(let Ee=0;Ee<z.length;Ee++){let ne=z.charCodeAt(Ee);ne<128?B[W++]=ne:ne<2048?(B[W++]=ne>>6|192,B[W++]=63&ne|128):55296==(64512&ne)&&Ee+1<z.length&&56320==(64512&z.charCodeAt(Ee+1))?(ne=65536+((1023&ne)<<10)+(1023&z.charCodeAt(++Ee)),B[W++]=ne>>18|240,B[W++]=ne>>12&63|128,B[W++]=ne>>6&63|128,B[W++]=63&ne|128):(B[W++]=ne>>12|224,B[W++]=ne>>6&63|128,B[W++]=63&ne|128)}return B},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,B){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ne=0;ne<z.length;ne+=3){const Je=z[ne],pt=ne+1<z.length,rn=pt?z[ne+1]:0,gr=ne+2<z.length,kn=gr?z[ne+2]:0;let _r=(15&rn)<<2|kn>>6,Po=63&kn;gr||(Po=64,pt||(_r=64)),Ee.push(W[Je>>2],W[(3&Je)<<4|rn>>4],W[_r],W[Po])}return Ee.join("")},encodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(z):this.encodeByteArray(ue(z),B)},decodeString(z,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(z):function(z){const B=[];let W=0,Ee=0;for(;W<z.length;){const ne=z[W++];if(ne<128)B[Ee++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Je=z[W++];B[Ee++]=String.fromCharCode((31&ne)<<6|63&Je)}else if(ne>239&&ne<365){const gr=((7&ne)<<18|(63&z[W++])<<12|(63&z[W++])<<6|63&z[W++])-65536;B[Ee++]=String.fromCharCode(55296+(gr>>10)),B[Ee++]=String.fromCharCode(56320+(1023&gr))}else{const Je=z[W++],pt=z[W++];B[Ee++]=String.fromCharCode((15&ne)<<12|(63&Je)<<6|63&pt)}}return B.join("")}(this.decodeStringToByteArray(z,B))},decodeStringToByteArray(z,B){this.init_();const W=B?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ne=0;ne<z.length;){const Je=W[z.charAt(ne++)],rn=ne<z.length?W[z.charAt(ne)]:0;++ne;const kn=ne<z.length?W[z.charAt(ne)]:64;++ne;const jt=ne<z.length?W[z.charAt(ne)]:64;if(++ne,null==Je||null==rn||null==kn||null==jt)throw Error();Ee.push(Je<<2|rn>>4),64!==kn&&(Ee.push(rn<<4&240|kn>>2),64!==jt&&Ee.push(kn<<6&192|jt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},se=function(z){return function(z){const B=ue(z);return ge.encodeByteArray(B,!0)}(z).replace(/\./g,"")},de=function(z){try{return ge.decodeString(z,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function q(z,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return B}for(const W in B)!B.hasOwnProperty(W)||!Q(W)||(z[W]=q(z[W],B[W]));return z}function Q(z){return"__proto__"!==z}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,W)=>{this.resolve=B,this.reject=W})}wrapCallback(B){return(W,Ee)=>{W?this.reject(W):this.resolve(Ee),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(W):B(W,Ee))}}}function Ie(z,B){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=B||"demo-project",ne=z.iat||0,Je=z.sub||z.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ne,exp:ne+3600,auth_time:ne,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},z);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(pt)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Y(){return"object"==typeof self&&self.self===self}function ce(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return $e().indexOf("Electron/")>=0}function ze(){const z=$e();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ke(){return $e().indexOf("MSAppHost/")>=0}function Qe(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ft(){return"object"==typeof indexedDB}function te(){return new Promise((z,B)=>{try{let W=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(Ee);ne.onsuccess=()=>{ne.result.close(),W||self.indexedDB.deleteDatabase(Ee),z(!0)},ne.onupgradeneeded=()=>{W=!1},ne.onerror=()=>{var Je;B((null===(Je=ne.error)||void 0===Je?void 0:Je.message)||"")}}catch(W){B(W)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor(B,W,Ee){super(W),this.code=B,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(B,W,Ee){this.service=B,this.serviceName=W,this.errors=Ee}create(B,...W){const Ee=W[0]||{},ne=`${this.service}/${B}`,Je=this.errors[B],pt=Je?function(z,B){return z.replace(Kt,(W,Ee)=>{const ne=B[Ee];return null!=ne?String(ne):`<${Ee}?>`})}(Je,Ee):"Error";return new Fe(ne,`${this.serviceName}: ${pt} (${ne}).`,Ee)}}const Kt=/\{\$([^}]+)}/g;function hn(z,B){return Object.prototype.hasOwnProperty.call(z,B)}function Mn(z){for(const B in z)if(Object.prototype.hasOwnProperty.call(z,B))return!1;return!0}function zt(z,B){if(z===B)return!0;const W=Object.keys(z),Ee=Object.keys(B);for(const ne of W){if(!Ee.includes(ne))return!1;const Je=z[ne],pt=B[ne];if(xn(Je)&&xn(pt)){if(!zt(Je,pt))return!1}else if(Je!==pt)return!1}for(const ne of Ee)if(!W.includes(ne))return!1;return!0}function xn(z){return null!==z&&"object"==typeof z}function ba(z){const B=[];for(const[W,Ee]of Object.entries(z))Array.isArray(Ee)?Ee.forEach(ne=>{B.push(encodeURIComponent(W)+"="+encodeURIComponent(ne))}):B.push(encodeURIComponent(W)+"="+encodeURIComponent(Ee));return B.length?"&"+B.join("&"):""}function $i(z){const B={};return z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ne,Je]=Ee.split("=");B[decodeURIComponent(ne)]=decodeURIComponent(Je)}}),B}function ps(z){const B=z.indexOf("?");if(!B)return"";const W=z.indexOf("#",B);return z.substring(B,W>0?W:void 0)}function or(z,B){const W=new Gn(z,B);return W.subscribe.bind(W)}class Gn{constructor(B,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{B(this)}).catch(Ee=>{this.error(Ee)})}next(B){this.forEachObserver(W=>{W.next(B)})}error(B){this.forEachObserver(W=>{W.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,W,Ee){let ne;if(void 0===B&&void 0===W&&void 0===Ee)throw new Error("Missing Observer.");ne=function(z,B){if("object"!=typeof z||null===z)return!1;for(const W of["next","error","complete"])if(W in z&&"function"==typeof z[W])return!0;return!1}(B)?B:{next:B,error:W,complete:Ee},void 0===ne.next&&(ne.next=zi),void 0===ne.error&&(ne.error=zi),void 0===ne.complete&&(ne.complete=zi);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch(pt){}}),this.observers.push(ne),Je}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,B)}sendOne(B,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{W(this.observers[B])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zi(){}function nn(z,B=1e3,W=2){const Ee=B*Math.pow(W,z),ne=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+ne)}function Bu(z){return z&&z._delegate?z._delegate:z}},7713:(Ke,_e,P)=>{"use strict";P.d(_e,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=P(1572);(0,c.registerVersion)("firebase","9.6.0","app")},7892:(Ke,_e,P)=>{"use strict";P.d(_e,{Z:()=>c.Z});var c=P(6293);c.Z.registerVersion("firebase","9.6.0","app-compat")},9777:(Ke,_e,P)=>{"use strict";P.r(_e);var c=P(8239),X=P(6293),F=P(4213),ue=P(1572);function se(y,p){var g={};for(var C in y)Object.prototype.hasOwnProperty.call(y,C)&&p.indexOf(C)<0&&(g[C]=y[C]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(C=Object.getOwnPropertySymbols(y);T<C.length;T++)p.indexOf(C[T])<0&&Object.prototype.propertyIsEnumerable.call(y,C[T])&&(g[C[T]]=y[C[T]])}return g}var Fe=P(3855),me=P(1177);const qr=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},di=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hn=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mn=new Fe.Yd("@firebase/auth");function sr(y,...p){Mn.logLevel<=Fe.in.ERROR&&Mn.error(`Auth (${ue.SDK_VERSION}): ${y}`,...p)}function zt(y,...p){throw ps(y,...p)}function xn(y,...p){return ps(y,...p)}function ba(y,p,g){const C=Object.assign(Object.assign({},di()),{[p]:g});return new F.LL("auth","Firebase",C).create(p,{appName:y.name})}function $i(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&zt(y,"argument-error"),ba(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ps(y,...p){if("string"!=typeof y){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return hn.create(y,...p)}function Me(y,p,...g){if(!y)throw ps(p,...g)}function or(y){const p="INTERNAL ASSERTION FAILED: "+y;throw sr(p),new Error(p)}function Gn(y,p){y||or(p)}const rt=new Map;function Yt(y){Gn(y instanceof Function,"Expected a class definition");let p=rt.get(y);return p?(Gn(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,rt.set(y,p),p)}function dt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function mt(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Jt{constructor(p,g){this.shortDelay=p,this.longDelay=g,Gn(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ze(y,p){Gn(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class lt{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},to=new Jt(3e4,6e4);function nn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function At(y,p,g,C){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,p,g,C,T={}){return Bu(y,T,()=>{let x={},H={};C&&("GET"===p?H=C:x={body:JSON.stringify(C)});const re=(0,F.xO)(Object.assign({key:y.config.apiKey},H)).slice(1),Le=new(lt.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",y._getSdkClientVersion()),y.languageCode&&Le.set("X-Firebase-Locale",y.languageCode),lt.fetch()(Ee(y,y.config.apiHost,g,re),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},x))})})).apply(this,arguments)}function Bu(y,p,g){return z.apply(this,arguments)}function z(){return(z=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Vu),p);try{const T=new ne(y),x=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const H=yield x.json();if("needConfirmation"in H)throw Je(y,"account-exists-with-different-credential",H);if(x.ok&&!("errorMessage"in H))return H;{const re=x.ok?H.errorMessage:H.error.message,[Le,Oe]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Je(y,"credential-already-in-use",H);if("EMAIL_EXISTS"===Le)throw Je(y,"email-already-in-use",H);const it=C[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw ba(y,it,Oe);zt(y,it)}}catch(T){if(T instanceof F.ZR)throw T;zt(y,"network-request-failed")}})).apply(this,arguments)}function B(y,p,g,C){return W.apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(y,p,g,C,T={}){const x=yield At(y,p,g,C,T);return"mfaPendingCredential"in x&&zt(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Ee(y,p,g,C){const T=`${p}${g}?${C}`;return y.config.emulator?Ze(y.config,T):`${y.config.apiScheme}://${T}`}class ne{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(xn(this.auth,"timeout")),to.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Je(y,p,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const T=xn(y,p,C);return T.customData._tokenResponse=g,T}function rn(){return(rn=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function gr(y,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pi(y,p){return jt.apply(this,arguments)}function jt(){return(jt=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _r(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function ul(){return(ul=(0,c.Z)(function*(y,p=!1){const g=(0,F.m9)(y),C=yield g.getIdToken(p),T=No(C);Me(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,H=null==x?void 0:x.sign_in_provider;return{claims:T,token:C,authTime:_r(mc(T.auth_time)),issuedAtTime:_r(mc(T.iat)),expirationTime:_r(mc(T.exp)),signInProvider:H||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function mc(y){return 1e3*Number(y)}function No(y){const[p,g,C]=y.split(".");if(void 0===p||void 0===g||void 0===C)return sr("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,F.tV)(g);return T?JSON.parse(T):(sr("Failed to decode base64 JWT payload"),null)}catch(T){return sr("Caught error parsing JWT payload as JSON",T),null}}function mn(y,p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof F.ZR&&Mi(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Mi({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class yr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class xi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=_r(this.lastLoginAt),this.creationTime=_r(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function He(y){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(y){var p;const g=y.auth,C=yield y.getIdToken(),T=yield mn(y,pi(g,{idToken:C}));Me(null==T?void 0:T.users.length,g,"internal-error");const x=T.users[0];y._notifyReloadListener(x);const H=(null===(p=x.providerUserInfo)||void 0===p?void 0:p.length)?Wn(x.providerUserInfo):[],re=Wi(y.providerData,H),it=!!y.isAnonymous&&!(y.email&&x.passwordHash||(null==re?void 0:re.length)),nt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:re,metadata:new xi(x.createdAt,x.lastLoginAt),isAnonymous:it};Object.assign(y,nt)})).apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(y){const p=(0,F.m9)(y);yield He(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Wi(y,p){return[...y.filter(C=>!p.some(T=>T.providerId===C.providerId)),...p]}function Wn(y){return y.map(p=>{var{providerId:g}=p,C=se(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Tn(){return(Tn=(0,c.Z)(function*(y,p){const g=yield Bu(y,{},()=>{const C=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:x}=y.config,H=Ee(y,T,"/v1/token",`key=${x}`);return lt.fetch()(H,{method:"POST",headers:{"X-Client-Version":y._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:C})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Me(p.idToken,"internal-error"),Me(void 0!==p.idToken,"internal-error"),Me(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=No(y);return Me(p,"internal-error"),Me(void 0!==p.exp,"internal-error"),Me(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,c.Z)(function*(){return Me(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:H}=yield function(y,p){return Tn.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(T,x,Number(H))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:T,expirationTime:x}=g,H=new Zi;return C&&(Me("string"==typeof C,"internal-error",{appName:p}),H.refreshToken=C),T&&(Me("string"==typeof T,"internal-error",{appName:p}),H.accessToken=T),x&&(Me("number"==typeof x,"internal-error",{appName:p}),H.expirationTime=x),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Zi,this.toJSON())}_performRefresh(){return or("not implemented")}}function mi(y,p){Me("string"==typeof y||void 0===y,"internal-error",{appName:p})}class vt{constructor(p){var{uid:g,auth:C,stsTokenManager:T}=p,x=se(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.metadata=new xi(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const C=yield mn(g,g.stsTokenManager.getToken(g.auth,p));return Me(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function(y){return ul.apply(this,arguments)}(this,p)}reload(){return function(y){return Mr.apply(this,arguments)}(this)}_assign(p){this!==p&&(Me(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new vt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,c.Z)(function*(){let T=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield He(C)),yield C.auth._persistUserIfCurrent(C),T&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield mn(p,function(y,p){return rn.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,T,x,H,re,Le,Oe,it;const nt=null!==(C=g.displayName)&&void 0!==C?C:void 0,Ht=null!==(T=g.email)&&void 0!==T?T:void 0,nr=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Rn=null!==(H=g.photoURL)&&void 0!==H?H:void 0,eu=null!==(re=g.tenantId)&&void 0!==re?re:void 0,tu=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,$l=null!==(Oe=g.createdAt)&&void 0!==Oe?Oe:void 0,Md=null!==(it=g.lastLoginAt)&&void 0!==it?it:void 0,{uid:ea,emailVerified:Ga,isAnonymous:vm,providerData:xd,stsTokenManager:Y_}=g;Me(ea&&Y_,p,"internal-error");const kd=Zi.fromJSON(this.name,Y_);Me("string"==typeof ea,p,"internal-error"),mi(nt,p.name),mi(Ht,p.name),Me("boolean"==typeof Ga,p,"internal-error"),Me("boolean"==typeof vm,p,"internal-error"),mi(nr,p.name),mi(Rn,p.name),mi(eu,p.name),mi(tu,p.name),mi($l,p.name),mi(Md,p.name);const Cf=new vt({uid:ea,auth:p,email:Ht,emailVerified:Ga,displayName:nt,isAnonymous:vm,photoURL:Rn,phoneNumber:nr,tenantId:eu,stsTokenManager:kd,createdAt:$l,lastLoginAt:Md});return xd&&Array.isArray(xd)&&(Cf.providerData=xd.map(Ef=>Object.assign({},Ef))),tu&&(Cf._redirectEventId=tu),Cf}static _fromIdTokenResponse(p,g,C=!1){return(0,c.Z)(function*(){const T=new Zi;T.updateFromServerResponse(g);const x=new vt({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:C});return yield He(x),x})()}}const ki=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,C){var T=this;return(0,c.Z)(function*(){T.storage[g]=C})()}_get(g){var C=this;return(0,c.Z)(function*(){const T=C.storage[g];return void 0===T?null:T})()}_remove(g){var C=this;return(0,c.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function gi(y,p,g){return`firebase:${y}:${p}:${g}`}class Ri{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:T,name:x}=this.auth;this.fullUserKey=gi(this.userKey,T.apiKey,x),this.fullPersistenceKey=gi("persistence",T.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?vt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Ri(Yt(ki),p,C);const T=(yield Promise.all(g.map(function(){var Oe=(0,c.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let x=T[0]||Yt(ki);const H=gi(C,p.config.apiKey,p.name);let re=null;for(const Oe of g)try{const it=yield Oe._get(H);if(it){const nt=vt._fromJSON(p,it);Oe!==x&&(re=nt),x=Oe;break}}catch(it){}const Le=T.filter(Oe=>Oe._shouldAllowMigration);return x._shouldAllowMigration&&Le.length?(x=Le[0],re&&(yield x._set(H,re.toJSON())),yield Promise.all(g.map(function(){var Oe=(0,c.Z)(function*(it){if(it!==x)try{yield it._remove(H)}catch(nt){}});return function(it){return Oe.apply(this,arguments)}}())),new Ri(x,p,C)):new Ri(x,p,C)})()}}function on(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(an(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(dl(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ms(p))return"Blackberry";if(fl(p))return"Webos";if(no(p))return"Safari";if((p.includes("chrome/")||zr(p))&&!p.includes("edge/"))return"Chrome";if(hl(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function dl(y=(0,F.z$)()){return/firefox\//i.test(y)}function no(y=(0,F.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function zr(y=(0,F.z$)()){return/crios\//i.test(y)}function an(y=(0,F.z$)()){return/iemobile/i.test(y)}function hl(y=(0,F.z$)()){return/android/i.test(y)}function ms(y=(0,F.z$)()){return/blackberry/i.test(y)}function fl(y=(0,F.z$)()){return/webos/i.test(y)}function ro(y=(0,F.z$)()){return/iphone|ipad|ipod/i.test(y)}function Pn(y=(0,F.z$)()){return ro(y)||hl(y)||fl(y)||ms(y)||/windows phone/i.test(y)||an(y)}function Gr(y,p=[]){let g;switch(y){case"Browser":g=on((0,F.z$)());break;case"Worker":g=`${on((0,F.z$)())}-${y}`;break;default:g=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ue.SDK_VERSION}/${C}`}class gs{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fs(this),this.idTokenSubscription=new Fs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=Yt(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,x;C._deleted||(C.persistenceManager=yield Ri.create(C,p),!C._deleted&&((null===(T=C._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)&&(yield C._popupRedirectResolver._initialize(C)),yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(x=C.currentUser)||void 0===x?void 0:x.uid)||null,!C._deleted&&(C._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var C;let T=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const x=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,H=null==T?void 0:T._redirectEventId,re=yield g.tryRedirectSignIn(p);(!x||x===H)&&(null==re?void 0:re.user)&&(T=re.user)}return T?T._redirectEventId?(Me(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(T){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield He(p)}catch(C){if("auth/network-request-failed"!==C.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const C=p?(0,F.m9)(p):null;return C&&Me(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return p&&Me(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(Yt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,c.Z)(function*(){const T=yield C.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&Yt(p)||g._popupRedirectResolver;Me(C,g,"argument-error"),g.redirectPersistenceManager=yield Ri.create(g,[Yt(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var C,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,T){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(H,this,"internal-error"),H.then(()=>x(this.currentUser)),"function"==typeof g?p.addObserver(g,C,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Xn(y){return(0,F.m9)(y)}class Fs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Oi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function d_(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ea{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return or("not implemented")}_getIdTokenResponse(p){return or("not implemented")}_linkToIdToken(p,g){return or("not implemented")}_getReauthenticationResolver(p){return or("not implemented")}}function Lp(y,p){return qh.apply(this,arguments)}function qh(){return(qh=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:resetPassword",nn(y,p))})).apply(this,arguments)}function Vp(y,p){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function h_(y,p){return pl.apply(this,arguments)}function pl(){return(pl=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",nn(y,p))})).apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithPassword",nn(y,p))})).apply(this,arguments)}function Hu(y,p){return qu.apply(this,arguments)}function qu(){return(qu=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendOobCode",nn(y,p))})).apply(this,arguments)}function f_(y,p){return zh.apply(this,arguments)}function zh(){return(zh=(0,c.Z)(function*(y,p){return Hu(y,p)})).apply(this,arguments)}function p_(y,p){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,c.Z)(function*(y,p){return Hu(y,p)})).apply(this,arguments)}function vc(y,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(y,p){return Hu(y,p)})).apply(this,arguments)}function $u(y,p){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,c.Z)(function*(y,p){return Hu(y,p)})).apply(this,arguments)}function _s(){return(_s=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithEmailLink",nn(y,p))})).apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithEmailLink",nn(y,p))})).apply(this,arguments)}class Da extends Ea{constructor(p,g,C,T=null){super("password",C),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Da(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new Da(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function(y,p){return $h.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(y,p){return _s.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:zt(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Vp(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function(y,p){return so.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:zt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function oo(y,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithIdp",nn(y,p))})).apply(this,arguments)}class vr extends Ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new vr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):zt("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T}=g,x=se(g,["providerId","signInMethod"]);if(!C||!T)return null;const H=new vr(C,T);return H.idToken=x.idToken||void 0,H.accessToken=x.accessToken||void 0,H.secret=x.secret,H.nonce=x.nonce,H.pendingToken=x.pendingToken||null,H}_getIdTokenResponse(p){return oo(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,oo(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,oo(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function Ls(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:sendVerificationCode",nn(y,p))})).apply(this,arguments)}function kr(){return(kr=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,p))})).apply(this,arguments)}function Gu(){return(Gu=(0,c.Z)(function*(y,p){const g=yield B(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,p));if(g.temporaryProof)throw Je(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Cc={USER_NOT_FOUND:"user-not-found"};function _l(){return(_l=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithPhoneNumber",nn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Cc)})).apply(this,arguments)}class Lo extends Ea{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Lo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Lo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(y,p){return kr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(y,p){return Gu.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return _l.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:T,temporaryProof:x}=p;return C||g||T||x?new Lo({verificationId:g,verificationCode:C,phoneNumber:T,temporaryProof:x}):null}}class Vo{constructor(p){var g,C,T,x,H,re;const Le=(0,F.zd)((0,F.pd)(p)),Oe=null!==(g=Le.apiKey)&&void 0!==g?g:null,it=null!==(C=Le.oobCode)&&void 0!==C?C:null,nt=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);Me(Oe&&it&&nt,"argument-error"),this.apiKey=Oe,this.operation=nt,this.code=it,this.continueUrl=null!==(x=Le.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(H=Le.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(re=Le.tenantId)&&void 0!==re?re:null}static parseLink(p){const g=function(y){const p=(0,F.zd)((0,F.pd)(y)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,C=(0,F.zd)((0,F.pd)(y)).deep_link_id;return(C?(0,F.zd)((0,F.pd)(C)).link:null)||C||g||p||y}(p);try{return new Vo(g)}catch(C){return null}}}let Bo=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return Da._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const T=Vo.parseLink(C);return Me(T,"argument-error"),Da._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Wr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ki extends Wr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class jn extends Ki{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Me("providerId"in g&&"signInMethod"in g,"argument-error"),vr._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Me(p.idToken||p.accessToken,"argument-error"),vr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return jn.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return jn.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:T,pendingToken:x,nonce:H,providerId:re}=p;if(!C&&!T&&!g&&!x||!re)return null;try{return new jn(re)._credential({idToken:g,accessToken:C,nonce:H,pendingToken:x})}catch(Le){return null}}}let Ec=(()=>{class y extends Ki{constructor(){super("facebook.com")}static credential(g){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Uo=(()=>{class y extends Ki{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:T}=g;if(!C&&!T)return null;try{return y.credential(C,T)}catch(x){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),jo=(()=>{class y extends Ki{constructor(){super("github.com")}static credential(g){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Vs extends Ea{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return oo(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,oo(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,oo(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:T,pendingToken:x}=g;return C&&T&&x&&C===T?new Vs(C,x):null}static _create(p,g){return new Vs(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wc extends Wr{constructor(p){Me(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return wc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return wc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Vs.fromJSON(p);return Me(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Vs._create(C,g)}catch(T){return null}}}let Qi=(()=>{class y extends Ki{constructor(){super("twitter.com")}static credential(g,C){return vr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:T}=g;if(!C||!T)return null;try{return y.credential(C,T)}catch(x){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Zu(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signUp",nn(y,p))})).apply(this,arguments)}class tt{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,T=!1){return(0,c.Z)(function*(){const x=yield vt._fromIdTokenResponse(p,C,T),H=Yu(C);return new tt({user:x,providerId:H,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const T=Yu(C);return new tt({user:p,providerId:T,_tokenResponse:C,operationType:g})})()}}function Yu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Dc(){return(Dc=(0,c.Z)(function*(y){var p;const g=Xn(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new tt({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Zu(g,{returnSecureToken:!0}),T=yield tt._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class vl extends F.ZR{constructor(p,g,C,T){var x;super(g.code,g.message),this.operationType=C,this.user=T,Object.setPrototypeOf(this,vl.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,T){return new vl(p,g,C,T)}}function Qu(y,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?vl._fromErrorAndOperation(y,x,p,C):x})}function Ic(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Ae(){return(Ae=(0,c.Z)(function*(y,p){const g=(0,F.m9)(y);yield gn(!0,g,p);const{providerUserInfo:C}=yield gr(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=Ic(C||[]);return g.providerData=g.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Bt(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(y,p,g=!1){const C=yield mn(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return tt._forOperation(y,"link",C)})).apply(this,arguments)}function gn(y,p,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,c.Z)(function*(y,p,g){yield He(p);const T=!1===y?"provider-already-linked":"no-such-provider";Me(Ic(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Ho(y,p){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(y,p,g=!1){const{auth:C}=y,T="reauthenticate";try{const x=yield mn(y,Qu(C,T,p,y),g);Me(x.idToken,C,"internal-error");const H=No(x.idToken);Me(H,C,"internal-error");const{sub:re}=H;return Me(y.uid===re,C,"user-mismatch"),tt._forOperation(y,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&zt(C,"user-mismatch"),x}})).apply(this,arguments)}function bl(y,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(y,p,g=!1){const C="signIn",T=yield Qu(y,C,p),x=yield tt._fromIdTokenResponse(y,C,T);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Cl(y,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(y,p){return bl(Xn(y),p)})).apply(this,arguments)}function Aa(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(y,p){const g=(0,F.m9)(y);return yield gn(!1,g,p.providerId),Bt(g,p)})).apply(this,arguments)}function ar(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,c.Z)(function*(y,p){return Ho((0,F.m9)(y),p)})).apply(this,arguments)}function Tc(y,p){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,c.Z)(function*(y,p){return B(y,"POST","/v1/accounts:signInWithCustomToken",nn(y,p))})).apply(this,arguments)}function Sc(){return(Sc=(0,c.Z)(function*(y,p){const g=Xn(y),C=yield Tc(g,{token:p,returnSecureToken:!0}),T=yield tt._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class co{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?qo._fromServerResponse(p,g):zt(p,"internal-error")}}class qo extends co{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new qo(g)}}function Mc(y,p,g){var C;Me((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),Me(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Me(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Me(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Ma(){return(Ma=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y),T={requestType:"PASSWORD_RESET",email:p};g&&Mc(C,T,g),yield p_(C,T)})).apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(y,p,g){yield Lp((0,F.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(y,p){yield h_((0,F.m9)(y),{oobCode:p})})).apply(this,arguments)}function ka(y,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,p){const g=(0,F.m9)(y),C=yield Lp(g,{oobCode:p}),T=C.requestType;switch(Me(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(C.mfaInfo,g,"internal-error");default:Me(C.email,g,"internal-error")}let x=null;return C.mfaInfo&&(x=co._fromServerResponse(Xn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(y,p){const{data:g}=yield ka((0,F.m9)(y),p);return g.email})).apply(this,arguments)}function Oa(){return(Oa=(0,c.Z)(function*(y,p,g){const C=Xn(y),T=yield Zu(C,{returnSecureToken:!0,email:p,password:g}),x=yield tt._fromIdTokenResponse(C,"signIn",T);return yield C._updateCurrentUser(x.user),x})).apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y),T={requestType:"EMAIL_SIGNIN",email:p};Me(g.handleCodeInApp,C,"argument-error"),g&&Mc(C,T,g),yield vc(C,T)})).apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y),T=Bo.credentialWithLink(p,g||dt());return Me(T._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Cl(C,T)})).apply(this,arguments)}function __(y,p){return td.apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:createAuthUri",nn(y,p))})).apply(this,arguments)}function Kh(){return(Kh=(0,c.Z)(function*(y,p){const C={identifier:p,continueUri:mt()?dt():"http://localhost"},{signinMethods:T}=yield __((0,F.m9)(y),C);return T||[]})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,p){const g=(0,F.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Mc(g.auth,T,p);const{email:x}=yield f_(g.auth,T);x!==y.email&&(yield y.reload())})).apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Mc(C.auth,x,g);const{email:H}=yield $u(C.auth,x);H!==y.email&&(yield y.reload())})).apply(this,arguments)}function nd(y,p){return rd.apply(this,arguments)}function rd(){return(rd=(0,c.Z)(function*(y,p){return At(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,F.m9)(y),x={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},H=yield mn(C,nd(C.auth,x));C.displayName=H.displayName||null,C.photoURL=H.photoUrl||null;const re=C.providerData.find(({providerId:Le})=>"password"===Le);re&&(re.displayName=C.displayName,re.photoURL=C.photoURL),yield C._updateTokensIfNecessary(H)})).apply(this,arguments)}function id(y,p,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(y,p,g){const{auth:C}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(x.email=p),g&&(x.password=g);const H=yield mn(y,Vp(C,x));yield y._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Il{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class sd extends Il{constructor(p,g,C,T){super(p,g,C),this.username=T}}class y_ extends Il{constructor(p,g){super(p,"facebook.com",g)}}class zo extends sd{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Oc extends Il{constructor(p,g){super(p,"google.com",g)}}class Jh extends sd{constructor(p,g,C){super(p,"twitter.com",g,C)}}function lr(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,g;if(!y)return null;const{providerId:C}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const H=null===(g=null===(p=No(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new Il(x,"anonymous"!==H&&"custom"!==H?H:null)}if(!C)return null;switch(C){case"facebook.com":return new y_(x,T);case"github.com":return new zo(x,T);case"google.com":return new Oc(x,T);case"twitter.com":return new Jh(x,T,y.screenName||null);case"custom":case"anonymous":return new Il(x,null);default:return new Il(x,C,T)}}(g)}class Go{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Go("enroll",p)}static _fromMfaPendingCredential(p){return new Go("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Go._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Go._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Lc{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=Xn(p),T=g.customData._serverResponse,x=(T.mfaInfo||[]).map(re=>co._fromServerResponse(C,re));Me(T.mfaPendingCredential,C,"internal-error");const H=Go._fromMfaPendingCredential(T.mfaPendingCredential);return new Lc(H,x,function(){var re=(0,c.Z)(function*(Le){const Oe=yield Le._process(C,H);delete T.mfaInfo,delete T.mfaPendingCredential;const it=Object.assign(Object.assign({},T),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(g.operationType){case"signIn":const nt=yield tt._fromIdTokenResponse(C,g.operationType,it);return yield C._updateCurrentUser(nt.user),nt;case"reauthenticate":return Me(g.user,C,"internal-error"),tt._forOperation(g.user,g.operationType,it);default:zt(C,"internal-error")}});return function(Le){return re.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function E_(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:start",nn(y,p))}class Xe{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>co._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Xe(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Go._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,c.Z)(function*(){const T=p,x=yield C.getSession(),H=yield mn(C.user,T._process(C.user.auth,x,g));return yield C.user._updateTokensIfNecessary(H),C.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const C="string"==typeof p?p:p.uid,T=yield g.user.getIdToken(),x=yield mn(g.user,function(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nn(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==C),yield g.user._updateTokensIfNecessary(x);try{yield g.user.reload()}catch(H){if("auth/user-token-expired"!==H.code)throw H}})()}}const gt=new WeakMap,vn="__sak";class Xh{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(vn,"1"),this.storage.removeItem(vn),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class y extends Xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,F.z$)();return no(y)||ro(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Pn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const T=this.storage.getItem(C),x=this.localCache[C];T!==x&&g(C,x,T)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((re,Le,Oe)=>{this.notifyListeners(re,Oe)});const T=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(T);if(g.newValue!==re)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!C)return}const x=()=>{const re=this.storage.getItem(T);!C&&this.localCache[T]===re||this.notifyListeners(T,re)},H=this.storage.getItem(T);(0,F.w1)()&&10===document.documentMode&&H!==g.newValue&&g.newValue!==g.oldValue?setTimeout(x,10):x()}notifyListeners(g,C){this.localCache[g]=C;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var T=()=>super._set,x=this;return(0,c.Z)(function*(){yield T().call(x,g,C),x.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,T=this;return(0,c.Z)(function*(){const x=yield C().call(T,g);return T.localCache[g]=JSON.stringify(x),x})()}_remove(g){var C=()=>super._remove,T=this;return(0,c.Z)(function*(){yield C().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Ye=(()=>{class y extends Xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let w_=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(x=>x.isListeningto(g));if(C)return C;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,c.Z)(function*(){const T=g,{eventId:x,eventType:H,data:re}=T.data,Le=C.handlersMap[H];if(!(null==Le?void 0:Le.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:H});const Oe=Array.from(Le).map(function(){var nt=(0,c.Z)(function*(Ht){return Ht(T.origin,re)});return function(Ht){return nt.apply(this,arguments)}}()),it=yield function(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Oe);T.ports[0].postMessage({status:"done",eventId:x,eventType:H,response:it})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ho(y="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return y+g}class ld{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var T=this;return(0,c.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let H,re;return new Promise((Le,Oe)=>{const it=ho("",20);x.port1.start();const nt=setTimeout(()=>{Oe(new Error("unsupported_event"))},C);re={messageChannel:x,onMessage(Ht){const nr=Ht;if(nr.data.eventId===it)switch(nr.data.status){case"ack":clearTimeout(nt),H=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Le(nr.data.response);break;default:clearTimeout(nt),clearTimeout(H),Oe(new Error("invalid_response"))}}},T.handlers.add(re),x.port1.addEventListener("message",re.onMessage),T.target.postMessage({eventType:p,eventId:it,data:g},[x.port2])}).finally(()=>{re&&T.removeMessageHandler(re)})})()}}function kt(){return window}function La(){return void 0!==kt().WorkerGlobalScope&&"function"==typeof kt().importScripts}function Us(){return(Us=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const ts="firebaseLocalStorageDb",Rr="firebaseLocalStorage",Va="fbase_key";class Rl{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Es(y,p){return y.transaction([Rr],p?"readwrite":"readonly").objectStore(Rr)}function ur(){const y=indexedDB.open(ts,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Rr,{keyPath:Va})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Rr)?p(C):(C.close(),yield function(){const y=indexedDB.deleteDatabase(ts);return new Rl(y).toPromise()}(),p(yield ur()))}))})}function Sn(y,p,g){return ef.apply(this,arguments)}function ef(){return(ef=(0,c.Z)(function*(y,p,g){const C=Es(y,!0).put({[Va]:p,value:g});return new Rl(C).toPromise()})).apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p){const g=Es(y,!1).get(p),C=yield new Rl(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function _i(y,p){const g=Es(y,!0).delete(p);return new Rl(g).toPromise()}const tr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield ur()),g.db})()}_withRetries(g){var C=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const x=yield C._openDb();return yield g(x)}catch(x){if(T++>3)throw x;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return La()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=w_._getInstance(La()?self:null),g.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(T,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(T,x){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var C,T;if(g.activeServiceWorker=yield function(){return Us.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ld(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);!x||(null===(C=x[0])||void 0===C?void 0:C.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ur();return yield Sn(g,vn,"1"),yield _i(g,vn),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(x=>Sn(x,g,C)),T.localCache[g]=C,T.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,c.Z)(function*(){const T=yield C._withRetries(x=>function(y,p){return Zr.apply(this,arguments)}(x,g));return C.localCache[g]=T,T})()}_remove(g){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(T=>_i(T,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const C=yield g._withRetries(H=>{const re=Es(H,!1).getAll();return new Rl(re).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:H,value:re}of C)x.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(re)&&(g.notifyListeners(H,re),T.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!x.has(H)&&(g.notifyListeners(H,null),T.push(H));return T})()}notifyListeners(g,C){this.localCache[g]=C;const T=this.listeners[g];if(T)for(const x of Array.from(T))x(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Cr(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:start",nn(y,p))}function po(){return(po=(0,c.Z)(function*(y){return(yield At(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tf(y){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=T=>{const x=xn("internal-error");x.customData=T,g(x)},C.type="text/javascript",C.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function Yr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Xt=1e12;class Ni{constructor(p){this.auth=p,this.counter=Xt,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new ns(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||Xt;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Xt))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var C;return null===(C=g._widgets.get(p||Xt))||void 0===C||C.execute(),""})()}}class ns{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;Me(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<50;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const qs=Yr("rcb"),jc=new Jt(3e4,6e4);class Gp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kt().grecaptcha}load(p,g=""){return Me((y=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(kt().grecaptcha):new Promise((C,T)=>{const x=kt().setTimeout(()=>{T(xn(p,"network-request-failed"))},jc.get());kt()[qs]=()=>{kt().clearTimeout(x),delete kt()[qs];const re=kt().grecaptcha;if(!re)return void T(xn(p,"internal-error"));const Le=re.render;re.render=(Oe,it)=>{const nt=Le(Oe,it);return this.counter++,nt},this.hostLanguage=g,C(re)},tf(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:qs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),T(xn(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!kt().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nf{load(p){return(0,c.Z)(function*(){return new Ni(p)})()}clearedOneInstance(){}}const Zo="recaptcha",D_={theme:"light",type:"image"};class $s{constructor(p,g=Object.assign({},D_),C){this.parameters=g,this.type=Zo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(C),this.isInvisible="invisible"===this.parameters.size,Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;Me(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nf:new Gp,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(x=>{const H=re=>{!re||(p.tokenChangeListeners.delete(H),x(re))};p.tokenChangeListeners.add(H),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=kt()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){Me(mt()&&!La(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(y){return po.apply(this,arguments)}(p.auth);Me(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dd{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Lo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function zs(){return(zs=(0,c.Z)(function*(y,p,g){const C=Xn(y),T=yield Gs(C,p,(0,F.m9)(g));return new dd(T,x=>Cl(C,x))})).apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y);yield gn(!1,C,"phone");const T=yield Gs(C.auth,p,(0,F.m9)(g));return new dd(T,x=>Aa(C,x))})).apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y),T=yield Gs(C.auth,p,(0,F.m9)(g));return new dd(T,x=>ar(C,x))})).apply(this,arguments)}function Gs(y,p,g){return mo.apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,p,g){var C;const T=yield g.verify();try{let x;if(Me("string"==typeof T,y,"argument-error"),Me(g.type===Zo,y,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const H=x.session;if("phoneNumber"in x)return Me("enroll"===H.type,y,"internal-error"),(yield E_(y,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Me("signin"===H.type,y,"internal-error");const re=(null===(C=x.multiFactorHint)||void 0===C?void 0:C.uid)||x.multiFactorUid;return Me(re,y,"missing-multi-factor-info"),(yield Cr(y,{mfaPendingCredential:H.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Ls(y,{phoneNumber:x.phoneNumber,recaptchaToken:T});return H}}finally{g._reset()}})).apply(this,arguments)}function Yo(){return(Yo=(0,c.Z)(function*(y,p){yield Bt((0,F.m9)(y),p)})).apply(this,arguments)}let D=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Xn(g)}verifyPhoneNumber(g,C){return Gs(this.auth,g,(0,F.m9)(C))}static credential(g,C){return Lo._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:T}=g;return C&&T?Lo._fromTokenResponse(C,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function A(y,p){return p?Yt(p):(Me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class R extends Ea{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return oo(p,this._buildIdpRequest())}_linkToIdToken(p,g){return oo(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return oo(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function L(y){return bl(y.auth,new R(y),y.bypassAuthState)}function K(y){const{auth:p,user:g}=y;return Me(g,p,"internal-error"),Ho(g,new R(y),y.bypassAuthState)}function ae(y){return Te.apply(this,arguments)}function Te(){return(Te=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return Me(g,p,"internal-error"),Bt(g,new R(y),y.bypassAuthState)})).apply(this,arguments)}class Be{constructor(p,g,C,T,x=!1){this.auth=p,this.resolver=C,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(C,T){p.pendingPromise={resolve:C,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(C,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:T,postBody:x,tenantId:H,error:re,type:Le}=p;if(re)return void g.reject(re);const Oe={auth:g.auth,requestUri:C,sessionId:T,tenantId:H||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Oe))}catch(it){g.reject(it)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return L;case"linkViaPopup":case"linkViaRedirect":return ae;case"reauthViaPopup":case"reauthViaRedirect":return K;default:zt(this.auth,"internal-error")}}resolve(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pe=new Jt(2e3,1e4);function un(){return(un=(0,c.Z)(function*(y,p,g){const C=Xn(y);$i(y,p,Wr);const T=A(C,g);return new Ua(C,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function Yn(){return(Yn=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y);$i(C.auth,p,Wr);const T=A(C.auth,g);return new Ua(C.auth,"reauthViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y);$i(C.auth,p,Wr);const T=A(C.auth,g);return new Ua(C.auth,"linkViaPopup",p,T,C).executeNotNull()})).apply(this,arguments)}let Ua=(()=>{class y extends Be{constructor(g,C,T,x,H){super(g,C,x,H),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const C=yield g.execute();return Me(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,c.Z)(function*(){Gn(1===g.filter.length,"Popup operations only handle one event");const C=ho();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(xn(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,T;this.pollId=(null===(T=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Pe.get())};g()}}return y.currentPopupAction=null,y})();const Kn=new Map;class Li extends Be{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let C=Kn.get(g.auth._key());if(!C){try{const x=(yield function(y,p){return Ut.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(x)}catch(T){C=()=>Promise.reject(T)}Kn.set(g.auth._key(),C)}return g.bypassAuthState||Kn.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const T=yield C.auth._redirectUserForId(p.eventId);if(T)return C.user=T,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Ut(){return(Ut=(0,c.Z)(function*(y,p){const g=Kp(p),C=Yp(y);if(!(yield C._isAvailable()))return!1;const T="true"===(yield C._get(g));return yield C._remove(g),T})).apply(this,arguments)}function ja(y,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(y,p){return Yp(y)._set(Kp(p),"true")})).apply(this,arguments)}function Yp(y){return Yt(y._redirectPersistence)}function Kp(y){return gi("pendingRedirect",y.config.apiKey,y.name)}function yo(){return(yo=(0,c.Z)(function*(y,p,g){const C=Xn(y);$i(y,p,Wr);const T=A(C,g);return yield ja(T,C),T._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y);$i(C.auth,p,Wr);const T=A(C.auth,g);yield ja(T,C.auth);const x=yield Ll(C);return T._openRedirect(C.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function $c(){return($c=(0,c.Z)(function*(y,p,g){const C=(0,F.m9)(y);$i(C.auth,p,Wr);const T=A(C.auth,g);yield gn(!1,C,p.providerId),yield ja(T,C.auth);const x=yield Ll(C);return T._openRedirect(C.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function rf(){return(rf=(0,c.Z)(function*(y,p){return yield Xn(y)._initializationPromise,Fl(y,p,!1)})).apply(this,arguments)}function Fl(y,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,c.Z)(function*(y,p,g=!1){const C=Xn(y),T=A(C,p),H=yield new Li(C,T,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield C._persistUserIfCurrent(H.user),yield C._setRedirectUser(null,p)),H})).apply(this,arguments)}function Ll(y){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(y){const p=ho(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Mb{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sf(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!sf(p)){const T=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(xn(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(md(p))}saveEventToCache(p){this.cachedEventUids.add(md(p)),this.lastProcessedEventTime=Date.now()}}function md(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function sf({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function af(y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y,p={}){return At(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qo=/^https?/;function lf(){return(lf=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield af(y);for(const g of p)try{if(M_(g))return}catch(C){}zt(y,"unauthorized-domain")})).apply(this,arguments)}function M_(y){const p=dt(),{protocol:g,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const H=new URL(y);return""===H.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===C}if(!Qo.test(g))return!1;if(Ko.test(y))return C===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(C)}const xb=new Jt(3e4,6e4);function Nr(){const y=kt().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let gd=null;function cf(y){return gd=gd||function(y){return new Promise((p,g)=>{var C,T,x;function H(){Nr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Nr(),g(xn(y,"network-request-failed"))},timeout:xb.get()})}if(null===(T=null===(C=kt().gapi)||void 0===C?void 0:C.iframes)||void 0===T?void 0:T.Iframe)p(gapi.iframes.getContext());else{if(!(null===(x=kt().gapi)||void 0===x?void 0:x.load)){const re=Yr("iframefcb");return kt()[re]=()=>{gapi.load?H():g(xn(y,"network-request-failed"))},tf(`https://apis.google.com/js/api.js?onload=${re}`)}H()}}).catch(p=>{throw gd=null,p})}(y),gd}const x_=new Jt(5e3,15e3),Jp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kb(y){const p=y.config;Me(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Ze(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:ue.SDK_VERSION},T=uf.get(y.config.apiHost);T&&(C.eid=T);const x=y._getFrameworks();return x.length&&(C.fw=x.join(",")),`${g}?${(0,F.xO)(C).slice(1)}`}function Xp(){return Xp=(0,c.Z)(function*(y){const p=yield cf(y),g=kt().gapi;return Me(g,y,"internal-error"),p.open({where:document.body,url:kb(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jp,dontclear:!0},C=>new Promise(function(){var T=(0,c.Z)(function*(x,H){yield C.restyle({setHideOnLeave:!1});const re=xn(y,"network-request-failed"),Le=kt().setTimeout(()=>{H(re)},x_.get());function Oe(){kt().clearTimeout(Le),x(C)}C.ping(Oe).then(Oe,()=>{H(re)})});return function(x,H){return T.apply(this,arguments)}}()))}),Xp.apply(this,arguments)}const Rb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Is{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function P_(y,p,g,C,T,x){Me(y.config.authDomain,y,"auth-domain-config-required"),Me(y.config.apiKey,y,"invalid-api-key");const H={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:ue.SDK_VERSION,eventId:T};if(p instanceof Wr){p.setDefaultLanguage(y.languageCode),H.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,Oe]of Object.entries(x||{}))H[Le]=Oe}if(p instanceof Ki){const Le=p.getScopes().filter(Oe=>""!==Oe);Le.length>0&&(H.scopes=Le.join(","))}y.tenantId&&(H.tid=y.tenantId);const re=H;for(const Le of Object.keys(re))void 0===re[Le]&&delete re[Le];return`${function({config:y}){return y.emulator?Ze(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,F.xO)(re).slice(1)}`}const em="webStorageSupport";class N_ extends class{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return or("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new N_(p)}_finalizeEnroll(p,g,C){return function(y,p){return At(y,"POST","/v2/accounts/mfaEnrollment:finalize",nn(y,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(y,p){return At(y,"POST","/v2/accounts/mfaSignIn:finalize",nn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ob=(()=>{class y{constructor(){}static assertion(g){return N_._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var y,mf="@firebase/auth";class Pb{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var T;p((null===(T=C)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vo(){return window}function rm(){return rm=(0,c.Z)(function*(y,p,g){var C;const{BuildInfo:T}=vo();Gn(p.sessionId,"AuthEvent did not contain a session ID");const x=yield sm(p.sessionId),H={};return ro()?H.ibi=T.packageName:hl()?H.apn=T.packageName:zt(y,"operation-not-supported-in-this-environment"),T.displayName&&(H.appDisplayName=T.displayName),H.sessionId=x,P_(y,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,H)}),rm.apply(this,arguments)}function im(){return im=(0,c.Z)(function*(y){const{BuildInfo:p}=vo(),g={};ro()?g.iosBundleId=p.packageName:hl()?g.androidPackageName=p.packageName:zt(y,"operation-not-supported-in-this-environment"),yield af(y,g)}),im.apply(this,arguments)}function gf(){return gf=(0,c.Z)(function*(y,p,g){const{cordova:C}=vo();let T=()=>{};try{yield new Promise((x,H)=>{let re=null;function Le(){var nt;x();const Ht=null===(nt=C.plugins.browsertab)||void 0===nt?void 0:nt.close;"function"==typeof Ht&&Ht(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Oe(){re||(re=window.setTimeout(()=>{H(xn(y,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===(null==document?void 0:document.visibilityState)&&Oe()}p.addPassiveListener(Le),document.addEventListener("resume",Oe,!1),hl()&&document.addEventListener("visibilitychange",it,!1),T=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",it,!1),re&&window.clearTimeout(re)}})}finally{T()}}),gf.apply(this,arguments)}function sm(y){return om.apply(this,arguments)}function om(){return om=(0,c.Z)(function*(y){const p=L_(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")}),om.apply(this,arguments)}function L_(y){if(Gn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}y="Browser",(0,ue._registerComponent)(new me.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),{apiKey:T,authDomain:x}=C.options;return(H=>{Me(T&&!T.includes(":"),"invalid-api-key",{appName:H.name}),Me(!(null==x?void 0:x.includes(":")),"argument-error",{appName:H.name});const re={apiKey:T,authDomain:x,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gr(y)},Le=new gs(H,re);return function(y,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(Yt);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Le,g),Le})(C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new me.wA("auth-internal",p=>{const g=Xn(p.getProvider("auth").getImmediate());return new Pb(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(mf,"0.19.3",void 0),(0,ue.registerVersion)(mf,"0.19.3","esm2017");class O0 extends Mb{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function wn(y){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,c.Z)(function*(y){const p=yield Qn()._get(jl(y));return p&&(yield Qn()._remove(jl(y))),p}),Kc.apply(this,arguments)}function Cd(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function Qn(){return Yt(Ml)}function jl(y){return gi("authEvent",y.config.apiKey,y.name)}function _f(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,F.zd)(g.join("?"))}function Qc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xn("no-auth-event")}}function wd(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function hm(y=(0,F.z$)()){return!("file:"!==wd()&&"ionic:"!==wd()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Id(){try{const y=self.localStorage,p=ho();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,F.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,F.hl)()}catch(y){return fm()&&(0,F.hl)()}return!1}function fm(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function $a(){return("http:"===wd()||"https:"===wd()||(0,F.ru)()||hm())&&!((0,F.b$)()||(0,F.UG)())&&Id()&&!fm()}function Ad(){return hm()&&"undefined"!=typeof document}function Hl(){return Hl=(0,c.Z)(function*(){return!!Ad()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})}),Hl.apply(this,arguments)}const is={LOCAL:"local",NONE:"none",SESSION:"session"},Td=Me,Xo="persistence";function pm(y){return mm.apply(this,arguments)}function mm(){return mm=(0,c.Z)(function*(y){yield y._initializationPromise;const p=gm(),g=gi(Xo,y.config.apiKey,y.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,y._getPersistence())}),mm.apply(this,arguments)}function gm(){return"undefined"!=typeof window?window:null}const Ub=Me;class za{constructor(){this.browserResolver=Yt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ye,this._completeRedirectFn=Fl}_openPopup(p,g,C,T){var x=this;return(0,c.Z)(function*(){var H;Gn(null===(H=x.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const re=P_(p,g,C,dt(),T);return function(y,p,g,C=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),H=Math.max((window.screen.availWidth-C)/2,0).toString();let re="";const Le=Object.assign(Object.assign({},Rb),{width:C.toString(),height:T.toString(),top:x,left:H}),Oe=(0,F.z$)().toLowerCase();g&&(re=zr(Oe)?"_blank":g),dl(Oe)&&(p=p||"http://localhost",Le.scrollbars="yes");const it=Object.entries(Le).reduce((Ht,[nr,Rn])=>`${Ht}${nr}=${Rn},`,"");if(function(y=(0,F.z$)()){var p;return ro(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Oe)&&"_self"!==re)return function(y,p){const g=document.createElement("a");g.href=y,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",re),new Is(null);const nt=window.open(p||"",re,it);Me(nt,y,"popup-blocked");try{nt.focus()}catch(Ht){}return new Is(nt)}(p,re,ho())})()}_openRedirect(p,g,C,T){var x=this;return(0,c.Z)(function*(){return yield x._originValidation(p),y=P_(p,g,C,dt(),T),kt().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:x}=this.eventManagers[g];return T?Promise.resolve(T):(Gn(x,"If manager is not set, promise should be"),x)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const C=yield function(y){return Xp.apply(this,arguments)}(p),T=new Mb(p);return C.register("authEvent",x=>(Me(null==x?void 0:x.authEvent,p,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=C,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(em,{type:em},T=>{var x;const H=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[em];void 0!==H&&g(!!H),zt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return lf.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Pn()||no()||ro()}}),this.cordovaResolver=Yt(class{constructor(){this._redirectPersistence=Ye,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fl}_initialize(p){var g=this;return(0,c.Z)(function*(){const C=p._key();let T=g.eventManagers.get(C);return T||(T=new O0(p),g.eventManagers.set(C,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){zt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,T){var x=this;return(0,c.Z)(function*(){!function(y){var p,g,C,T,x,H,re,Le,Oe,it;const nt=vo();Me("function"==typeof(null===(p=null==nt?void 0:nt.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(void 0!==(null===(g=null==nt?void 0:nt.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(x=null===(T=null===(C=null==nt?void 0:nt.cordova)||void 0===C?void 0:C.plugins)||void 0===T?void 0:T.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Le=null===(re=null===(H=null==nt?void 0:nt.cordova)||void 0===H?void 0:H.plugins)||void 0===re?void 0:re.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(it=null===(Oe=null==nt?void 0:nt.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===it?void 0:it.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield x._initialize(p);yield H.initialized(),H.resetRedirect(),Kn.clear(),yield x._originValidation(p);const re=function(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Cd(),postBody:null,tenantId:y.tenantId,error:xn(y,"no-auth-event")}}(p,C,T);yield function(y,p){return Qn()._set(jl(y),p)}(p,re);const Le=yield function(y,p,g){return rm.apply(this,arguments)}(p,re,g),Oe=yield function(y){const{cordova:p}=vo();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let T=null;C?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function(y=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Le);return function(y,p,g){return gf.apply(this,arguments)}(p,H,Oe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(y){return im.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:T,BuildInfo:x}=vo(),H=setTimeout((0,c.Z)(function*(){yield wn(p),g.onEvent(Qc())}),500),re=function(){var it=(0,c.Z)(function*(nt){clearTimeout(H);const Ht=yield wn(p);let nr=null;Ht&&(null==nt?void 0:nt.url)&&(nr=function(y,p){var g,C;const T=function(y){const p=_f(y),g=p.link?decodeURIComponent(p.link):void 0,C=_f(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return _f(T).link||T||C||g||y}(p);if(T.includes("/__/auth/callback")){const x=_f(T),H=x.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(x.firebaseError)):null,re=null===(C=null===(g=null==H?void 0:H.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Le=re?xn(re):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Ht,nt.url)),g.onEvent(nr||Qc())});return function(Ht){return it.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,re);const Le=T,Oe=`${x.packageName.toLowerCase()}://`;vo().handleOpenURL=function(){var it=(0,c.Z)(function*(nt){if(nt.toLowerCase().startsWith(Oe)&&re({url:nt}),"function"==typeof Le)try{Le(nt)}catch(Ht){console.error(Ht)}});return function(nt){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ye,this._completeRedirectFn=Fl}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(p,g,C,T)})()}_openRedirect(p,g,C,T){var x=this;return(0,c.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(p,g,C,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ad()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ub(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return Hl.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function z_(y){return y.unwrap()}function Ws(y){return jb(y)}function jb(y){const{_tokenResponse:p}=y instanceof F.ZR?y.customData:y;if(!p)return null;if(!(y instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return D.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=Uo;break;case"facebook.com":C=Ec;break;case"github.com":C=jo;break;case"twitter.com":C=Qi;break;default:const{oauthIdToken:T,oauthAccessToken:x,oauthTokenSecret:H,pendingToken:re,nonce:Le}=p;return x||H||T||re?re?g.startsWith("saml.")?Vs._create(g,re):vr._fromParams({providerId:g,signInMethod:g,pendingToken:re,idToken:T,accessToken:x}):new jn(g).credential({idToken:T,accessToken:x,rawNonce:Le}):null}return y instanceof F.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function yi(y,p){return p.catch(g=>{throw g instanceof F.ZR&&function(y,p){var g;const C=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new vf(y,function(y,p){var g;const C=(0,F.m9)(y),T=p;return Me(p.customData.operationType,C,"argument-error"),Me(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),Lc._fromError(C,T)}(y,p));else if(C){const T=jb(p),x=p;T&&(x.credential=T,x.tenantId=C.tenantId||void 0,x.email=C.email||void 0,x.phoneNumber=C.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Ws(g),additionalUserInfo:lr(g),user:bo.getOrCreate(T)}})}function G_(y,p){return As.apply(this,arguments)}function As(){return As=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>yi(y,g.confirm(C))}}),As.apply(this,arguments)}class vf{constructor(p,g){this.resolver=g,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return yi(z_(this.auth),this.resolver.resolveSignIn(p))}}class bo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,F.m9)(y);return gt.has(p)||gt.set(p,Xe._fromUser(p)),gt.get(p)}(p)}static getOrCreate(p){return bo.USER_MAP.has(p)||bo.USER_MAP.set(p,new bo(p)),bo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return yi(g.auth,Aa(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,c.Z)(function*(){return G_(C.auth,function(y,p,g){return Kr.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return yi(g.auth,function(y,p,g){return go.apply(this,arguments)}(g._delegate,p,za))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield pm(Xn(g.auth)),function(y,p,g){return function(y,p,g){return $c.apply(this,arguments)}(y,p,g)}(g._delegate,p,za)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return yi(g.auth,ar(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return G_(this.auth,function(y,p,g){return Ol.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return yi(this.auth,function(y,p,g){return Yn.apply(this,arguments)}(this._delegate,p,za))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield pm(Xn(g.auth)),function(y,p,g){return function(y,p,g){return Nl.apply(this,arguments)}(y,p,g)}(g._delegate,p,za)})()}sendEmailVerification(p){return function(y,p){return Bs.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function(y,p){return Ae.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(y,p){return id((0,F.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return id((0,F.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return Yo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return _n.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(y,p,g){return Pa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const Xc=Me;let bf=(()=>{class y{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Xc(T,"invalid-api-key",{appName:g.name});let x=[ki];if("undefined"!=typeof window){x=function(y,p){const g=gm();if(!(null==g?void 0:g.sessionStorage))return[];const C=gi(Xo,y,p);switch(g.sessionStorage.getItem(C)){case is.NONE:return[ki];case is.LOCAL:return[tr,Ye];case is.SESSION:return[Ye];default:return[]}}(T,g.name);for(const re of[tr,Ml,Ye])x.includes(re)||x.push(re)}Xc(T,"invalid-api-key",{appName:g.name});const H="undefined"!=typeof window?za:void 0;this._delegate=C.initialize({options:{persistence:x,popupRedirectResolver:H}}),this._delegate._updateErrorMap(qr),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function(y,p,g){const C=Xn(y);Me(C._canInitEmulator,C,"emulator-config-failed"),Me(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),x=Oi(p),{host:H,port:re}=function(y){const p=Oi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(C);if(T){const x=T[1];return{host:x,port:d_(C.substr(x.length+1))}}{const[x,H]=C.split(":");return{host:x,port:d_(H)}}}(p);C.config.emulator={url:`${x}//${H}${null===re?"":`:${re}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:H,port:re,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,C)}applyActionCode(g){return function(y,p){return xa.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return ka(this._delegate,g)}confirmPasswordReset(g,C){return function(y,p,g){return El.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var T=this;return(0,c.Z)(function*(){return yi(T._delegate,function(y,p,g){return Oa.apply(this,arguments)}(T._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(y,p){return Kh.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(y,p){const g=Vo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Xc($a(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function(y,p){return rf.apply(this,arguments)}(g._delegate,za);return C?yi(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(y,p){Xn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,T){const{next:x,error:H,complete:re}=ql(g,C,T);return this._delegate.onAuthStateChanged(x,H,re)}onIdTokenChanged(g,C,T){const{next:x,error:H,complete:re}=ql(g,C,T);return this._delegate.onIdTokenChanged(x,H,re)}sendSignInLinkToEmail(g,C){return function(y,p,g){return Zn.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function(y,p,g){return Ma.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,c.Z)(function*(){let T;switch(function(y,p){Td(Object.values(is).includes(p),y,"invalid-persistence-type"),(0,F.b$)()?Td(p!==is.SESSION,y,"unsupported-persistence-type"):(0,F.UG)()?Td(p===is.NONE,y,"unsupported-persistence-type"):fm()?Td(p===is.NONE||p===is.LOCAL&&(0,F.hl)(),y,"unsupported-persistence-type"):Td(p===is.NONE||Id(),y,"unsupported-persistence-type")}(C._delegate,g),g){case is.SESSION:T=Ye;break;case is.LOCAL:T=(yield Yt(tr)._isAvailable())?tr:Ml;break;case is.NONE:T=ki;break;default:return zt("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return yi(this._delegate,function(y){return Dc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return yi(this._delegate,Cl(this._delegate,g))}signInWithCustomToken(g){return yi(this._delegate,function(y,p){return Sc.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return yi(this._delegate,function(y,p,g){return Cl((0,F.m9)(y),Bo.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return yi(this._delegate,function(y,p,g){return kc.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return G_(this._delegate,function(y,p,g){return zs.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,c.Z)(function*(){return Xc($a(),C._delegate,"operation-not-supported-in-this-environment"),yi(C._delegate,function(y,p,g){return un.apply(this,arguments)}(C._delegate,g,za))})()}signInWithRedirect(g){var C=this;return(0,c.Z)(function*(){return Xc($a(),C._delegate,"operation-not-supported-in-this-environment"),yield pm(C._delegate),function(y,p,g){return function(y,p,g){return yo.apply(this,arguments)}(y,p,g)}(C._delegate,g,za)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(y,p){return wl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=is,y})();function ql(y,p,g){let C=y;"function"!=typeof y&&({next:C,error:p,complete:g}=y);const T=C;return{next:H=>T(H&&bo.getOrCreate(H)),error:p,complete:g}}class Sd{constructor(){this.providerId="phone",this._delegate=new D(z_(X.Z.auth()))}static credential(p,g){return D.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Sd.PHONE_SIGN_IN_METHOD=D.PHONE_SIGN_IN_METHOD,Sd.PROVIDER_ID=D.PROVIDER_ID;const W_=Me;class _m{constructor(p,g,C=X.Z.app()){var T;W_(null===(T=C.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new $s(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new me.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new bf(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bo,FacebookAuthProvider:Ec,GithubAuthProvider:jo,GoogleAuthProvider:Uo,OAuthProvider:jn,SAMLAuthProvider:wc,PhoneAuthProvider:Sd,PhoneMultiFactorGenerator:Ob,RecaptchaVerifier:_m,TwitterAuthProvider:Qi,Auth:bf,AuthCredential:Ea,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.3")}(X.Z)},4995:function(Ke,_e){!function(P){"use strict";function c(le){return Array.prototype.slice.call(le)}function X(le){return new Promise(function(Y,ce){le.onsuccess=function(){Y(le.result)},le.onerror=function(){ce(le.error)}})}function F(le,Y,ce){var De,ye=new Promise(function(ze,ke){X(De=le[Y].apply(le,ce)).then(ze,ke)});return ye.request=De,ye}function ue(le,Y,ce){var De=F(le,Y,ce);return De.then(function(ye){if(ye)return new $(ye,De.request)})}function ie(le,Y,ce){ce.forEach(function(De){Object.defineProperty(le.prototype,De,{get:function(){return this[Y][De]},set:function(ye){this[Y][De]=ye}})})}function ge(le,Y,ce,De){De.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return F(this[Y],ye,arguments)})})}function J(le,Y,ce,De){De.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return this[Y][ye].apply(this[Y],arguments)})})}function se(le,Y,ce,De){De.forEach(function(ye){ye in ce.prototype&&(le.prototype[ye]=function(){return ue(this[Y],ye,arguments)})})}function de(le){this._index=le}function $(le,Y){this._cursor=le,this._request=Y}function q(le){this._store=le}function Q(le){this._tx=le,this.complete=new Promise(function(Y,ce){le.oncomplete=function(){Y()},le.onerror=function(){ce(le.error)},le.onabort=function(){ce(le.error)}})}function je(le,Y,ce){this._db=le,this.oldVersion=Y,this.transaction=new Q(ce)}function Ie(le){this._db=le}ie(de,"_index",["name","keyPath","multiEntry","unique"]),ge(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),se(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),ie($,"_cursor",["direction","key","primaryKey","value"]),ge($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(le){le in IDBCursor.prototype&&($.prototype[le]=function(){var Y=this,ce=arguments;return Promise.resolve().then(function(){return Y._cursor[le].apply(Y._cursor,ce),X(Y._request).then(function(De){if(De)return new $(De,Y._request)})})})}),q.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},q.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},ie(q,"_store",["name","keyPath","indexNames","autoIncrement"]),ge(q,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),se(q,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),J(q,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new q(this._tx.objectStore.apply(this._tx,arguments))},ie(Q,"_tx",["objectStoreNames","mode"]),J(Q,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new q(this._db.createObjectStore.apply(this._db,arguments))},ie(je,"_db",["name","version","objectStoreNames"]),J(je,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},ie(Ie,"_db",["name","version","objectStoreNames"]),J(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(le){[q,de].forEach(function(Y){le in Y.prototype&&(Y.prototype[le.replace("open","iterate")]=function(){var ce=c(arguments),De=ce[ce.length-1],ye=this._store||this._index,ze=ye[le].apply(ye,ce.slice(0,-1));ze.onsuccess=function(){De(ze.result)}})})}),[de,q].forEach(function(le){le.prototype.getAll||(le.prototype.getAll=function(Y,ce){var De=this,ye=[];return new Promise(function(ze){De.iterateCursor(Y,function(ke){ke?(ye.push(ke.value),void 0===ce||ye.length!=ce?ke.continue():ze(ye)):ze(ye)})})})}),P.openDb=function(le,Y,ce){var De=F(indexedDB,"open",[le,Y]),ye=De.request;return ye&&(ye.onupgradeneeded=function(ze){ce&&ce(new je(ye.result,ze.oldVersion,ye.transaction))}),De.then(function(ze){return new Ie(ze)})},P.deleteDb=function(le){return F(indexedDB,"deleteDatabase",[le])},Object.defineProperty(P,"__esModule",{value:!0})}(_e)},8305:(Ke,_e,P)=>{"use strict";P.d(_e,{y:()=>$});var c=P(584),X=P(7908),F=P(4816),ue=P(4623);var J=P(5367),se=P(5044),de=P(8706);let $=(()=>{class Ie{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const le=new Ie;return le.source=this,le.operator=Ue,le}subscribe(Ue,le,Y){const ce=function(Ie){return Ie&&Ie instanceof c.Lv||function(Ie){return Ie&&(0,se.m)(Ie.next)&&(0,se.m)(Ie.error)&&(0,se.m)(Ie.complete)}(Ie)&&(0,X.Nn)(Ie)}(Ue)?Ue:new c.Hp(Ue,le,Y);return(0,de.x)(()=>{const{operator:De,source:ye}=this;ce.add(De?De.call(ce,ye):ye?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(le){Ue.error(le)}}forEach(Ue,le){return new(le=q(le))((Y,ce)=>{let De;De=this.subscribe(ye=>{try{Ue(ye)}catch(ze){ce(ze),null==De||De.unsubscribe()}},ce,Y)})}_subscribe(Ue){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Ue)}[F.L](){return this}pipe(...Ue){return function(Ie){return 0===Ie.length?ue.y:1===Ie.length?Ie[0]:function(Ue){return Ie.reduce((le,Y)=>Y(le),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=q(Ue))((le,Y)=>{let ce;this.subscribe(De=>ce=De,De=>Y(De),()=>le(ce))})}}return Ie.create=$e=>new Ie($e),Ie})();function q(Ie){var $e;return null!==($e=null!=Ie?Ie:J.v.Promise)&&void 0!==$e?$e:Promise}},273:(Ke,_e,P)=>{"use strict";P.d(_e,{x:()=>J});var c=P(8305),X=P(7908);const ue=(0,P(4893).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=P(3980),ge=P(8706);let J=(()=>{class de extends c.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new se(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new ue}next(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const Q=this.observers.slice();for(const je of Q)je.next(q)}})}error(q){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:je,observers:Ie}=this;return Q||je?X.Lc:(Ie.push(q),new X.w0(()=>(0,ie.P)(Ie,q)))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:je,isStopped:Ie}=this;Q?q.error(je):Ie&&q.complete()}asObservable(){const q=new c.y;return q.source=this,q}}return de.create=($,q)=>new se($,q),de})();class se extends J{constructor($,q){super(),this.destination=$,this.source=q}next($){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,$)}error($){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,$)}complete(){var $,q;null===(q=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===q||q.call($)}_subscribe($){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe($))&&void 0!==Q?Q:X.Lc}}},584:(Ke,_e,P)=>{"use strict";P.d(_e,{Hp:()=>je,Lv:()=>Q});var c=P(5044),X=P(7908),F=P(5367),ue=P(5160),ie=P(6921);const ge=de("C",void 0,void 0);function de(Y,ce,De){return{kind:Y,value:ce,error:De}}var $=P(2496),q=P(8706);class Q extends X.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,X.Nn)(ce)&&ce.add(this)):this.destination=le}static create(ce,De,ye){return new je(ce,De,ye)}next(ce){this.isStopped?Ue(de("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?Ue(de("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?Ue(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends Q{constructor(ce,De,ye){let ze;if(super(),(0,c.m)(ce))ze=ce;else if(ce){let ke;({next:ze,error:De,complete:ye}=ce),this&&F.v.useDeprecatedNextContext?(ke=Object.create(ce),ke.unsubscribe=()=>this.unsubscribe()):ke=ce,ze=null==ze?void 0:ze.bind(ke),De=null==De?void 0:De.bind(ke),ye=null==ye?void 0:ye.bind(ke)}this.destination={next:ze?Ie(ze):ie.Z,error:Ie(null!=De?De:$e),complete:ye?Ie(ye):ie.Z}}}function Ie(Y,ce){return(...De)=>{try{Y(...De)}catch(ye){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(ye):(0,ue.h)(ye)}}}function $e(Y){throw Y}function Ue(Y,ce){const{onStoppedNotification:De}=F.v;De&&$.z.setTimeout(()=>De(Y,ce))}const le={closed:!0,next:ie.Z,error:$e,complete:ie.Z}},7908:(Ke,_e,P)=>{"use strict";P.d(_e,{Lc:()=>ge,w0:()=>ie,Nn:()=>J});var c=P(5044);const F=(0,P(4893).d)(de=>function(q){de(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ue=P(3980);class ie{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ie of q)Ie.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Ie){$=Ie instanceof F?Ie.errors:[Ie]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const Ie of je)try{se(Ie)}catch($e){$=null!=$?$:[],$e instanceof F?$=[...$,...$e.errors]:$.push($e)}}if($)throw new F($)}}add($){var q;if($&&$!==this)if(this.closed)se($);else{if($ instanceof ie){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(q=this._teardowns)&&void 0!==q?q:[]).push($)}}_hasParent($){const{_parentage:q}=this;return q===$||Array.isArray(q)&&q.includes($)}_addParent($){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push($),q):q?[q,$]:$}_removeParent($){const{_parentage:q}=this;q===$?this._parentage=null:Array.isArray(q)&&(0,ue.P)(q,$)}remove($){const{_teardowns:q}=this;q&&(0,ue.P)(q,$),$ instanceof ie&&$._removeParent(this)}}ie.EMPTY=(()=>{const de=new ie;return de.closed=!0,de})();const ge=ie.EMPTY;function J(de){return de instanceof ie||de&&"closed"in de&&(0,c.m)(de.remove)&&(0,c.m)(de.add)&&(0,c.m)(de.unsubscribe)}function se(de){(0,c.m)(de)?de():de.unsubscribe()}},5367:(Ke,_e,P)=>{"use strict";P.d(_e,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Ke,_e,P)=>{"use strict";P.d(_e,{E:()=>X});const X=new(P(8305).y)(ie=>ie.complete())},5947:(Ke,_e,P)=>{"use strict";P.d(_e,{D:()=>ze});var c=P(9985),X=P(4763),F=P(5222),ge=P(8305),se=P(5497),de=P(5044),$=P(8395);function Q(ke,We){if(!ke)throw new Error("Iterable cannot be null");return new ge.y(Qe=>{(0,$.f)(Qe,We,()=>{const ft=ke[Symbol.asyncIterator]();(0,$.f)(Qe,We,()=>{ft.next().then(te=>{te.done?Qe.complete():Qe.next(te.value)})},0,!0)})})}var je=P(1073),Ie=P(2442),$e=P(1537),Ue=P(2317),le=P(9908),Y=P(3754),ce=P(7751);function ze(ke,We){return We?function(ke,We){if(null!=ke){if((0,je.c)(ke))return function(ke,We){return(0,c.Xf)(ke).pipe((0,F.R)(We),(0,X.Q)(We))}(ke,We);if((0,$e.z)(ke))return function(ke,We){return new ge.y(Qe=>{let ft=0;return We.schedule(function(){ft===ke.length?Qe.complete():(Qe.next(ke[ft++]),Qe.closed||this.schedule())})})}(ke,We);if((0,Ie.t)(ke))return function(ke,We){return(0,c.Xf)(ke).pipe((0,F.R)(We),(0,X.Q)(We))}(ke,We);if((0,le.D)(ke))return Q(ke,We);if((0,Ue.T)(ke))return function(ke,We){return new ge.y(Qe=>{let ft;return(0,$.f)(Qe,We,()=>{ft=ke[se.h](),(0,$.f)(Qe,We,()=>{let te,he;try{({value:te,done:he}=ft.next())}catch(be){return void Qe.error(be)}he?Qe.complete():Qe.next(te)},0,!0)}),()=>(0,de.m)(null==ft?void 0:ft.return)&&ft.return()})}(ke,We);if((0,ce.L)(ke))return function(ke,We){return Q((0,ce.Q)(ke),We)}(ke,We)}throw(0,Y.z)(ke)}(ke,We):(0,c.Xf)(ke)}},9985:(Ke,_e,P)=>{"use strict";P.d(_e,{Xf:()=>je});var c=P(9162),X=P(1537),F=P(2442),ue=P(8305),ie=P(1073),ge=P(9908),J=P(3754),se=P(2317),de=P(7751),$=P(5044),q=P(5160),Q=P(4816);function je(ye){if(ye instanceof ue.y)return ye;if(null!=ye){if((0,ie.c)(ye))return function(ye){return new ue.y(ze=>{const ke=ye[Q.L]();if((0,$.m)(ke.subscribe))return ke.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,X.z)(ye))return function(ye){return new ue.y(ze=>{for(let ke=0;ke<ye.length&&!ze.closed;ke++)ze.next(ye[ke]);ze.complete()})}(ye);if((0,F.t)(ye))return function(ye){return new ue.y(ze=>{ye.then(ke=>{ze.closed||(ze.next(ke),ze.complete())},ke=>ze.error(ke)).then(null,q.h)})}(ye);if((0,ge.D)(ye))return Y(ye);if((0,se.T)(ye))return function(ye){return new ue.y(ze=>{for(const ke of ye)if(ze.next(ke),ze.closed)return;ze.complete()})}(ye);if((0,de.L)(ye))return function(ye){return Y((0,de.Q)(ye))}(ye)}throw(0,J.z)(ye)}function Y(ye){return new ue.y(ze=>{(function(ye,ze){var ke,We,Qe,ft;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ke=(0,c.KL)(ye);!(We=yield ke.next()).done;)if(ze.next(We.value),ze.closed)return}catch(te){Qe={error:te}}finally{try{We&&!We.done&&(ft=ke.return)&&(yield ft.call(ke))}finally{if(Qe)throw Qe.error}}ze.complete()})})(ye,ze).catch(ke=>ze.error(ke))})}},3719:(Ke,_e,P)=>{"use strict";P.d(_e,{T:()=>ge});var c=P(5373),X=P(9985),F=P(5583),ue=P(7613),ie=P(5947);function ge(...J){const se=(0,ue.yG)(J),de=(0,ue._6)(J,1/0),$=J;return $.length?1===$.length?(0,X.Xf)($[0]):(0,c.J)(de)((0,ie.D)($,se)):F.E}},8889:(Ke,_e,P)=>{"use strict";P.d(_e,{Q:()=>X});var c=P(584);class X extends c.Lv{constructor(ue,ie,ge,J,se){super(ue),this.onFinalize=se,this._next=ie?function(de){try{ie(de)}catch($){ue.error($)}}:super._next,this._error=J?function(de){try{J(de)}catch($){ue.error($)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}},4753:(Ke,_e,P)=>{"use strict";P.d(_e,{U:()=>F});var c=P(9947),X=P(8889);function F(ue,ie){return(0,c.e)((ge,J)=>{let se=0;ge.subscribe(new X.Q(J,de=>{J.next(ue.call(ie,de,se++))}))})}},5373:(Ke,_e,P)=>{"use strict";P.d(_e,{J:()=>F});var c=P(5724),X=P(4623);function F(ue=1/0){return(0,c.z)(X.y,ue)}},5724:(Ke,_e,P)=>{"use strict";P.d(_e,{z:()=>se});var c=P(4753),X=P(9985),F=P(9947),ie=(P(8395),P(8889)),J=P(5044);function se(de,$,q=1/0){return(0,J.m)($)?se((Q,je)=>(0,c.U)((Ie,$e)=>$(Q,Ie,je,$e))((0,X.Xf)(de(Q,je))),q):("number"==typeof $&&(q=$),(0,F.e)((Q,je)=>function(de,$,q,Q,je,Ie,$e,Ue){const le=[];let Y=0,ce=0,De=!1;const ye=()=>{De&&!le.length&&!Y&&$.complete()},ze=We=>Y<Q?ke(We):le.push(We),ke=We=>{Y++;let Qe=!1;(0,X.Xf)(q(We,ce++)).subscribe(new ie.Q($,ft=>{$.next(ft)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(Y--;le.length&&Y<Q;){const ft=le.shift();ke(ft)}ye()}catch(ft){$.error(ft)}}))};return de.subscribe(new ie.Q($,ze,()=>{De=!0,ye()})),()=>{}}(Q,je,de,q)))}},4763:(Ke,_e,P)=>{"use strict";P.d(_e,{Q:()=>ue});var c=P(8395),X=P(9947),F=P(8889);function ue(ie,ge=0){return(0,X.e)((J,se)=>{J.subscribe(new F.Q(se,de=>(0,c.f)(se,ie,()=>se.next(de),ge),()=>(0,c.f)(se,ie,()=>se.complete(),ge),de=>(0,c.f)(se,ie,()=>se.error(de),ge)))})}},3174:(Ke,_e,P)=>{"use strict";P.d(_e,{B:()=>ge});var c=P(5947),X=P(9468),F=P(273),ue=P(584),ie=P(9947);function ge(se={}){const{connector:de=(()=>new F.x),resetOnError:$=!0,resetOnComplete:q=!0,resetOnRefCountZero:Q=!0}=se;return je=>{let Ie=null,$e=null,Ue=null,le=0,Y=!1,ce=!1;const De=()=>{null==$e||$e.unsubscribe(),$e=null},ye=()=>{De(),Ie=Ue=null,Y=ce=!1},ze=()=>{const ke=Ie;ye(),null==ke||ke.unsubscribe()};return(0,ie.e)((ke,We)=>{le++,!ce&&!Y&&De();const Qe=Ue=null!=Ue?Ue:de();We.add(()=>{le--,0===le&&!ce&&!Y&&($e=J(ze,Q))}),Qe.subscribe(We),Ie||(Ie=new ue.Hp({next:ft=>Qe.next(ft),error:ft=>{ce=!0,De(),$e=J(ye,$,ft),Qe.error(ft)},complete:()=>{Y=!0,De(),$e=J(ye,q),Qe.complete()}}),(0,c.D)(ke).subscribe(Ie))})(je)}}function J(se,de,...$){return!0===de?(se(),null):!1===de?null:de(...$).pipe((0,X.q)(1)).subscribe(()=>se())}},5222:(Ke,_e,P)=>{"use strict";P.d(_e,{R:()=>X});var c=P(9947);function X(F,ue=0){return(0,c.e)((ie,ge)=>{ge.add(F.schedule(()=>ie.subscribe(ge),ue))})}},9468:(Ke,_e,P)=>{"use strict";P.d(_e,{q:()=>ue});var c=P(5583),X=P(9947),F=P(8889);function ue(ie){return ie<=0?()=>c.E:(0,X.e)((ge,J)=>{let se=0;ge.subscribe(new F.Q(J,de=>{++se<=ie&&(J.next(de),ie<=se&&J.complete())}))})}},7384:(Ke,_e,P)=>{"use strict";P.d(_e,{b:()=>ie});var c=P(5044),X=P(9947),F=P(8889),ue=P(4623);function ie(ge,J,se){const de=(0,c.m)(ge)||J||se?{next:ge,error:J,complete:se}:ge;return de?(0,X.e)(($,q)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let je=!0;$.subscribe(new F.Q(q,Ie=>{var $e;null===($e=de.next)||void 0===$e||$e.call(de,Ie),q.next(Ie)},()=>{var Ie;je=!1,null===(Ie=de.complete)||void 0===Ie||Ie.call(de),q.complete()},Ie=>{var $e;je=!1,null===($e=de.error)||void 0===$e||$e.call(de,Ie),q.error(Ie)},()=>{var Ie,$e;je&&(null===(Ie=de.unsubscribe)||void 0===Ie||Ie.call(de)),null===($e=de.finalize)||void 0===$e||$e.call(de)}))}):ue.y}},2869:(Ke,_e,P)=>{"use strict";P.d(_e,{o:()=>ie});var c=P(7908);class X extends c.w0{constructor(J,se){super()}schedule(J,se=0){return this}}const F={setInterval(...ge){const{delegate:J}=F;return((null==J?void 0:J.setInterval)||setInterval)(...ge)},clearInterval(ge){const{delegate:J}=F;return((null==J?void 0:J.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=P(3980);class ie extends X{constructor(J,se){super(J,se),this.scheduler=J,this.work=se,this.pending=!1}schedule(J,se=0){if(this.closed)return this;this.state=J;const de=this.id,$=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId($,de,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId($,this.id,se),this}requestAsyncId(J,se,de=0){return F.setInterval(J.flush.bind(J,this),de)}recycleAsyncId(J,se,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return se;F.clearInterval(se)}execute(J,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(J,se);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,se){let $,de=!1;try{this.work(J)}catch(q){de=!0,$=q||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:J,scheduler:se}=this,{actions:de}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(de,this),null!=J&&(this.id=this.recycleAsyncId(se,J,null)),this.delay=null,super.unsubscribe()}}}},8843:(Ke,_e,P)=>{"use strict";P.d(_e,{v:()=>F});var c=P(1733);class X{constructor(ie,ge=X.now){this.schedulerActionCtor=ie,this.now=ge}schedule(ie,ge=0,J){return new this.schedulerActionCtor(this,ie).schedule(J,ge)}}X.now=c.l.now;class F extends X{constructor(ie,ge=X.now){super(ie,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:ge}=this;if(this._active)return void ge.push(ie);let J;this._active=!0;do{if(J=ie.execute(ie.state,ie.delay))break}while(ie=ge.shift());if(this._active=!1,J){for(;ie=ge.shift();)ie.unsubscribe();throw J}}}},2210:(Ke,_e,P)=>{"use strict";P.d(_e,{z:()=>F,P:()=>ue});var c=P(2869);const F=new(P(8843).v)(c.o),ue=F},1733:(Ke,_e,P)=>{"use strict";P.d(_e,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},2496:(Ke,_e,P)=>{"use strict";P.d(_e,{z:()=>c});const c={setTimeout(...X){const{delegate:F}=c;return((null==F?void 0:F.setTimeout)||setTimeout)(...X)},clearTimeout(X){const{delegate:F}=c;return((null==F?void 0:F.clearTimeout)||clearTimeout)(X)},delegate:void 0}},5497:(Ke,_e,P)=>{"use strict";P.d(_e,{h:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Ke,_e,P)=>{"use strict";P.d(_e,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Ke,_e,P)=>{"use strict";P.d(_e,{jO:()=>ue,yG:()=>ie,_6:()=>ge});var c=P(5044),X=P(7398);function F(J){return J[J.length-1]}function ue(J){return(0,c.m)(F(J))?J.pop():void 0}function ie(J){return(0,X.K)(F(J))?J.pop():void 0}function ge(J,se){return"number"==typeof F(J)?J.pop():se}},3980:(Ke,_e,P)=>{"use strict";function c(X,F){if(X){const ue=X.indexOf(F);0<=ue&&X.splice(ue,1)}}P.d(_e,{P:()=>c})},4893:(Ke,_e,P)=>{"use strict";function c(X){const ue=X(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}P.d(_e,{d:()=>c})},8706:(Ke,_e,P)=>{"use strict";P.d(_e,{x:()=>F,O:()=>ue});var c=P(5367);let X=null;function F(ie){if(c.v.useDeprecatedSynchronousErrorHandling){const ge=!X;if(ge&&(X={errorThrown:!1,error:null}),ie(),ge){const{errorThrown:J,error:se}=X;if(X=null,J)throw se}}else ie()}function ue(ie){c.v.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=ie)}},8395:(Ke,_e,P)=>{"use strict";function c(X,F,ue,ie=0,ge=!1){const J=F.schedule(function(){ue(),ge?X.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(X.add(J),!ge)return J}P.d(_e,{f:()=>c})},4623:(Ke,_e,P)=>{"use strict";function c(X){return X}P.d(_e,{y:()=>c})},1537:(Ke,_e,P)=>{"use strict";P.d(_e,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},9908:(Ke,_e,P)=>{"use strict";P.d(_e,{D:()=>X});var c=P(5044);function X(F){return Symbol.asyncIterator&&(0,c.m)(null==F?void 0:F[Symbol.asyncIterator])}},5044:(Ke,_e,P)=>{"use strict";function c(X){return"function"==typeof X}P.d(_e,{m:()=>c})},1073:(Ke,_e,P)=>{"use strict";P.d(_e,{c:()=>F});var c=P(4816),X=P(5044);function F(ue){return(0,X.m)(ue[c.L])}},2317:(Ke,_e,P)=>{"use strict";P.d(_e,{T:()=>F});var c=P(5497),X=P(5044);function F(ue){return(0,X.m)(null==ue?void 0:ue[c.h])}},2442:(Ke,_e,P)=>{"use strict";P.d(_e,{t:()=>X});var c=P(5044);function X(F){return(0,c.m)(null==F?void 0:F.then)}},7751:(Ke,_e,P)=>{"use strict";P.d(_e,{Q:()=>F,L:()=>ue});var c=P(9162),X=P(5044);function F(ie){return(0,c.FC)(this,arguments,function*(){const J=ie.getReader();try{for(;;){const{value:se,done:de}=yield(0,c.qq)(J.read());if(de)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(se)}}finally{J.releaseLock()}})}function ue(ie){return(0,X.m)(null==ie?void 0:ie.getReader)}},7398:(Ke,_e,P)=>{"use strict";P.d(_e,{K:()=>X});var c=P(5044);function X(F){return F&&(0,c.m)(F.schedule)}},9947:(Ke,_e,P)=>{"use strict";P.d(_e,{A:()=>X,e:()=>F});var c=P(5044);function X(ue){return(0,c.m)(null==ue?void 0:ue.lift)}function F(ue){return ie=>{if(X(ie))return ie.lift(function(ge){try{return ue(ge,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Ke,_e,P)=>{"use strict";function c(){}P.d(_e,{Z:()=>c})},5160:(Ke,_e,P)=>{"use strict";P.d(_e,{h:()=>F});var c=P(5367),X=P(2496);function F(ue){X.z.setTimeout(()=>{const{onUnhandledError:ie}=c.v;if(!ie)throw ue;ie(ue)})}},3754:(Ke,_e,P)=>{"use strict";function c(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(_e,{z:()=>c})},1195:(Ke,_e,P)=>{"use strict";var c=P(3668);let X=null;function F(){return X}const J=new c.OlP("DocumentToken");let se=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.LFG)(q)},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let q=(()=>{class n extends se{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){Q()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){Q()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return new q((0,c.LFG)(J))},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function $e(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function(n){const t=(0,c.LFG)(J).location;return new De((0,c.LFG)(se),t&&t.origin||"")}()},providedIn:"root"}),n})();const ce=new c.OlP("appBaseHref");let De=(()=>{class n extends le{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,l){const h=this.prepareExternalUrl(o+Ue(l));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){const h=this.prepareExternalUrl(o+Ue(l));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(se),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n extends le{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ie(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,l){let h=this.prepareExternalUrl(o+Ue(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,l){let h=this.prepareExternalUrl(o+Ue(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(se),c.LFG(ce,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=$e(Qe(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ue(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ue(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null==(o=(r=this._platformStrategy).historyGo)||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Ie,n.stripTrailingSlash=$e,n.\u0275fac=function(e){return new(e||n)(c.LFG(le),c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return new ze((0,c.LFG)(le),(0,c.LFG)(se))},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))(),be=(()=>((be=be||{})[be.Format=0]="Format",be[be.Standalone=1]="Standalone",be))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),Fe=(()=>((Fe=Fe||{})[Fe.Short=0]="Short",Fe[Fe.Medium=1]="Medium",Fe[Fe.Long=2]="Long",Fe[Fe.Full=3]="Full",Fe))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function di(n,t){return Yt((0,c.cg1)(n)[c.wAp.DateFormat],t)}function hn(n,t){return Yt((0,c.cg1)(n)[c.wAp.TimeFormat],t)}function ll(n,t){return Yt((0,c.cg1)(n)[c.wAp.DateTimeFormat],t)}function Mn(n,t){const e=(0,c.cg1)(n),r=e[c.wAp.NumberSymbols][t];if(void 0===r){if(t===me.CurrencyDecimal)return e[c.wAp.NumberSymbols][me.Decimal];if(t===me.CurrencyGroup)return e[c.wAp.NumberSymbols][me.Group]}return r}const ps=c.kL8;function Me(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yt(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function zi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Lt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Vt={},fi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.ShortGMT=1]="ShortGMT",Jt[Jt.Long=2]="Long",Jt[Jt.Extended=3]="Extended",Jt))(),Ze=(()=>((Ze=Ze||{})[Ze.FullYear=0]="FullYear",Ze[Ze.Month=1]="Month",Ze[Ze.Date=2]="Date",Ze[Ze.Hours=3]="Hours",Ze[Ze.Minutes=4]="Minutes",Ze[Ze.Seconds=5]="Seconds",Ze[Ze.FractionalSeconds=6]="FractionalSeconds",Ze[Ze.Day=7]="Day",Ze))(),lt=(()=>((lt=lt||{})[lt.DayPeriods=0]="DayPeriods",lt[lt.Days=1]="Days",lt[lt.Months=2]="Months",lt[lt.Eras=3]="Eras",lt))();function Vu(n,t,e,r){let o=function(n){if(Uu(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,h=1]=n.split("-").map(m=>+m);return to(o,l-1,h)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Lt))return function(n){const t=new Date(0);let e=0,r=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-e,m=Number(n[5]||0)-r,b=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,h,m,b,w),t}(r)}const t=new Date(n);if(!Uu(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=nn(e,t)||t;let m,h=[];for(;t;){if(m=fi.exec(t),!m){h.push(t);break}{h=h.concat(m.slice(1));const S=h.pop();if(!S)break;t=S}}let b=o.getTimezoneOffset();r&&(b=Po(r,b),o=function(n,t,e){const o=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(Po(t,o)-o))}(o,r));let w="";return h.forEach(S=>{const k=function(n){if(jt[n])return jt[n];let t;switch(n){case"G":case"GG":case"GGG":t=W(lt.Eras,we.Abbreviated);break;case"GGGG":t=W(lt.Eras,we.Wide);break;case"GGGGG":t=W(lt.Eras,we.Narrow);break;case"y":t=z(Ze.FullYear,1,0,!1,!0);break;case"yy":t=z(Ze.FullYear,2,0,!0,!0);break;case"yyy":t=z(Ze.FullYear,3,0,!1,!0);break;case"yyyy":t=z(Ze.FullYear,4,0,!1,!0);break;case"Y":t=pi(1);break;case"YY":t=pi(2,!0);break;case"YYY":t=pi(3);break;case"YYYY":t=pi(4);break;case"M":case"L":t=z(Ze.Month,1,1);break;case"MM":case"LL":t=z(Ze.Month,2,1);break;case"MMM":t=W(lt.Months,we.Abbreviated);break;case"MMMM":t=W(lt.Months,we.Wide);break;case"MMMMM":t=W(lt.Months,we.Narrow);break;case"LLL":t=W(lt.Months,we.Abbreviated,be.Standalone);break;case"LLLL":t=W(lt.Months,we.Wide,be.Standalone);break;case"LLLLL":t=W(lt.Months,we.Narrow,be.Standalone);break;case"w":t=kn(1);break;case"ww":t=kn(2);break;case"W":t=kn(1,!0);break;case"d":t=z(Ze.Date,1);break;case"dd":t=z(Ze.Date,2);break;case"c":case"cc":t=z(Ze.Day,1);break;case"ccc":t=W(lt.Days,we.Abbreviated,be.Standalone);break;case"cccc":t=W(lt.Days,we.Wide,be.Standalone);break;case"ccccc":t=W(lt.Days,we.Narrow,be.Standalone);break;case"cccccc":t=W(lt.Days,we.Short,be.Standalone);break;case"E":case"EE":case"EEE":t=W(lt.Days,we.Abbreviated);break;case"EEEE":t=W(lt.Days,we.Wide);break;case"EEEEE":t=W(lt.Days,we.Narrow);break;case"EEEEEE":t=W(lt.Days,we.Short);break;case"a":case"aa":case"aaa":t=W(lt.DayPeriods,we.Abbreviated);break;case"aaaa":t=W(lt.DayPeriods,we.Wide);break;case"aaaaa":t=W(lt.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":t=W(lt.DayPeriods,we.Abbreviated,be.Standalone,!0);break;case"bbbb":t=W(lt.DayPeriods,we.Wide,be.Standalone,!0);break;case"bbbbb":t=W(lt.DayPeriods,we.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":t=W(lt.DayPeriods,we.Abbreviated,be.Format,!0);break;case"BBBB":t=W(lt.DayPeriods,we.Wide,be.Format,!0);break;case"BBBBB":t=W(lt.DayPeriods,we.Narrow,be.Format,!0);break;case"h":t=z(Ze.Hours,1,-12);break;case"hh":t=z(Ze.Hours,2,-12);break;case"H":t=z(Ze.Hours,1);break;case"HH":t=z(Ze.Hours,2);break;case"m":t=z(Ze.Minutes,1);break;case"mm":t=z(Ze.Minutes,2);break;case"s":t=z(Ze.Seconds,1);break;case"ss":t=z(Ze.Seconds,2);break;case"S":t=z(Ze.FractionalSeconds,1);break;case"SS":t=z(Ze.FractionalSeconds,2);break;case"SSS":t=z(Ze.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ne(Jt.Short);break;case"ZZZZZ":t=ne(Jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ne(Jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ne(Jt.Long);break;default:return null}return jt[n]=t,t}(S);w+=k?k(o,e,b):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function to(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function nn(n,t){const e=function(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Vt[e]=Vt[e]||{},Vt[e][t])return Vt[e][t];let r="";switch(t){case"shortDate":r=di(n,Fe.Short);break;case"mediumDate":r=di(n,Fe.Medium);break;case"longDate":r=di(n,Fe.Long);break;case"fullDate":r=di(n,Fe.Full);break;case"shortTime":r=hn(n,Fe.Short);break;case"mediumTime":r=hn(n,Fe.Medium);break;case"longTime":r=hn(n,Fe.Long);break;case"fullTime":r=hn(n,Fe.Full);break;case"short":const o=nn(n,"shortTime"),l=nn(n,"shortDate");r=At(ll(n,Fe.Short),[o,l]);break;case"medium":const h=nn(n,"mediumTime"),m=nn(n,"mediumDate");r=At(ll(n,Fe.Medium),[h,m]);break;case"long":const b=nn(n,"longTime"),w=nn(n,"longDate");r=At(ll(n,Fe.Long),[b,w]);break;case"full":const S=nn(n,"fullTime"),k=nn(n,"fullDate");r=At(ll(n,Fe.Full),[S,k])}return r&&(Vt[e][t]=r),r}function At(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function $r(n,t,e="-",r,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let h=String(n);for(;h.length<t;)h="0"+h;return r&&(h=h.substr(h.length-t)),l+h}function z(n,t,e=0,r=!1,o=!1){return function(l,h){let m=function(n,t){switch(n){case Ze.FullYear:return t.getFullYear();case Ze.Month:return t.getMonth();case Ze.Date:return t.getDate();case Ze.Hours:return t.getHours();case Ze.Minutes:return t.getMinutes();case Ze.Seconds:return t.getSeconds();case Ze.FractionalSeconds:return t.getMilliseconds();case Ze.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||m>-e)&&(m+=e),n===Ze.Hours)0===m&&-12===e&&(m=12);else if(n===Ze.FractionalSeconds)return function(n,t){return $r(n,3).substr(0,t)}(m,t);const b=Mn(h,me.MinusSign);return $r(m,t,b,r,o)}}function W(n,t,e=be.Format,r=!1){return function(o,l){return function(n,t,e,r,o,l){switch(e){case lt.Months:return function(n,t,e){const r=(0,c.cg1)(n),l=Yt([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],t);return Yt(l,e)}(t,o,r)[n.getMonth()];case lt.Days:return function(n,t,e){const r=(0,c.cg1)(n),l=Yt([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],t);return Yt(l,e)}(t,o,r)[n.getDay()];case lt.DayPeriods:const h=n.getHours(),m=n.getMinutes();if(l){const w=function(n){const t=(0,c.cg1)(n);return Me(t),(t[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?zi(r):[zi(r[0]),zi(r[1])])}(t),S=function(n,t,e){const r=(0,c.cg1)(n);Me(r);const l=Yt([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],t)||[];return Yt(l,e)||[]}(t,o,r),k=w.findIndex(V=>{if(Array.isArray(V)){const[j,Z]=V,pe=h>=j.hours&&m>=j.minutes,Se=h<Z.hours||h===Z.hours&&m<Z.minutes;if(j.hours<Z.hours){if(pe&&Se)return!0}else if(pe||Se)return!0}else if(V.hours===h&&V.minutes===m)return!0;return!1});if(-1!==k)return S[k]}return function(n,t,e){const r=(0,c.cg1)(n),l=Yt([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],t);return Yt(l,e)}(t,o,r)[h<12?0:1];case lt.Eras:return function(n,t){return Yt((0,c.cg1)(n)[c.wAp.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,r)}}function ne(n){return function(t,e,r){const o=-1*r,l=Mn(e,me.MinusSign),h=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Jt.Short:return(o>=0?"+":"")+$r(h,2,l)+$r(Math.abs(o%60),2,l);case Jt.ShortGMT:return"GMT"+(o>=0?"+":"")+$r(h,1,l);case Jt.Long:return"GMT"+(o>=0?"+":"")+$r(h,2,l)+":"+$r(Math.abs(o%60),2,l);case Jt.Extended:return 0===r?"Z":(o>=0?"+":"")+$r(h,2,l)+":"+$r(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function gr(n){return to(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function kn(n,t=!1){return function(e,r){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();o=1+Math.floor((h+l)/7)}else{const l=gr(e),h=function(n){const t=to(n,0,1).getDay();return to(n,0,1+(t<=4?4:11)-t)}(l.getFullYear()),m=l.getTime()-h.getTime();o=1+Math.round(m/6048e5)}return $r(o,n,Mn(r,me.MinusSign))}}function pi(n,t=!1){return function(e,r){return $r(gr(e).getFullYear(),n,Mn(r,me.MinusSign),t)}}const jt={};function Po(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Uu(n){return n instanceof Date&&!isNaN(n.valueOf())}class gi{}let on=(()=>{class n extends gi{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(ps(r||this.locale)(e)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),zr=(()=>{class n{constructor(e,r,o,l){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class hl{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ms=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new hl(null,this._ngForOf,-1,-1),null===h?void 0:h),b=new fl(o,m);r.push(b)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const m=this._viewContainer.get(l);this._viewContainer.move(m,h);const b=new fl(o,m);r.push(b)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class fl{constructor(t,e){this.record=t,this.view=e}}let xr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new _c,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){io("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){io("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class _c{constructor(){this.$implicit=null,this.ngIf=null}}function io(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}class Pn{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ca=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Gr=(()=>{class n{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new Pn(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ca,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function Yi(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,c.AaK)(n)}'`)}class Ea{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Lp{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const qh=new Lp,Vp=new Ea;let yc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,c.QGY)(e))return qh;if((0,c.F4k)(e))return Vp;throw Yi(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})();const Hu=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let qu=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",o,l){var h;if(null==e||""===e||e!=e)return null;try{return Vu(e,r,l||this.locale,null!=(h=null!=o?o:this.defaultTimezone)?h:void 0)}catch(m){throw Yi(n,m.message)}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.soG,16),c.Y36(Hu,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),ys=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:gi,useClass:on}]}),n})();const Wh="browser";function kr(n){return"server"===n}let Up=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new _l((0,c.LFG)(J),window)}),n})();class _l{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Lo(this.window.history)||Lo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Lo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Bo,X||(X=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Wr=Wr||document.querySelector("base"),Wr?Wr.getAttribute("href"):null);return null==e?null:function(n){jn=jn||document.createElement("a"),jn.setAttribute("href",n);const t=jn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Wr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,l]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let jn,Wr=null;const Uo=new c.OlP("TRANSITION_ID"),sn=[{provide:c.ip1,useFactory:function(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const r=F(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[Uo,J,c.zs3],multi:!0}];class Vs{static init(){(0,c.VLi)(new Vs)}addToWindow(t){c.dqk.getAngularTestability=(r,o=!0)=>{const l=t.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const m=function(b){h=h||b,l--,0==l&&r(h)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let yl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=new c.OlP("EventManagerPlugins");let gn=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ao{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=F().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Ho=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),er=(()=>{class n extends Ho{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(bl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(bl))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function bl(n){F().remove(n)}const lo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Cl=/%COMP%/g;function Xi(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Xi(n,o,e):(o=o.replace(Cl,n),e.push(o))}return e}function es(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let co=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new qo(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Ma(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case c.ifc.ShadowDom:return new xc(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Xi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(gn),c.LFG(er),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(lo[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const l=lo[o];l?t.setAttributeNS(l,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=lo[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,r,o&c.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,es(r)):this.eventManager.addEventListener(t,e,es(r))}}class Ma extends qo{constructor(t,e,r,o){super(t),this.component=r;const l=Xi(o+"-"+r.id,r.styles,[]);e.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Cl,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Cl,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class xc extends qo{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Xi(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const m=document.createElement("style");m.textContent=l[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let El=(()=>{class n extends ao{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ed=["alt","control","meta","shift"],uo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},En={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let __=(()=>{class n extends ao{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(ed.forEach(b=>{const w=r.indexOf(b);w>-1&&(r.splice(w,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(e){let r="",o=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&En.hasOwnProperty(t)&&(t=En[t]))}return uo[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ed.forEach(l=>{l!=o&&kc[l](e)&&(r+=l+".")}),r+=o,r}static eventCallback(e,r,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>r(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$o=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new(e||n):c.LFG(Qh),r},providedIn:"root"}),n})(),Qh=(()=>{class n extends $o{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let r=null;return r=e?new e:function(n){return new Qh(n.get(J))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();const Na=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Wh},{provide:c.g9A,useValue:function(){Bo.makeCurrent(),Vs.init()},multi:!0},{provide:J,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),qp=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:vs,useClass:El,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:vs,useClass:__,multi:!0,deps:[J]},[],{provide:co,useClass:co,deps:[gn,er,c.AFp]},{provide:c.FYo,useExisting:co},{provide:Ho,useExisting:er},{provide:er,useClass:er,deps:[J]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:gn,useClass:gn,deps:[vs,c.R0b]},{provide:class{},useClass:yl,deps:[]},[]];let id=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Uo,useExisting:c.AFp},sn]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:qp,imports:[ys,c.hGG]}),n})();"undefined"!=typeof window&&window;var yn=P(5947),bs=P(7613);function Xe(...n){const t=(0,bs.yG)(n);return(0,yn.D)(n,t)}var gt=P(273);class br extends gt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var vn=P(8305);const{isArray:Xh}=Array,{getPrototypeOf:Cs,prototype:od,keys:ad}=Object;function Sl(n){if(1===n.length){const t=n[0];if(Xh(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&Cs(n)===od}(t)){const e=ad(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var xl=P(4623),Ye=P(4753);const{isArray:Wo}=Array;function ho(n){return(0,Ye.U)(t=>function(n,t){return Wo(t)?n(...t):n(t)}(n,t))}function ld(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}var kt=P(8889),Bc=P(8395);function La(...n){const t=(0,bs.yG)(n),e=(0,bs.jO)(n),{args:r,keys:o}=Sl(n);if(0===r.length)return(0,yn.D)([],t);const l=new vn.y(function(n,t,e=xl.y){return r=>{Us(t,()=>{const{length:o}=n,l=new Array(o);let h=o,m=o;for(let b=0;b<o;b++)Us(t,()=>{const w=(0,yn.D)(n[b],t);let S=!1;w.subscribe(new kt.Q(r,k=>{l[b]=k,S||(S=!0,m--),m||r.next(e(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>ld(o,h):xl.y));return e?l.pipe(ho(e)):l}function Us(n,t,e){n?(0,Bc.f)(e,n,t):t()}const js=(0,P(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ts=P(5373);function Rr(...n){return(0,ts.J)(1)((0,yn.D)(n,(0,bs.yG)(n)))}var Va=P(9985);function Rl(n){return new vn.y(t=>{(0,Va.Xf)(n()).subscribe(t)})}var Es=P(5583),cr=P(7908),ur=P(9947);function Sn(){return(0,ur.e)((n,t)=>{let e=null;n._refCount++;const r=new kt.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class ef extends vn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ur.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new cr.w0;const e=this.getSubject();t.add(this.source.subscribe(new kt.Q(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=cr.w0.EMPTY)}return t}refCount(){return Sn()(this)}}function Or(n,t){return(0,ur.e)((e,r)=>{let o=null,l=0,h=!1;const m=()=>h&&!o&&r.complete();e.subscribe(new kt.Q(r,b=>{null==o||o.unsubscribe();let w=0;const S=l++;(0,Va.Xf)(n(b,S)).subscribe(o=new kt.Q(r,k=>r.next(t?t(b,k,S,w++):k),()=>{o=null,m()}))},()=>{h=!0,m()}))})}var Zr=P(9468);function _i(...n){const t=(0,bs.yG)(n);return(0,ur.e)((e,r)=>{(t?Rr(n,e,t):Rr(n,e)).subscribe(r)})}function $p(n,t,e,r,o){return(l,h)=>{let m=e,b=t,w=0;l.subscribe(new kt.Q(h,S=>{const k=w++;b=m?n(b,S,k):(m=!0,S),r&&h.next(b)},o&&(()=>{m&&h.next(b),h.complete()})))}}function Uc(n,t){return(0,ur.e)($p(n,t,arguments.length>=2,!0))}function Pi(n,t){return(0,ur.e)((e,r)=>{let o=0;e.subscribe(new kt.Q(r,l=>n.call(t,l,o++)&&r.next(l)))})}function tr(n){return(0,ur.e)((t,e)=>{let l,r=null,o=!1;r=t.subscribe(new kt.Q(e,void 0,void 0,h=>{l=(0,Va.Xf)(n(h,tr(n)(t))),r?(r.unsubscribe(),r=null,l.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(e))})}var Cr=P(5724),cn=P(5044);function Hs(n,t){return(0,cn.m)(t)?(0,Cr.z)(n,t,1):(0,Cr.z)(n,1)}function po(n){return n<=0?()=>Es.E:(0,ur.e)((t,e)=>{let r=[];t.subscribe(new kt.Q(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function zp(n=tf){return(0,ur.e)((t,e)=>{let r=!1;t.subscribe(new kt.Q(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function tf(){return new js}function Yr(n){return(0,ur.e)((t,e)=>{let r=!1;t.subscribe(new kt.Q(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Ds(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pi((o,l)=>n(o,l,r)):xl.y,(0,Zr.q)(1),e?Yr(t):zp(()=>new js))}var Xt=P(7384);function Ni(n){return(0,ur.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ns{constructor(t,e){this.id=t,this.url=e}}class Ba extends ns{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qs extends ns{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jc extends ns{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ud extends ns{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gp extends ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fi extends ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nf extends ns{constructor(t,e,r,o,l){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zo extends ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D_ extends ns{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wp{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zp{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Ol{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gs(n){return new Ol(n)}const mo="ngNavigationCancelingError";function Pl(n){const t=Error("NavigationCancelingError: "+n);return t[mo]=!0,t}function D(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],m=n[l];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function R(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!L(n[o],t[o]))return!1;return!0}function L(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,l)=>r[l]===o)}return n===t}function K(n){return Array.prototype.concat.apply([],n)}function ae(n){return n.length>0?n[n.length-1]:null}function Be(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Pe(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,yn.D)(Promise.resolve(n)):Xe(n)}const un={exact:function go(n,t,e){if(!_o(n.segments,t.segments)||!Li(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!go(n.children[r],t.children[r],e))return!1;return!0},subset:rs},Hn={exact:function(n,t){return R(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>L(n[e],t[e]))},ignored:()=>!0};function Yn(n,t,e){return un[e.paths](n.root,t.root,e.matrixParams)&&Hn[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function rs(n,t,e){return Kn(n,t,t.segments,e)}function Kn(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!_o(o,e)||t.hasChildren()||!Li(o,e,r))}if(n.segments.length===e.length){if(!_o(n.segments,e)||!Li(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!rs(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(_o(n.segments,o)&&Li(n.segments,o,r)&&n.children[Pt])&&Kn(n.children[Pt],t,l,r)}}function Li(n,t,e){return t.every((r,o)=>Hn[e](n[o].parameters,r.parameters))}class Pr{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return qc.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Be(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yo(this)}}class ja{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gs(this.parameters)),this._parameterMap}toString(){return rf(this)}}function _o(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class Kp{}class I_{parse(t){const e=new S_(t);return new Pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fd(t.root,!0)}`,r=function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${Nl(e)}=${Nl(o)}`).join("&"):`${Nl(e)}=${Nl(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${r}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const qc=new I_;function yo(n){return n.segments.map(t=>rf(t)).join("/")}function fd(n,t){if(!n.hasChildren())return yo(n);if(t){const e=n.children[Pt]?fd(n.children[Pt],!1):"",r=[];return Be(n.children,(o,l)=>{l!==Pt&&r.push(`${l}:${fd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return Be(n.children,(r,o)=>{o===Pt&&(e=e.concat(t(r,o)))}),Be(n.children,(r,o)=>{o!==Pt&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===Pt?[fd(n.children[Pt],!1)]:[`${o}:${fd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${yo(n)}/${e[0]}`:`${yo(n)}/(${e.join("//")})`}}function Ab(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(n){return Ab(n).replace(/%3B/gi,";")}function A_(n){return Ab(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(n){return decodeURIComponent(n)}function T_(n){return $c(n.replace(/\+/g,"%20"))}function rf(n){return`${A_(n.path)}${function(n){return Object.keys(n).map(t=>`;${A_(t)}=${A_(n[t])}`).join("")}(n.parameters)}`}const Ll=/^[^\/()?;=#]+/;function zc(n){const t=n.match(Ll);return t?t[0]:""}const Sb=/^[^=?&#]+/,md=/^[^&#]+/;class S_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Pt]=new Ut(t,e)),r}parseSegment(){const t=zc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ja($c(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zc(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=zc(this.remaining);o&&(r=o,this.capture(r))}t[$c(e)]=$c(r)}parseQueryParam(t){const e=function(n){const t=n.match(Sb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function(n){const t=n.match(md);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=T_(e),l=T_(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Pt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[Pt]:new Ut([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class af{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Gc(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Gc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ko(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Ko(t,this._root).map(e=>e.value)}}function Gc(n,t){if(n===t.value)return t;for(const e of t.children){const r=Gc(n,e);if(r)return r}return null}function Ko(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Ko(n,e);if(r.length)return r.unshift(t),r}return[]}class Qo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class lf extends af{constructor(t,e){super(t),this.snapshot=e,Qp(this,t)}toString(){return this.snapshot.toString()}}function M_(n,t){const e=function(n,t){const h=new cf([],{},{},"",{},Pt,t,null,n.root,-1,{});return new x_("",new Qo(h,[]))}(n,t),r=new br([new ja("",{})]),o=new br({}),l=new br({}),h=new br({}),m=new br(""),b=new Nr(r,o,h,m,l,Pt,t,e.root);return b.snapshot=e.root,new lf(new Qo(b,[]),e)}class Nr{constructor(t,e,r,o,l,h,m,b){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(t=>Gs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(t=>Gs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vl(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],l=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:qe(qe({},t.params),e.params),data:qe(qe({},t.data),e.data),resolve:qe(qe({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class cf{constructor(t,e,r,o,l,h,m,b,w,S,k){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=m,this.routeConfig=b,this._urlSegment=w,this._lastPathIndex=S,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class x_ extends af{constructor(t,e){super(e),this.url=t,Qp(this,e)}toString(){return k_(this._root)}}function Qp(n,t){t.value._routerState=n,t.children.forEach(e=>Qp(n,e))}function k_(n){const t=n.children.length>0?` { ${n.children.map(k_).join(", ")} } `:"";return`${n.value}${t}`}function Jp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,R(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),R(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!R(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),R(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function uf(n,t){const e=R(n.params,t.params)&&function(n,t){return _o(n,t)&&n.every((e,r)=>R(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||uf(n.parent,t.parent))}function _d(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return _d(n,r,o);return _d(n,r)})}(n,t,e);return new Qo(r,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(m=>_d(n,m)),h}}const r=function(n){return new Nr(new br(n.url),new br(n.params),new br(n.queryParams),new br(n.fragment),new br(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>_d(n,l));return new Qo(r,o)}}function df(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jo(n){return"object"==typeof n&&null!=n&&n.outlets}function hf(n,t,e,r,o){let l={};return r&&Be(r,(h,m)=>{l[m]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),new Pr(e.root===n?t:Is(e.root,n,t),l,o)}function Is(n,t,e){const r={};return Be(n.children,(o,l)=>{r[l]=o===t?e:Is(o,t,e)}),new Ut(n.segments,r)}class Zc{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&df(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Jo);if(o&&o!==ae(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ff{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function em(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return Yc(n,t,e);const r=function(n,t,e){let r=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return l;const h=n.segments[o],m=e[r];if(Jo(m))break;const b=`${m}`,w=r<e.length-1?e[r+1]:null;if(o>0&&void 0===b)break;if(b&&w&&"object"==typeof w&&void 0===w.outlets){if(!mf(b,w,h))return l;r+=2}else{if(!mf(b,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Ut(n.segments.slice(0,r.pathIndex),{});return l.children[Pt]=new Ut(n.segments.slice(r.pathIndex),n.children),Yc(l,0,o)}return r.match&&0===o.length?new Ut(n.segments,{}):r.match&&!n.hasChildren()?yd(n,t,e):r.match?Yc(n,0,o):yd(n,t,e)}function Yc(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const r=function(n){return Jo(n[0])?n[0].outlets:{[Pt]:n}}(e),o={};return Be(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=em(n.children[h],t,l))}),Be(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new Ut(n.segments,o)}}function yd(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(Jo(l)){const b=N_(l.outlets);return new Ut(r,b)}if(0===o&&df(e[0])){r.push(new ja(n.segments[t].path,Ob(e[0]))),o++;continue}const h=Jo(l)?l.outlets[Pt]:`${l}`,m=o<e.length-1?e[o+1]:null;h&&m&&df(m)?(r.push(new ja(h,Ob(m))),o+=2):(r.push(new ja(h,{})),o++)}return new Ut(r,{})}function N_(n){const t={};return Be(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=yd(new Ut([],{}),0,e))}),t}function Ob(n){const t={};return Be(n,(e,r)=>t[r]=`${e}`),t}function mf(n,t,e){return n==e.path&&R(t,e.parameters)}class Pb{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Jp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Wc(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Be(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else l&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=Wc(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,l=Wc(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=Wc(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Zp(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Wp(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,l=e?e.value:null;if(Jp(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),Jp(m.route.value),this.activateChildRoutes(t,null,h.children)}else{const m=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class tm{constructor(t,e){this.routes=t,this.module=e}}function Ha(n){return"function"==typeof n}function qa(n){return n instanceof Pr}const vd=Symbol("INITIAL_VALUE");function Bl(){return Or(n=>La(n.map(t=>t.pipe((0,Zr.q)(1),_i(vd)))).pipe(Uc((t,e)=>{let r=!1;return e.reduce((o,l,h)=>o!==vd?o:(l===vd&&(r=!0),r||!1!==l&&h!==e.length-1&&!qa(l)?o:l),t)},vd),Pi(t=>t!==vd),(0,Ye.U)(t=>qa(t)?t:!0===t),(0,Zr.q)(1)))}class gf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bd,this.attachRef=null}}class bd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new gf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let sm=(()=>{class n{constructor(e,r,o,l,h){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=l||Pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new om(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(bd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class om{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===Nr?this.route:t===bd?this.childContexts:this.parent.get(t,e)}}let L_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&c._UZ(0,"router-outlet")},directives:[sm],encapsulation:2}),n})();function V_(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];O0(r,P0(t,r))}}function O0(n,t){n.children&&V_(n.children,t)}function P0(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Ul(n){const t=n.children&&n.children.map(Ul),e=t?ui(qe({},n),{children:t}):qe({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Pt&&(e.component=L_),e}function wn(n){return n.outlet||Pt}function Kc(n,t){const e=n.filter(r=>wn(r)===t);return e.push(...n.filter(r=>wn(r)!==t)),e}const am={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Cd(n,t,e){var m;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?qe({},am):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||D)(e,n,t);if(!o)return qe({},am);const l={};Be(o.posParams,(b,w)=>{l[w]=b.path});const h=o.consumed.length>0?qe(qe({},l),o.consumed[o.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!=(m=o.posParams)?m:{}}}function Qn(n,t,e,r,o="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Ed(n,t,r)&&wn(r)!==Pt)}(n,e,r)){const h=new Ut(t,function(n,t,e,r){const o={};o[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&wn(l)!==Pt){const h=new Ut([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[wn(l)]=h}return o}(n,t,r,new Ut(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Ed(n,t,r))}(n,e,r)){const h=new Ut(n.segments,function(n,t,e,r,o,l){const h={};for(const m of r)if(Ed(n,e,m)&&!o[wn(m)]){const b=new Ut([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[wn(m)]=b}return qe(qe({},o),h)}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new Ut(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function Ed(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function B_(n,t,e,r){return!!(wn(n)===r||r!==Pt&&Ed(t,e,n))&&("**"===n.path||Cd(t,n,e).matched)}function cm(n,t,e){return 0===t.length&&!n.children[e]}class Qc{constructor(t){this.segmentGroup=t||null}}class um{constructor(t){this.urlTree=t}}function yf(n){return new vn.y(t=>t.error(new Qc(n)))}function U_(n){return new vn.y(t=>t.error(new um(n)))}function Lb(n){return new vn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class hm{constructor(t,e,r,o,l){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=Qn(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Pt).pipe((0,Ye.U)(l=>this.createUrlTree(j_(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(tr(l=>{if(l instanceof um)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Qc?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Pt).pipe((0,Ye.U)(o=>this.createUrlTree(j_(o),t.queryParams,t.fragment))).pipe(tr(o=>{throw o instanceof Qc?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Ut([],{[Pt]:t}):t;return new Pr(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,Ye.U)(l=>new Ut([],l))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,yn.D)(o).pipe(Hs(l=>{const h=r.children[l],m=Kc(e,l);return this.expandSegmentGroup(t,m,h,l).pipe((0,Ye.U)(b=>({segment:b,outlet:l})))}),Uc((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Pi((o,l)=>n(o,l,r)):xl.y,po(1),e?Yr(t):zp(()=>new js))}())}expandSegment(t,e,r,o,l,h){return(0,yn.D)(r).pipe(Hs(m=>this.expandSegmentAgainstRoute(t,e,r,m,o,l,h).pipe(tr(w=>{if(w instanceof Qc)return Xe(null);throw w}))),Ds(m=>!!m),tr((m,b)=>{if(m instanceof js||"EmptyError"===m.name){if(cm(e,o,l))return Xe(new Ut([],{}));throw new Qc(e)}throw m}))}expandSegmentAgainstRoute(t,e,r,o,l,h,m){return B_(o,e,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h):yf(e):yf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U_(l):this.lineralizeSegments(r,l).pipe((0,Cr.z)(h=>{const m=new Ut(h,{});return this.expandSegment(t,m,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,l,h){const{matched:m,consumedSegments:b,lastChild:w,positionalParamSegments:S}=Cd(e,o,l);if(!m)return yf(e);const k=this.applyRedirectCommands(b,o.redirectTo,S);return o.redirectTo.startsWith("/")?U_(k):this.lineralizeSegments(o,k).pipe((0,Cr.z)(V=>this.expandSegment(t,e,r,V.concat(l.slice(w)),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Xe(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,Ye.U)(V=>(r._loadedConfig=V,new Ut(o,{})))):Xe(new Ut(o,{}));const{matched:h,consumedSegments:m,lastChild:b}=Cd(e,r,o);if(!h)return yf(e);const w=o.slice(b);return this.getChildConfig(t,r,o).pipe((0,Cr.z)(k=>{const V=k.module,j=k.routes,{segmentGroup:Z,slicedSegments:pe}=Qn(e,m,w,j),Se=new Ut(Z.segments,Z.children);if(0===pe.length&&Se.hasChildren())return this.expandChildren(V,j,Se).pipe((0,Ye.U)(ht=>new Ut(m,ht)));if(0===j.length&&0===pe.length)return Xe(new Ut(m,{}));const ut=wn(r)===l;return this.expandSegment(V,Se,j,pe,ut?Pt:l,!0).pipe((0,Ye.U)($t=>new Ut(m.concat($t.segments),$t.children)))}))}getChildConfig(t,e,r){return e.children?Xe(new tm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Xe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Cr.z)(o=>{return o?this.configLoader.load(t.injector,e).pipe((0,Ye.U)(l=>(e._loadedConfig=l,l))):(n=e,new vn.y(t=>t.error(Pl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Xe(new tm([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;return o&&0!==o.length?Xe(o.map(h=>{const m=t.get(h);let b;if((n=m)&&Ha(n.canLoad))b=m.canLoad(e,r);else{if(!Ha(m))throw new Error("Invalid CanLoad guard");b=m(e,r)}var n;return Pe(b)})).pipe(Bl(),(0,Xt.b)(h=>{if(!qa(h))return;const m=Pl(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,Ye.U)(h=>!0===h)):Xe(!0)}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Xe(r);if(o.numberOfChildren>1||!o.children[Pt])return Lb(t.redirectTo);o=o.children[Pt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const l=this.createSegmentGroup(t,e.root,r,o);return new Pr(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Be(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[l]=e[m]}else r[l]=o}),r}createSegmentGroup(t,e,r,o){const l=this.createSegments(t,e.segments,r,o);let h={};return Be(e.children,(m,b)=>{h[b]=this.createSegmentGroup(t,m,r,o)}),new Ut(l,h)}createSegments(t,e,r,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function j_(n){const t={};for(const r of Object.keys(n.children)){const l=j_(n.children[r]);(l.segments.length>0||l.hasChildren())&&(t[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Pt]){const t=n.children[Pt];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}class Dd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Id{constructor(t,e){this.component=t,this.route=e}}function fm(n,t,e){const r=n._root;return Hl(r,t?t._root:null,e,[r.value])}function Ad(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Hl(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=Wc(t);return n.children.forEach(h=>{(function(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_o(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_o(n.url,t.url)||!R(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uf(n,t)||!R(n.queryParams,t.queryParams);default:return!uf(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Dd(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Hl(n,t,l.component?m?m.children:null:e,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Id(m.outlet.component,h))}else h&&Xo(t,m,o),o.canActivateChecks.push(new Dd(r)),Hl(n,null,l.component?m?m.children:null:e,r,o)})(h,l[h.value.outlet],e,r.concat([h.value]),o),delete l[h.value.outlet]}),Be(l,(h,m)=>Xo(h,e.getContext(m),o)),o}function Xo(n,t,e){const r=Wc(n),o=n.value;Be(r,(l,h)=>{Xo(l,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Id(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Jc{}function Ws(n){return new vn.y(t=>t.error(n))}class jb{constructor(t,e,r,o,l,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=Qn(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Pt);if(null===e)return null;const r=new cf([],Object.freeze({}),Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Qo(r,e),l=new x_(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,r=Vl(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const l of Object.keys(e.children)){const h=e.children[l],m=Kc(t,l),b=this.processSegmentGroup(m,h,l);if(null===b)return null;r.push(...b)}const o=vf(r);return o.sort((t,e)=>t.value.outlet===Pt?-1:e.value.outlet===Pt?1:t.value.outlet.localeCompare(e.value.outlet)),o}processSegment(t,e,r,o){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,r,o);if(null!==h)return h}return cm(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!B_(t,e,r,o))return null;let l,h=[],m=[];if("**"===t.path){const j=r.length>0?ae(r).parameters:{};l=new cf(r,j,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,ql(t),wn(t),t.component,t,Xc(e),bf(e)+r.length,Sd(t))}else{const j=Cd(e,t,r);if(!j.matched)return null;h=j.consumedSegments,m=r.slice(j.lastChild),l=new cf(h,j.parameters,Object.freeze(qe({},this.urlTree.queryParams)),this.urlTree.fragment,ql(t),wn(t),t.component,t,Xc(e),bf(e)+h.length,Sd(t))}const b=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:w,slicedSegments:S}=Qn(e,h,m,b.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);var n;if(0===S.length&&w.hasChildren()){const j=this.processChildren(b,w);return null===j?null:[new Qo(l,j)]}if(0===b.length&&0===S.length)return[new Qo(l,[])];const k=wn(t)===o,V=this.processSegment(b,w,S,k?Pt:o);return null===V?null:[new Qo(l,V)]}}function As(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function vf(n){const t=[],e=new Set;for(const r of n){if(!As(r)){t.push(r);continue}const o=t.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=vf(r.children);t.push(new Qo(r.value,o))}return t.filter(r=>!e.has(r))}function Xc(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bf(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function ql(n){return n.data||{}}function Sd(n){return n.resolve||{}}function p(n){return Or(t=>{const e=n(t);return e?(0,yn.D)(e).pipe((0,Ye.U)(()=>t)):Xe(t)})}class T extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const x=new c.OlP("ROUTES");class H{constructor(t,e,r,o){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,Ye.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new tm(K(h.injector.get(x,void 0,c.XFs.Self|c.XFs.Optional)).map(Ul),h)}),tr(l=>{throw e._loader$=void 0,l}));return e._loader$=new ef(o,()=>new gt.x).pipe(Sn()),e._loader$}loadModuleFactory(t){return Pe(t()).pipe((0,Cr.z)(e=>e instanceof c.YKP?Xe(e):(0,yn.D)(this.compiler.compileModuleAsync(e))))}}class Le{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Oe(n){throw n}function it(n,t,e){return t.parse("/")}function nt(n,t){return Xe(null)}const Ht={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class n{constructor(e,r,o,l,h,m,b){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gt.x,this.errorHandler=Oe,this.malformedUriErrorHandler=it,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nt,afterPreactivation:nt},this.urlHandlingStrategy=new Le,this.routeReuseStrategy=new T,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const k=h.get(c.R0b);this.isNgZoneEnabled=k instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new Pr(new Ut([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new H(h,m,V=>this.triggerEvent(new $s(V)),V=>this.triggerEvent(new Hc(V))),this.routerState=M_(this.currentUrlTree,this.rootComponentType),this.transitions=new br({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null==(e=this.location.getState())?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Pi(o=>0!==o.id),(0,Ye.U)(o=>ui(qe({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Or(o=>{let l=!1,h=!1;return Xe(o).pipe((0,Xt.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?ui(qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Or(m=>{const b=this.browserUrlTree.toString(),w=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return tu(m.source)&&(this.browserUrlTree=m.extractedUrl),Xe(m).pipe(Or(k=>{const V=this.transitions.getValue();return r.next(new Ba(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),V!==this.transitions.getValue()?Es.E:Promise.resolve(k)}),function(n,t,e,r){return Or(o=>function(n,t,e,r,o){return new hm(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,Ye.U)(l=>ui(qe({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xt.b)(k=>{this.currentNavigation=ui(qe({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function(n,t,e,r,o){return(0,Cr.z)(l=>function(n,t,e,r,o="emptyOnly",l="legacy"){try{const h=new jb(n,t,e,r,o,l).recognize();return null===h?Ws(new Jc):Xe(h)}catch(h){return Ws(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),r,o).pipe((0,Ye.U)(h=>ui(qe({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xt.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(j,k)}this.browserUrlTree=k.urlAfterRedirects}const V=new Gp(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);r.next(V)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:j,source:Z,restoredState:pe,extras:Se}=m,ut=new Ba(V,this.serializeUrl(j),Z,pe);r.next(ut);const yt=M_(j,this.rootComponentType).snapshot;return Xe(ui(qe({},m),{targetSnapshot:yt,urlAfterRedirects:j,extras:ui(qe({},Se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Es.E}),p(m=>{const{targetSnapshot:b,id:w,extractedUrl:S,rawUrl:k,extras:{skipLocationChange:V,replaceUrl:j}}=m;return this.hooks.beforePreactivation(b,{navigationId:w,appliedUrlTree:S,rawUrlTree:k,skipLocationChange:!!V,replaceUrl:!!j})}),(0,Xt.b)(m=>{const b=new Fi(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,Ye.U)(m=>ui(qe({},m),{guards:fm(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Cr.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?Xe(ui(qe({},e),{guardsResult:!0})):function(n,t,e,r){return(0,yn.D)(n).pipe((0,Cr.z)(o=>function(n,t,e,r,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Xe(l.map(m=>{const b=Ad(m,t,o);let w;if(function(n){return n&&Ha(n.canDeactivate)}(b))w=Pe(b.canDeactivate(n,t,e,r));else{if(!Ha(b))throw new Error("Invalid CanDeactivate guard");w=Pe(b(n,t,e,r))}return w.pipe(Ds())})).pipe(Bl()):Xe(!0)}(o.component,o.route,e,t,r)),Ds(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Cr.z)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,t,e,r){return(0,yn.D)(t).pipe(Hs(o=>Rr(function(n,t){return null!==n&&t&&t(new dd(n)),Xe(!0)}(o.route.parent,r),function(n,t){return null!==n&&t&&t(new zs(n)),Xe(!0)}(o.route,r),function(n,t,e){const r=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>Rl(()=>Xe(h.guards.map(b=>{const w=Ad(b,h.node,e);let S;if(function(n){return n&&Ha(n.canActivateChild)}(w))S=Pe(w.canActivateChild(r,n));else{if(!Ha(w))throw new Error("Invalid CanActivateChild guard");S=Pe(w(r,n))}return S.pipe(Ds())})).pipe(Bl())));return Xe(l).pipe(Bl())}(n,o.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Xe(!0);const o=r.map(l=>Rl(()=>{const h=Ad(l,t,e);let m;if(function(n){return n&&Ha(n.canActivate)}(h))m=Pe(h.canActivate(t,n));else{if(!Ha(h))throw new Error("Invalid CanActivate guard");m=Pe(h(t,n))}return m.pipe(Ds())}));return Xe(o).pipe(Bl())}(n,o.route,e))),Ds(o=>!0!==o,!0))}(r,l,n,t):Xe(m)),(0,Ye.U)(m=>ui(qe({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Xt.b)(m=>{if(qa(m.guardsResult)){const w=Pl(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw w.url=m.guardsResult,w}const b=new nf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Pi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),p(m=>{if(m.guards.canActivateChecks.length)return Xe(m).pipe((0,Xt.b)(b=>{const w=new Zo(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}),Or(b=>{let w=!1;return Xe(b).pipe(function(n,t){return(0,Cr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Xe(e);let l=0;return(0,yn.D)(o).pipe(Hs(h=>function(n,t,e,r){return function(n,t,e,r){const o=Object.keys(n);if(0===o.length)return Xe({});const l={};return(0,yn.D)(o).pipe((0,Cr.z)(h=>function(n,t,e,r){const o=Ad(n,t,r);return Pe(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe((0,Xt.b)(m=>{l[h]=m}))),po(1),(0,Cr.z)(()=>Object.keys(l).length===o.length?Xe(l):Es.E))}(n._resolve,n,t,r).pipe((0,Ye.U)(l=>(n._resolvedData=l,n.data=qe(qe({},n.data),Vl(n,e).resolve),null)))}(h.route,r,n,t)),(0,Xt.b)(()=>l++),po(1),(0,Cr.z)(h=>l===o.length?Xe(e):Es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xt.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Xt.b)(b=>{const w=new D_(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(w)}))}),p(m=>{const{targetSnapshot:b,id:w,extractedUrl:S,rawUrl:k,extras:{skipLocationChange:V,replaceUrl:j}}=m;return this.hooks.afterPreactivation(b,{navigationId:w,appliedUrlTree:S,rawUrlTree:k,skipLocationChange:!!V,replaceUrl:!!j})}),(0,Ye.U)(m=>{const b=function(n,t,e){const r=_d(n,t._root,e?e._root:void 0);return new lf(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return ui(qe({},m),{targetRouterState:b})}),(0,Xt.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,Ye.U)(r=>(new Pb(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Xt.b)({next(){l=!0},complete(){l=!0}}),Ni(()=>{var m;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null==(m=this.currentNavigation)?void 0:m.id)===o.id&&(this.currentNavigation=null)}),tr(m=>{if(h=!0,function(n){return n&&n[mo]}(m)){const b=qa(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const w=new jc(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(w),b?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),k={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tu(o.source)};this.scheduleNavigation(S,"imperative",null,k,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new ud(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(w){o.reject(w)}}return Es.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(qe(qe({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var m;const o={replaceUrl:!0},l=(null==(m=e.state)?void 0:m.navigationId)?e.state:null;if(l){const b=qe({},l);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(o.state=b)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,r,l,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){V_(e),this.config=e.map(Ul),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:m,preserveFragment:b}=r,w=o||this.routerState.root,S=b?this.currentUrlTree.fragment:h;let k=null;switch(m){case"merge":k=qe(qe({},this.currentUrlTree.queryParams),l);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=l||null}return null!==k&&(k=this.removeEmptyProps(k)),function(n,t,e,r,o){if(0===e.length)return hf(t.root,t.root,t,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zc(!0,0,n);let t=0,e=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Be(l.outlets,(b,w)=>{m[w]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new Zc(e,t,r)}(e);if(l.toRoot())return hf(t.root,new Ut([],{}),t,r,o);const h=function(n,t,e){if(n.isAbsolute)return new ff(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new ff(l,l===t.root,0)}const r=df(n.commands[0])?0:1;return function(n,t,e){let r=n,o=t,l=e;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new ff(r,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,t,n),m=h.processChildren?Yc(h.segmentGroup,h.index,l.commands):em(h.segmentGroup,h.index,l.commands);return hf(h.segmentGroup,m,t,r,o)}(w,this.currentUrlTree,e,k,null!=S?S:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=qa(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?qe({},Ht):!1===r?qe({},nr):r,qa(e))return Yn(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Yn(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const l=e[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,l,h){var ut,yt,$t;if(this.disposed)return Promise.resolve(!1);const m=this.transitions.value,b=tu(r)&&m&&!tu(m.source),w=m.rawUrl.toString()===e.toString(),S=m.id===(null==(ut=this.currentNavigation)?void 0:ut.id);if(b&&w&&S)return Promise.resolve(!0);let V,j,Z;h?(V=h.resolve,j=h.reject,Z=h.promise):Z=new Promise((ht,Cn)=>{V=ht,j=Cn});const pe=++this.navigationId;let Se;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Se=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(yt=this.browserPageId)?yt:0:(null!=($t=this.browserPageId)?$t:0)+1):Se=0,this.setTransition({id:pe,targetPageId:Se,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:V,reject:j,promise:Z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Z.catch(ht=>Promise.reject(ht))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),l=qe(qe({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(o=this.currentNavigation)?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new jc(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function tu(n){return"imperative"!==n}let $l=(()=>{class n{constructor(e,r,o,l,h){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new gt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==e?r.setAttribute(o,"tabindex",e):r.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:ea(this.skipLocationChange),replaceUrl:ea(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ea(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Rn),c.Y36(Nr),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function ea(n){return""===n||!!n}class xd{}class kd{preload(t,e){return Xe(null)}}let Cf=(()=>{class n{constructor(e,r,o,l){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=new H(o,r,b=>e.triggerEvent(new $s(b)),b=>e.triggerEvent(new Hc(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(e=>e instanceof qs),Hs(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,yn.D)(o).pipe((0,ts.J)(),(0,Ye.U)(l=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Xe(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Cr.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Rn),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(xd))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ef=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ba?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kr&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new Kr(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const nu=new c.OlP("ROUTER_CONFIGURATION"),K_=new c.OlP("ROUTER_FORROOT_GUARD"),F0=[ze,{provide:Kp,useClass:I_},{provide:Rn,useFactory:function(n,t,e,r,o,l,h={},m,b){const w=new Rn(null,n,t,e,r,o,K(l));return m&&(w.urlHandlingStrategy=m),b&&(w.routeReuseStrategy=b),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,w),h.enableTracing&&w.events.subscribe(S=>{var k,V;null==(k=console.group)||k.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null==(V=console.groupEnd)||V.call(console)}),w},deps:[Kp,bd,ze,c.zs3,c.Sil,x,nu,[class{},new c.FiY],[class{},new c.FiY]]},bd,{provide:Nr,useFactory:function(n){return n.routerState.root},deps:[Rn]},Cf,kd,class{preload(t,e){return e().pipe(tr(()=>Xe(null)))}},{provide:nu,useValue:{enableTracing:!1}}];function Q_(){return new c.PXZ("Router",Rn)}let bm=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[F0,J_(e),{provide:K_,useFactory:V0,deps:[[Rn,new c.FiY,new c.tp0]]},{provide:nu,useValue:r||{}},{provide:le,useFactory:Hb,deps:[se,[new c.tBr(ce),new c.FiY],nu]},{provide:Ef,useFactory:L0,deps:[Rn,Up,nu]},{provide:xd,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:kd},{provide:c.PXZ,multi:!0,useFactory:Q_},[qb,{provide:c.ip1,multi:!0,useFactory:qS,deps:[qb]},{provide:X_,useFactory:U0,deps:[qb]},{provide:c.tb,multi:!0,useExisting:X_}]]}}static forChild(e){return{ngModule:n,providers:[J_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(K_,8),c.LFG(Rn,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function L0(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ef(n,t,e)}function Hb(n,t,e={}){return e.useHash?new ye(n,t):new De(n,t)}function V0(n){return"guarded"}function J_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:x,multi:!0,useValue:n}]}let qb=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gt.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),l=this.injector.get(Rn),h=this.injector.get(nu);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(nu),o=this.injector.get(Cf),l=this.injector.get(Ef),h=this.injector.get(Rn),m=this.injector.get(c.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function qS(n){return n.appInitializer.bind(n)}function U0(n){return n.bootstrapListener.bind(n)}const X_=new c.OlP("Router Initializer");var Em=P(2210),Er=P(7233);function $b(){return(0,ur.e)((n,t)=>{let e,r=!1;n.subscribe(new kt.Q(t,o=>{const l=e;e=o,r&&t.next([l,o]),r=!0}))})}function Co(n,t=xl.y){return n=null!=n?n:zS,(0,ur.e)((e,r)=>{let o,l=!0;e.subscribe(new kt.Q(r,h=>{const m=t(h);(l||!n(o,m))&&(l=!1,o=m,r.next(h))}))})}function zS(n,t){return n===t}var et,Qr=P(7905),GS=(P(9777),P(6293)),Ce=P(8239),Rd=P(1572),wm=P(1177),ru=P(3855),Wt=P(4213),WS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},bt={},ey=ey||{},Tt=WS||self;function Od(){}function Zs(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function wf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Dm="closure_uid_"+(1e9*Math.random()>>>0),zl=0;function zb(n,t,e){return n.call.apply(n.bind,arguments)}function q0(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(t,o)}}return function(){return n.apply(t,arguments)}}function Fr(n,t,e){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zb:q0).apply(null,arguments)}function Gb(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Jr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),m=2;m<arguments.length;m++)h[m-2]=arguments[m];return t.prototype[o].apply(r,h)}}function Pd(){this.s=this.s,this.o=this.o}var ny={};Pd.prototype.s=!1,Pd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Dm)&&n[Dm]||(n[Dm]=++zl)}(this);delete ny[n]}},Pd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ry=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},iy=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&t.call(e,o[l],l,n)};function YS(n){return Array.prototype.concat.apply([],arguments)}function Zb(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function sy(n){return/^[\s\xa0]*$/.test(n)}var Ts,$0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ss(n,t){return-1!=n.indexOf(t)}function oy(n,t){return n<t?-1:n>t?1:0}e:{var z0=Tt.navigator;if(z0){var KS=z0.userAgent;if(KS){Ts=KS;break e}}Ts=""}function ay(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function Yb(n){const t={};for(const e in n)t[e]=n[e];return t}var G0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ly(n,t){let e,r;for(let o=1;o<arguments.length;o++){for(e in r=arguments[o],r)n[e]=r[e];for(let l=0;l<G0.length;l++)e=G0[l],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function W0(n){return W0[" "](n),n}W0[" "]=Od;var Kb,n,bO=ss(Ts,"Opera"),Im=ss(Ts,"Trident")||ss(Ts,"MSIE"),QS=ss(Ts,"Edge"),Z0=QS||Im,JS=ss(Ts,"Gecko")&&!(ss(Ts.toLowerCase(),"webkit")&&!ss(Ts,"Edge"))&&!(ss(Ts,"Trident")||ss(Ts,"MSIE"))&&!ss(Ts,"Edge"),CO=ss(Ts.toLowerCase(),"webkit")&&!ss(Ts,"Edge");function XS(){var n=Tt.document;return n?n.documentMode:void 0}e:{var Wa="",Am=(n=Ts,JS?/rv:([^\);]+)(\)|;)/.exec(n):QS?/Edge\/([\d\.]+)/.exec(n):Im?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):CO?/WebKit\/(\S+)/.exec(n):bO?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Am&&(Wa=Am?Am[1]:""),Im){var Qb=XS();if(null!=Qb&&Qb>parseFloat(Wa)){Kb=String(Qb);break e}}Kb=Wa}var Y0={};function Jb(){return t=Y0,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=$0(String(Kb)).split("."),e=$0("9").split("."),r=Math.max(t.length,e.length);for(let h=0;0==n&&h<r;h++){var o=t[h]||"",l=e[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=oy(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||oy(0==o[2].length,0==l[2].length)||oy(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var t}var eM=Tt.document&&Im&&(XS()||parseInt(Kb,10))||void 0,iu=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Tt.addEventListener("test",Od,t),Tt.removeEventListener("test",Od,t)}catch(e){}return n}();function vi(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Tm(n,t){if(vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(JS){e:{try{W0(t.nodeName);var o=!0;break e}catch(l){}o=!1}o||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tm.Z.h.call(this)}}vi.prototype.h=function(){this.defaultPrevented=!0},Jr(Tm,vi);var Xb={2:"touch",3:"pen",4:"mouse"};Tm.prototype.h=function(){Tm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sm="closure_listenable_"+(1e6*Math.random()|0),K0=0;function tM(n,t,e,r,o){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=o,this.key=++K0,this.ca=this.fa=!1}function dy(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function su(n){this.src=n,this.g={},this.h=0}function ou(n,t){var e=t.type;if(e in n.g){var l,r=n.g[e],o=ry(r,t);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(dy(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Mm(n,t,e,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==r)return o}return-1}su.prototype.add=function(n,t,e,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Mm(n,t,r,o);return-1<h?(t=n[h],e||(t.fa=!1)):((t=new tM(t,this.src,l,!!r,o)).fa=e,n.push(t)),t};var au="closure_lm_"+(1e6*Math.random()|0),Nd={};function Fd(n,t,e,r,o){if(r&&r.once)return eC(n,t,e,r,o);if(Array.isArray(t)){for(var l=0;l<t.length;l++)Fd(n,t[l],e,r,o);return null}return e=X0(e),n&&n[Sm]?n.N(t,e,wf(r)?!!r.capture:!!r,o):Q0(n,t,e,!1,r,o)}function Q0(n,t,e,r,o,l){if(!t)throw Error("Invalid event type");var h=wf(o)?!!o.capture:!!o,m=nC(n);if(m||(n[au]=m=new su(n)),(e=m.add(t,e,r,h,l)).proxy)return e;if(r=function(){var t=fy;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)iu||(o=h),void 0===o&&(o=!1),n.addEventListener(t.toString(),r,o);else if(n.attachEvent)n.attachEvent(tC(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function eC(n,t,e,r,o){if(Array.isArray(t)){for(var l=0;l<t.length;l++)eC(n,t[l],e,r,o);return null}return e=X0(e),n&&n[Sm]?n.O(t,e,wf(r)?!!r.capture:!!r,o):Q0(n,t,e,!0,r,o)}function hy(n,t,e,r,o){if(Array.isArray(t))for(var l=0;l<t.length;l++)hy(n,t[l],e,r,o);else r=wf(r)?!!r.capture:!!r,e=X0(e),n&&n[Sm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Mm(l=n.g[t],e,r,o))&&(dy(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=nC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Mm(t,e,r,o)),(e=-1<n?t[n]:null)&&xm(e))}function xm(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Sm])ou(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(tC(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=nC(t))?(ou(e,n),0==e.h&&(e.src=null,t[au]=null)):dy(n)}}}function tC(n){return n in Nd?Nd[n]:Nd[n]="on"+n}function fy(n,t){if(n.ca)n=!0;else{t=new Tm(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&xm(n),n=e.call(r,t)}return n}function nC(n){return(n=n[au])instanceof su?n:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function X0(n){return"function"==typeof n?n:(n[py]||(n[py]=function(t){return n.handleEvent(t)}),n[py])}function Lr(){Pd.call(this),this.i=new su(this),this.P=this,this.I=null}function Xr(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new vi(t,n);else if(t instanceof vi)t.target=t.target||n;else{var o=t;ly(t=new vi(r,n),o)}if(o=!0,e)for(var l=e.length-1;0<=l;l--){var h=t.g=e[l];o=my(h,r,!0,t)&&o}if(o=my(h=t.g=n,r,!0,t)&&o,o=my(h,r,!1,t)&&o,e)for(l=0;l<e.length;l++)o=my(h=t.g=e[l],r,!1,t)&&o}function my(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,l=0;l<t.length;++l){var h=t[l];if(h&&!h.ca&&h.capture==e){var m=h.listener,b=h.ia||h.src;h.fa&&ou(n.i,h),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Jr(Lr,Pd),Lr.prototype[Sm]=!0,Lr.prototype.removeEventListener=function(n,t,e,r){hy(this,n,t,e,r)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)dy(e[r]);delete n.g[t],n.h--}}this.I=null},Lr.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Lr.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var gy=Tt.JSON.stringify;function nM(){var n=iD;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tD,Ss=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iM,n=>n.reset());class iM{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function sM(n){Tt.setTimeout(()=>{throw n},0)}function eD(n,t){tD||function(){var n=Tt.Promise.resolve(void 0);tD=function(){n.then(rC)}}(),rD||(tD(),rD=!0),iD.add(n,t)}var rD=!1,iD=new class{constructor(){this.h=this.g=null}add(t,e){const r=Ss.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function rC(){for(var n;n=nM();){try{n.h.call(n.g)}catch(e){sM(e)}var t=Ss;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}rD=!1}function km(n,t){Lr.call(this),this.h=n||1,this.g=t||Tt,this.j=Fr(this.kb,this),this.l=Date.now()}function iC(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function sC(n,t,e){if("function"==typeof n)e&&(n=Fr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Tt.setTimeout(n,t||0)}function sD(n){n.g=sC(()=>{n.g=null,n.i&&(n.i=!1,sD(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Jr(km,Lr),(et=km.prototype).da=!1,et.S=null,et.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(iC(this),this.start()))}},et.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.M=function(){km.Z.M.call(this),iC(this),delete this.g};class oD extends Pd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:sD(this)}M(){super.M(),this.g&&(Tt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rm(n){Pd.call(this),this.h=n,this.g={}}Jr(Rm,Pd);var oC=[];function aD(n,t,e,r){Array.isArray(e)||(e&&(oC[0]=e.toString()),e=oC);for(var o=0;o<e.length;o++){var l=Fd(t,e[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function lD(n){ay(n.g,function(t,e){this.g.hasOwnProperty(e)&&xm(t)},n),n.g={}}function Om(){this.g=!0}function os(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return gy(e)}catch(m){return t}}(n,e)+(r?" "+r:"")})}Rm.prototype.M=function(){Rm.Z.M.call(this),lD(this)},Rm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Om.prototype.Aa=function(){this.g=!1},Om.prototype.info=function(){};var Ld={},lM=null;function Pm(){return lM=lM||new Lr}function uD(n){vi.call(this,Ld.Ma,n)}function Nm(n){const t=Pm();Xr(t,new uD(t,n))}function dD(n,t){vi.call(this,Ld.STAT_EVENT,n),this.stat=t}function bi(n){const t=Pm();Xr(t,new dD(t,n))}function hD(n,t){vi.call(this,Ld.Na,n),this.size=t}function Fm(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){n()},t)}Ld.Ma="serverreachability",Jr(uD,vi),Ld.STAT_EVENT="statevent",Jr(dD,vi),Ld.Na="timingevent",Jr(hD,vi);var Vd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_y={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lC(){}function vy(){}lC.prototype.h=null;var Lm,Df={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cC(){vi.call(this,"d")}function uC(){vi.call(this,"c")}function dC(){}function Vm(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new Rm(this),this.P=fD,this.W=new km(n=Z0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new hC}function hC(){this.i=null,this.g="",this.h=!1}Jr(cC,vi),Jr(uC,vi),Jr(dC,lC),dC.prototype.g=function(){return new XMLHttpRequest},dC.prototype.i=function(){return{}},Lm=new dC;var fD=45e3,by={},Bm={};function Cy(n,t,e){n.K=1,n.v=Ty(Ya(t)),n.s=e,n.U=!0,Za(n,null)}function Za(n,t){n.F=Date.now(),Ey(n),n.A=Ya(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),vC(e.h,"t",r),n.C=0,e=n.l.H,n.h=new hC,n.g=Gd(n.l,e?t:null,!n.s),0<n.O&&(n.L=new oD(Fr(n.Ia,n,n.g),n.O)),aD(n.V,n.g,"readystatechange",n.gb),t=n.H?Yb(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Nm(1),function(n,t,e,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",m=l.split("&"),b=0;b<m.length;b++){var w=m[b].split("=");if(1<w.length){var S=w[0];w=w[1];var k=S.split("_");h=2<=k.length&&"type"==k[1]?h+(S+"=")+w+"&":h+(S+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+e+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Um(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function pD(n,t,e){let o,r=!0;for(;!n.I&&n.C<e.length;){if(o=cM(n,e),o==Bm){4==t&&(n.o=4,bi(14),r=!1),os(n.j,n.m,null,"[Incomplete Response]");break}if(o==by){n.o=4,bi(15),os(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}os(n.j,n.m,o,null),fC(n,o)}Um(n)&&o!=Bm&&o!=by&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,bi(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Eo(t),t.L=!0,bi(11))):(os(n.j,n.m,e,"[Invalid Chunked Response]"),ta(n),Gl(n))}function cM(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?Bm:(e=Number(t.substring(e,r)),isNaN(e)?by:(r+=1)+e>t.length?Bm:(t=t.substr(r,e),n.C=r+e,t))}function Ey(n){n.Y=Date.now()+n.P,If(n,n.P)}function If(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Fm(Fr(n.eb,n),t)}function jm(n){n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Gl(n){0==n.l.G||n.I||cu(n.l,n)}function ta(n){jm(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,iC(n.W),lD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function fC(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||xy(e.i,n)))if(e.I=n.N,!n.J&&xy(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(e.u)e.ta=o[1],0<e.ta-e.U&&37500>o[2]&&e.N&&0==e.A&&!e.v&&(e.v=Fm(Fr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Vr(e),Fy(e)}Wm(e),bi(18)}if(1>=bC(e.i)&&e.ka){try{e.ka()}catch(w){}e.ka=void 0}}else ei(e,11)}else if((n.J||e.g==n)&&Vr(e),!sy(t))for(o=e.Ca.g.parse(t),t=0;t<o.length;t++){let w=o[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const S=w[3];null!=S&&(e.ma=S,e.h.info("VER="+e.ma));const k=w[4];null!=k&&(e.za=k,e.h.info("SVER="+e.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(e.K=r=1.5*V,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const j=n.g;if(j){const Z=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Z){var l=r.i;!l.g&&(ss(Z,"spdy")||ss(Z,"quic")||ss(Z,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(ky(l,l.h),l.h=null))}if(r.D){const pe=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;pe&&(r.sa=pe,Dn(r.F,r.D,pe))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var h=n;if((r=e).oa=zd(r,r.H?r.la:null,r.W),h.J){CC(r.i,h);var m=h,b=r.K;b&&m.setTimeout(b),m.B&&(jm(m),Ey(m)),r.g=h}else DD(r);0<e.l.length&&$d(e)}else"stop"!=w[0]&&"close"!=w[0]||ei(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ei(e,7):MC(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}Nm(4)}catch(w){}}function wy(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Zs(n)||"string"==typeof n)iy(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Zs(n)||"string"==typeof n){e=[];for(var r=n.length,o=0;o<r;o++)e.push(o)}else for(o in e=[],r=0,n)e[r++]=o;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Zs(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n),o=r.length;for(var l=0;l<o;l++)t.call(void 0,r[l],e&&e[l],n)}}function Af(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Af)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function Dy(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Bd(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var o={};for(e=t=0;t<n.g.length;)Bd(o,r=n.g[t])||(n.g[e++]=r,o[r]=1),t++;n.g.length=e}}function Bd(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(et=Vm.prototype).setTimeout=function(n){this.P=n},et.gb=function(n){n=n.target;const t=this.L;t&&3==Ka(n)?t.l():this.Ia(n)},et.Ia=function(n){try{if(n==this.g)e:{const S=Ka(this.g);var t=this.g.Da();const k=this.g.ba();if(!(3>S)&&(3!=S||Z0||this.g&&(this.h.h||this.g.ga()||Ny(this.g)))){this.I||4!=S||7==t||Nm(8==t||0>=k?3:2),jm(this);var e=this.g.ba();this.N=e;t:if(Um(this)){var r=Ny(this.g);n="";var o=r.length,l=4==Ka(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ta(this),Gl(this);var h="";break t}this.h.i=new Tt.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:l&&t==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==e,function(n,t,e,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+e+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,S,e),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sy(m)){var w=m;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,bi(12),ta(this),Gl(this);break e}os(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fC(this,e)}this.U?(pD(this,S,h),Z0&&this.i&&3==S&&(aD(this.V,this.W,"tick",this.fb),this.W.start())):(os(this.j,this.m,h,null),fC(this,h)),4==S&&ta(this),this.i&&!this.I&&(4==S?cu(this.l,this):(this.i=!1,Ey(this)))}else 400==e&&0<h.indexOf("Unknown SID")?(this.o=3,bi(12)):(this.o=0,bi(13)),ta(this),Gl(this)}}}catch(S){}},et.fb=function(){if(this.g){var n=Ka(this.g),t=this.g.ga();this.C<t.length&&(jm(this),pD(this,n,t),this.i&&4!=n&&Ey(this))}},et.cancel=function(){this.I=!0,ta(this)},et.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Nm(3),bi(17)),ta(this),this.o=2,Gl(this)):If(this,this.Y-n)},(et=Af.prototype).R=function(){Dy(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},et.T=function(){return Dy(this),this.g.concat()},et.get=function(n,t){return Bd(this.h,n)?this.h[n]:t},et.set=function(n,t){Bd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},et.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var o=e[r],l=this.get(o);n.call(t,l,o,this)}};var Iy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ud(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ud){this.g=void 0!==t?t:n.g,Wl(this,n.j),this.s=n.s,Hm(this,n.i),Ay(this,n.m),this.l=n.l,t=n.h;var e=new jd;e.i=t.i,t.g&&(e.g=new Af(t.g),e.h=t.h),mD(this,e),this.o=n.o}else n&&(e=String(n).match(Iy))?(this.g=!!t,Wl(this,e[1]||"",!0),this.s=qm(e[2]||""),Hm(this,e[3]||"",!0),Ay(this,e[4]),this.l=qm(e[5]||"",!0),mD(this,e[6]||"",!0),this.o=qm(e[7]||"")):(this.g=!!t,this.h=new jd(null,this.g))}function Ya(n){return new Ud(n)}function Wl(n,t,e){n.j=e?qm(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Hm(n,t,e){n.i=e?qm(t,!0):t}function Ay(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function mD(n,t,e){t instanceof jd?(n.h=t,function(n,t){t&&!n.j&&(lu(n),n.i=null,n.g.forEach(function(e,r){var o=r.toLowerCase();r!=o&&(gD(this,r),vC(this,o,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Sy(t,Zl)),n.h=new jd(t,n.g))}function Dn(n,t,e){n.h.set(t,e)}function Ty(n){return Dn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qm(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Sy(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,fM),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ud.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Sy(t,mC,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Sy(t,mC,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Sy(e,"/"==e.charAt(0)?gC:$n,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Sy(e,_C)),n.join("")};var mC=/[#\/\?@]/g,$n=/[#\?:]/g,gC=/[#\?]/g,Zl=/[#\?@]/g,_C=/#/g;function jd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function lu(n){n.g||(n.g=new Af,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),o=null;if(0<=r){var l=n[e].substring(0,r);o=n[e].substring(r+1)}else l=n[e];t(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function gD(n,t){lu(n),t=Hd(n,t),Bd(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Bd((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Dy(n)))}function yC(n,t){return lu(n),t=Hd(n,t),Bd(n.g.h,t)}function vC(n,t,e){gD(n,t),0<e.length&&(n.i=null,n.g.set(Hd(n,t),Zb(e)),n.h+=e.length)}function Hd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function yD(n){this.l=n||$m,n=Tt.PerformanceNavigationTiming?0<(n=Tt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Tt.g&&Tt.g.Ea&&Tt.g.Ea()&&Tt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=jd.prototype).add=function(n,t){lu(this),this.i=null,n=Hd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},et.forEach=function(n,t){lu(this),this.g.forEach(function(e,r){iy(e,function(o){n.call(t,o,r,this)},this)},this)},et.T=function(){lu(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var o=n[r],l=0;l<o.length;l++)e.push(t[r]);return e},et.R=function(n){lu(this);var t=[];if("string"==typeof n)yC(this,n)&&(t=YS(t,this.g.get(Hd(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=YS(t,n[e])}return t},et.set=function(n,t){return lu(this),this.i=null,yC(this,n=Hd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},et.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var $m=10;function My(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bC(n){return n.h?1:n.g?n.g.size:0}function xy(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function ky(n,t){n.g?n.g.add(t):n.h=t}function CC(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function vD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Zb(n.i)}function EC(){}function mM(){this.g=new EC}function gM(n,t,e){const r=e||"";try{wy(n,function(o,l){let h=o;wf(o)&&(h=gy(o)),t.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function wC(n,t,e,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(l){}}function Tf(n){this.l=n.$b||null,this.j=n.ib||!1}function Ry(n,t){Lr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=DC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yD.prototype.cancel=function(){if(this.i=vD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},EC.prototype.stringify=function(n){return Tt.JSON.stringify(n,void 0)},EC.prototype.parse=function(n){return Tt.JSON.parse(n,void 0)},Jr(Tf,lC),Tf.prototype.g=function(){return new Ry(this.l,this.j)},Tf.prototype.i=function(n){return function(){return n}}({}),Jr(Ry,Lr);var DC=0;function _M(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Oy(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qd(n)}function qd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=Ry.prototype).open=function(n,t){if(this.readyState!=DC)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,qd(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Tt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oy(this)),this.readyState=DC},et.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qd(this)),this.g&&(this.readyState=3,qd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Tt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_M(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},et.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Oy(this):qd(this),3==this.readyState&&_M(this)}},et.Ua=function(n){this.g&&(this.response=this.responseText=n,Oy(this))},et.Ta=function(n){this.g&&(this.response=n,Oy(this))},et.ha=function(){this.g&&Oy(this)},et.setRequestHeader=function(n,t){this.v.append(n,t)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Ry.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yM=Tt.JSON.parse;function hr(n){Lr.call(this),this.headers=new Af,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=IC,this.K=this.L=!1}Jr(hr,Lr);var IC="",EO=/^https?$/i,na=["POST","PUT"];function DO(n){return"content-type"==n.toLowerCase()}function AC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,TC(n),Py(n)}function TC(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function SC(n){if(n.h&&void 0!==ey&&(!n.C[1]||4!=Ka(n)||2!=n.ba()))if(n.v&&4==Ka(n))sC(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==Ka(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===m){var o=String(n.H).match(Iy)[1]||null;if(!o&&Tt.self&&Tt.self.location){var l=Tt.self.location.protocol;o=l.substr(0,l.length-1)}r=!EO.test(o?o.toLowerCase():"")}e=r}if(e)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var h=2<Ka(n)?n.g.statusText:""}catch(b){h=""}n.j=h+" ["+n.ba()+"]",TC(n)}}finally{Py(n)}}}function Py(n,t){if(n.g){vM(n);const e=n.g,r=n.C[0]?Od:null;n.g=null,n.C=null,t||Xr(n,"ready");try{e.onreadystatechange=r}catch(o){}}}function vM(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Tt.clearTimeout(n.A),n.A=null)}function Ka(n){return n.g?n.g.readyState:0}function Ny(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case IC:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zm(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return ay(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Dn(n,t,e))}function Gm(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function CD(n){this.za=0,this.l=[],this.h=new Om,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gm("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gm("baseRetryDelayMs",5e3,n),this.$a=Gm("retryDelaySeedMs",1e4,n),this.Ya=Gm("forwardChannelMaxRetries",2,n),this.ra=Gm("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yD(n&&n.concurrentRequestLimit),this.Ca=new mM,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function MC(n){if(ED(n),3==n.G){var t=n.V++,e=Ya(n.F);Dn(e,"SID",n.J),Dn(e,"RID",t),Dn(e,"TYPE","terminate"),Yl(n,e),(t=new Vm(n,n.h,t,void 0)).K=2,t.v=Ty(Ya(e)),e=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(e=Tt.navigator.sendBeacon(t.v.toString(),"")),!e&&Tt.Image&&((new Image).src=t.v,e=!0),e||(t.g=Gd(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ey(t)}Ly(n)}function Fy(n){n.g&&(Eo(n),n.g.cancel(),n.g=null)}function ED(n){Fy(n),n.u&&(Tt.clearTimeout(n.u),n.u=null),Vr(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Tt.clearTimeout(n.m),n.m=null)}function xC(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&$d(n)}function $d(n){My(n.i)||n.m||(n.m=!0,eD(n.Ha,n),n.C=0)}function kC(n,t){var e;e=t?t.m:n.V++;const r=Ya(n.F);Dn(r,"SID",n.J),Dn(r,"RID",e),Dn(r,"AID",n.U),Yl(n,r),n.o&&n.s&&zm(r,n.o,n.s),e=new Vm(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=wD(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),ky(n.i,e),Cy(e,r,t)}function Yl(n,t){n.j&&wy({},function(e,r){Dn(t,r,e)})}function wD(n,t,e){e=Math.min(n.l.length,e);var r=n.j?Fr(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+e];-1==l?0<e?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let m=!0;for(let b=0;b<e;b++){let w=o[b].h;const S=o[b].g;if(w-=l,0>w)l=Math.max(0,o[b].h-100),m=!1;else try{gM(S,h,"req"+w+"_")}catch(k){r&&r(S)}}if(m){r=h.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function DD(n){n.g||n.u||(n.Y=1,eD(n.Ga,n),n.A=0)}function Wm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Fm(Fr(n.Ga,n),Zm(n,n.A)),n.A++,0))}function Eo(n){null!=n.B&&(Tt.clearTimeout(n.B),n.B=null)}function Mf(n){n.g=new Vm(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ya(n.oa);Dn(t,"RID","rpc"),Dn(t,"SID",n.J),Dn(t,"CI",n.N?"0":"1"),Dn(t,"AID",n.U),Yl(n,t),Dn(t,"TYPE","xmlhttp"),n.o&&n.s&&zm(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=Ty(Ya(t)),e.s=null,e.U=!0,Za(e,n)}function Vr(n){null!=n.v&&(Tt.clearTimeout(n.v),n.v=null)}function cu(n,t){var e=null;if(n.g==t){Vr(n),Eo(n),n.g=null;var r=2}else{if(!xy(n.i,t))return;e=t.D,CC(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var o=n.C;Xr(r=Pm(),new hD(r,e,t,o)),$d(n)}else DD(n);else if(3==(o=t.o)||0==o&&0<n.I||!(1==r&&function(n,t){return!(bC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Fm(Fr(n.Ha,n,t),Zm(n,n.C)),n.C++,0)))}(n,t)||2==r&&Wm(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),o){case 1:ei(n,5);break;case 4:ei(n,10);break;case 3:ei(n,6);break;default:ei(n,2)}}function Zm(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function ei(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=Fr(n.jb,n);e||(e=new Ud("//www.google.com/images/cleardot.gif"),Tt.location&&"http"==Tt.location.protocol||Wl(e,"https"),Ty(e)),function(n,t){const e=new Om;if(Tt.Image){const r=new Image;r.onload=Gb(wC,e,r,"TestLoadImage: loaded",!0,t),r.onerror=Gb(wC,e,r,"TestLoadImage: error",!1,t),r.onabort=Gb(wC,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=Gb(wC,e,r,"TestLoadImage: timeout",!1,t),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else bi(2);n.G=0,n.j&&n.j.va(t),Ly(n),ED(n)}function Ly(n){n.G=0,n.I=-1,n.j&&((0!=vD(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Zb(n.l),n.l.length=0),n.j.ua())}function zd(n,t,e){let r=function(n){return n instanceof Ud?Ya(n):new Ud(n,void 0)}(e);if(""!=r.i)t&&Hm(r,t+"."+r.i),Ay(r,r.m);else{const o=Tt.location;r=function(n,t,e,r){var o=new Ud(null,void 0);return n&&Wl(o,n),t&&Hm(o,t),e&&Ay(o,e),r&&(o.l=r),o}(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,e)}return n.aa&&ay(n.aa,function(o,l){Dn(r,l,o)}),e=n.sa,(t=n.D)&&e&&Dn(r,t,e),Dn(r,"VER",n.ma),Yl(n,r),r}function Gd(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hr(e&&n.Ba&&!n.qa?new Tf({ib:!0}):n.qa)).L=n.H,t}function Wd(){}function Kl(){if(Im&&!(10<=Number(eM)))throw Error("Environmental error: no available transport.")}function ti(n,t){Lr.call(this),this.g=new CD(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!sy(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sy(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ra(this)}function Zd(n){cC.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Yd(){uC.call(this),this.status=1}function ra(n){this.g=n}(et=hr.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Lm.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Lm),this.g.onreadystatechange=Fr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void AC(this,l)}n=e||"";const o=new Af(this.headers);r&&wy(r,function(l,h){o.set(h,l)}),r=function(n){e:{var t=DO;const e=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<e;o++)if(o in r&&t.call(void 0,r[o],o,n)){t=o;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(o.T()),e=Tt.FormData&&n instanceof Tt.FormData,!(0<=ry(na,t))||r||e||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vM(this),0<this.B&&((this.K=function(n){return Im&&Jb()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.pa,this)):this.A=sC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){AC(this,l)}},et.pa=function(){void 0!==ey&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),Py(this))},et.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Py(this,!0)),hr.Z.M.call(this)},et.Fa=function(){this.s||(this.F||this.v||this.l?SC(this):this.cb())},et.cb=function(){SC(this)},et.ba=function(){try{return 2<Ka(this)?this.g.status:-1}catch(n){return-1}},et.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},et.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),yM(t)}},et.Da=function(){return this.m},et.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=CD.prototype).ma=8,et.G=1,et.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},et.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Vm(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Yb(l),ly(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=wD(this,o,t),Dn(e=Ya(this.F),"RID",n),Dn(e,"CVER",22),this.D&&Dn(e,"X-HTTP-Session-Id",this.D),Yl(this,e),this.o&&l&&zm(e,this.o,l),ky(this.i,o),this.Ra&&Dn(e,"TYPE","init"),this.ja?(Dn(e,"$req",t),Dn(e,"SID","null"),o.$=!0,Cy(o,e,null)):Cy(o,e,t),this.G=2}}else 3==this.G&&(n?kC(this,n):0==this.l.length||My(this.i)||kC(this))},et.Ga=function(){if(this.u=null,Mf(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Fm(Fr(this.bb,this),n)}},et.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bi(10),Fy(this),Mf(this))},et.ab=function(){null!=this.v&&(this.v=null,Fy(this),Wm(this),bi(19))},et.jb=function(n){n?(this.h.info("Successfully pinged google.com"),bi(2)):(this.h.info("Failed to ping google.com"),bi(1))},(et=Wd.prototype).xa=function(){},et.wa=function(){},et.va=function(){},et.ua=function(){},et.Oa=function(){},Kl.prototype.g=function(n,t){return new ti(n,t)},Jr(ti,Lr),ti.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),eD(Fr(n.hb,n,t))),bi(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=zd(n,null,n.W),$d(n)},ti.prototype.close=function(){MC(this.g)},ti.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,xC(this.g,t)}else this.v?((t={}).__data__=gy(n),xC(this.g,t)):xC(this.g,n)},ti.prototype.M=function(){this.g.j=null,delete this.j,MC(this.g),delete this.g,ti.Z.M.call(this)},Jr(Zd,cC),Jr(Yd,uC),Jr(ra,Wd),ra.prototype.xa=function(){Xr(this.g,"a")},ra.prototype.wa=function(n){Xr(this.g,new Zd(n))},ra.prototype.va=function(n){Xr(this.g,new Yd(n))},ra.prototype.ua=function(){Xr(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,ti.prototype.send=ti.prototype.u,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,Vd.NO_ERROR=0,Vd.TIMEOUT=8,Vd.HTTP_ERROR=6,_y.COMPLETE="complete",vy.EventType=Df,Df.OPEN="a",Df.CLOSE="b",Df.ERROR="c",Df.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,hr.prototype.listenOnce=hr.prototype.O,hr.prototype.getLastError=hr.prototype.La,hr.prototype.getLastErrorCode=hr.prototype.Da,hr.prototype.getStatus=hr.prototype.ba,hr.prototype.getResponseJson=hr.prototype.Qa,hr.prototype.getResponseText=hr.prototype.ga,hr.prototype.send=hr.prototype.ea;var xf=bt.createWebChannelTransport=function(){return new Kl},ID=bt.getStatEventTarget=function(){return Pm()},Vy=bt.ErrorCode=Vd,AD=bt.EventType=_y,TD=bt.Event=Ld,RC=bt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},SD=bt.FetchXmlHttpFactory=Tf,Ym=bt.WebChannel=vy,MD=bt.XhrIo=hr;const OC="@firebase/firestore";class Ci{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let Kd="9.6.0";const uu=new ru.Yd("@firebase/firestore");function By(){return uu.logLevel}function Ve(n,...t){if(uu.logLevel<=ru.in.DEBUG){const e=t.map(PC);uu.debug(`Firestore (${Kd}): ${n}`,...e)}}function wr(n,...t){if(uu.logLevel<=ru.in.ERROR){const e=t.map(PC);uu.error(`Firestore (${Kd}): ${n}`,...e)}}function kf(n,...t){if(uu.logLevel<=ru.in.WARN){const e=t.map(PC);uu.warn(`Firestore (${Kd}): ${n}`,...e)}}function PC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ct(n="Unexpected state"){const t=`FIRESTORE (${Kd}) INTERNAL ASSERTION FAILED: `+n;throw wr(t),new Error(t)}function Dt(n,t){n||ct()}function Ge(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class kD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class IO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ci.UNAUTHENTICATED))}shutdown(){}}class EM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wM{constructor(t){this.t=t,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const l=w=>this.i!==o?(o=this.i,e(w)):Promise.resolve();let h=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ei,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const w=h;t.enqueueRetryable((0,Ce.Z)(function*(){yield w.promise,yield l(r.currentUser)}))},b=w=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(w=>b(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?b(w):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ei)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt("string"==typeof r.accessToken),new kD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Ci(t)}}class NC{constructor(t,e,r){this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const o=t.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class FC{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new NC(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AO{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=o=>{t.enqueueRetryable(()=>{return null!=(l=o).error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),e(l.token);var l})};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),new RD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class wo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.p(r),this.T=r=>e.writeSequenceNumber(r))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function DM(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}wo.I=-1;class LC{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const o=DM(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<e&&(r+=t.charAt(o[l]%t.length))}return r}}function Qt(n,t){return n<t?-1:n>t?1:0}function Rf(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}function Qd(n){return n+"\0"}class ni{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ni.fromMillis(Date.now())}static fromDate(t){return ni.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ni(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new ni(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function OD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function du(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Km(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Qm{constructor(t,e,r){void 0===e?e=0:e>t.length&&ct(),void 0===r?r=t.length-e:r>t.length-e&&ct(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Qm.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qm?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const l=t.get(o),h=e.get(o);if(l<h)return-1;if(l>h)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class dn extends Qm{construct(t,e,r){return new dn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new dn(e)}static emptyPath(){return new dn([])}}const IM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends Qm{construct(t,e,r){return new wi(t,e,r)}static isValidIdentifier(t){return IM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let h=!1;for(;o<t.length;){const m=t[o];if("\\"===m){if(o+1===t.length)throw new Re(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const b=t[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Re(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=b,o+=2}else"`"===m?(h=!h,o++):"."!==m||h?(r+=m,o++):(l(),o++)}if(l(),h)throw new Re(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wi(e)}static emptyPath(){return new wi([])}}class Of{constructor(t){this.fields=t,t.sort(wi.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Rf(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class ri{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ri(e)}static fromUint8Array(t){const e=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(t);return new ri(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const PD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hu(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=PD.exec(n);if(Dt(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:fr(n.seconds),nanos:fr(n.nanos)}}function fr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jd(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function Jm(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function TM(n){const t=n.mapValue.fields.__previous_value__;return Jm(t)?TM(t):t}function Xd(n){const t=hu(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(t.seconds,t.nanos)}function eh(n){return null==n}function VC(n){return 0===n&&1/n==-1/0}function Pf(n){return"number"==typeof n&&Number.isInteger(n)&&!VC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(dn.fromString(t))}static fromName(t){return new ot(dn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===dn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return dn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new dn(t.slice()))}}function Ql(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jm(n)?4:10:ct()}function Do(n,t){const e=Ql(n);if(e!==Ql(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xd(n).isEqual(Xd(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=hu(r.timestampValue),h=hu(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Jd(n.bytesValue).isEqual(Jd(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return fr(r.geoPointValue.latitude)===fr(o.geoPointValue.latitude)&&fr(r.geoPointValue.longitude)===fr(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return fr(r.integerValue)===fr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=fr(r.doubleValue),h=fr(o.doubleValue);return l===h?VC(l)===VC(h):isNaN(l)&&isNaN(h)}return!1}(n,t);case 9:return Rf(n.arrayValue.values||[],t.arrayValue.values||[],Do);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(OD(l)!==OD(h))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===h[m]||!Do(l[m],h[m])))return!1;return!0}(n,t);default:return ct()}var o}function Xm(n,t){return void 0!==(n.values||[]).find(e=>Do(e,t))}function fu(n,t){const e=Ql(n),r=Ql(t);if(e!==r)return Qt(e,r);switch(e){case 0:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(o,l){const h=fr(o.integerValue||o.doubleValue),m=fr(l.integerValue||l.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1}(n,t);case 3:return Uy(n.timestampValue,t.timestampValue);case 4:return Uy(Xd(n),Xd(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(o,l){const h=Jd(o),m=Jd(l);return h.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const h=o.split("/"),m=l.split("/");for(let b=0;b<h.length&&b<m.length;b++){const w=Qt(h[b],m[b]);if(0!==w)return w}return Qt(h.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const h=Qt(fr(o.latitude),fr(l.latitude));return 0!==h?h:Qt(fr(o.longitude),fr(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,l){const h=o.values||[],m=l.values||[];for(let b=0;b<h.length&&b<m.length;++b){const w=fu(h[b],m[b]);if(w)return w}return Qt(h.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,l){const h=o.fields||{},m=Object.keys(h),b=l.fields||{},w=Object.keys(b);m.sort(),w.sort();for(let S=0;S<m.length&&S<w.length;++S){const k=Qt(m[S],w[S]);if(0!==k)return k;const V=fu(h[m[S]],b[w[S]]);if(0!==V)return V}return Qt(m.length,w.length)}(n.mapValue,t.mapValue);default:throw ct()}}function Uy(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=hu(n),r=hu(t),o=Qt(e.seconds,r.seconds);return 0!==o?o:Qt(e.nanos,r.nanos)}function jy(n){return ND(n)}function ND(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=hu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jd(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=ND(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const m of o)h?h=!1:l+=",",l+=`${m}:${ND(r.fields[m])}`;return l+"}"}(n.mapValue):ct();var t}function Hy(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function eg(n){return!!n&&"integerValue"in n}function tg(n){return!!n&&"arrayValue"in n}function FD(n){return!!n&&"nullValue"in n}function BC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function Ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return du(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Ff(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ff(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ii{constructor(t){this.value=t}static empty(){return new ii({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Nf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ff(e)}setAll(t){let e=wi.emptyPath(),r={},o=[];t.forEach((h,m)=>{if(!e.isImmediateParentOf(m)){const b=this.getFieldsMap(e);this.applyChanges(b,r,o),r={},o=[],e=m.popLast()}h?r[m.lastSegment()]=Ff(h):o.push(m.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,r,o)}delete(t){const e=this.field(t.popLast());Nf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Do(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){du(e,(o,l)=>t[o]=l);for(const o of r)delete t[o]}clone(){return new ii(Ff(this.value))}}function qy(n){const t=[];return du(n.fields,(e,r)=>{const o=new wi([e]);if(Nf(r)){const l=qy(r.mapValue).fields;if(0===l.length)t.push(o);else for(const h of l)t.push(o.child(h))}else t.push(o)}),new Of(t)}class On{constructor(t,e,r,o,l){this.key=t,this.documentType=e,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(t){return new On(t,0,Nt.min(),ii.empty(),0)}static newFoundDocument(t,e,r){return new On(t,1,e,r,0)}static newNoDocument(t,e){return new On(t,2,e,ii.empty(),0)}static newUnknownDocument(t,e){return new On(t,3,e,ii.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof On&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new On(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class SM{constructor(t,e=null,r=[],o=[],l=null,h=null,m=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.R=null}}function UC(n,t=null,e=[],r=[],o=null,l=null,h=null){return new SM(n,t,e,r,o,l,h)}function Lf(n){const t=Ge(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+jy(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),eh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=rg(t.startAt)),t.endAt&&(e+="|ub:",e+=rg(t.endAt)),t.R=e}return t.R}function ng(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!MM(n.orderBy[o],t.orderBy[o]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((e=n.filters[o]).op!==(r=t.filters[o]).op||!e.field.isEqual(r.field)||!Do(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!$C(n.startAt,t.startAt)&&$C(n.endAt,t.endAt)}function $y(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Vi extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,r):new HC(t,e,r):"array-contains"===e?new BD(t,r):"in"===e?new UD(t,r):"not-in"===e?new jD(t,r):"array-contains-any"===e?new HD(t,r):new Vi(t,e,r)}static P(t,e,r){return"in"===e?new zy(t,r):new VD(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(fu(e,this.value)):null!==e&&Ql(this.value)===Ql(e)&&this.v(fu(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ct()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class HC extends Vi{constructor(t,e,r){super(t,e,r),this.key=ot.fromName(r.referenceValue)}matches(t){const e=ot.comparator(t.key,this.key);return this.v(e)}}class zy extends Vi{constructor(t,e){super(t,"in",e),this.keys=qC(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class VD extends Vi{constructor(t,e){super(t,"not-in",e),this.keys=qC(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qC(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>ot.fromName(r.referenceValue))}class BD extends Vi{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return tg(e)&&Xm(e.arrayValue,this.value)}}class UD extends Vi{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Xm(this.value.arrayValue,e)}}class jD extends Vi{constructor(t,e){super(t,"not-in",e)}matches(t){if(Xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Xm(this.value.arrayValue,e)}}class HD extends Vi{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!tg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Xm(this.value.arrayValue,r))}}class Vf{constructor(t,e){this.position=t,this.before=e}}function rg(n){return`${n.before?"b":"a"}:${n.position.map(t=>jy(t)).join(",")}`}class ig{constructor(t,e="asc"){this.field=t,this.dir=e}}function MM(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function qD(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const l=t[o],h=n.position[o];if(r=l.field.isKeyField()?ot.comparator(ot.fromName(h.referenceValue),e.key):fu(h,e.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function $C(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Do(n.position[e],t.position[e]))return!1;return!0}class Jl{constructor(t,e=null,r=[],o=[],l=null,h="F",m=null,b=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=b,this.S=null,this.D=null}}function Dr(n,t,e,r,o,l,h,m){return new Jl(n,t,e,r,o,l,h,m)}function th(n){return new Jl(n)}function Gy(n){return!eh(n.limit)&&"F"===n.limitType}function Wy(n){return!eh(n.limit)&&"L"===n.limitType}function Zy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zC(n){for(const t of n.filters)if(t.V())return t.field;return null}function Yy(n){return null!==n.collectionGroup}function nh(n){const t=Ge(n);if(null===t.S){t.S=[];const e=zC(t),r=Zy(t);if(null!==e&&null===r)e.isKeyField()||t.S.push(new ig(e)),t.S.push(new ig(wi.keyField(),"asc"));else{let o=!1;for(const l of t.explicitOrderBy)t.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ig(wi.keyField(),l))}}}return t.S}function Di(n){const t=Ge(n);if(!t.D)if("F"===t.limitType)t.D=UC(t.path,t.collectionGroup,nh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of nh(t))e.push(new ig(l.field,"desc"===l.dir?"asc":"desc"));const r=t.endAt?new Vf(t.endAt.position,!t.endAt.before):null,o=t.startAt?new Vf(t.startAt.position,!t.startAt.before):null;t.D=UC(t.path,t.collectionGroup,e,t.filters,t.limit,r,o)}return t.D}function $D(n,t,e){return new Jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sg(n,t){return ng(Di(n),Di(t))&&n.limitType===t.limitType}function GC(n){return`${Lf(Di(n))}|lt:${n.limitType}`}function WC(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${jy(r.value)}`;var r}).join(", ")}]`),eh(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+rg(n.startAt)),n.endAt&&(t+=", endAt: "+rg(n.endAt)),`Target(${t})`}(Di(n))}; limitType=${n.limitType})`}function Bf(n,t){return t.isFoundDocument()&&function(e,r){const o=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):ot.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(const o of e.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(e,r){for(const o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!qD(e.startAt,nh(e),r)||e.endAt&&qD(e.endAt,nh(e),r)));var e,r}function xM(n){return(t,e)=>{let r=!1;for(const o of nh(n)){const l=ZC(o,t,e);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function ZC(n,t,e){const r=n.field.isKeyField()?ot.comparator(t.key,e.key):function(o,l,h){const m=l.data.field(o),b=h.data.field(o);return null!==m&&null!==b?fu(m,b):ct()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ct()}}function Ky(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:VC(t)?"-0":t}}function ia(n){return{integerValue:""+n}}function zD(n,t){return Pf(t)?ia(t):Ky(n,t)}class Qy{constructor(){this._=void 0}}function Qa(n,t,e){return n instanceof rh?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(e,t):n instanceof pu?GD(n,t):n instanceof ih?WD(n,t):function(r,o){const l=Io(r,o),h=Jy(l)+Jy(r.N);return eg(l)&&eg(r.N)?ia(h):Ky(r.k,h)}(n,t)}function sa(n,t,e){return n instanceof pu?GD(n,t):n instanceof ih?WD(n,t):e}function Io(n,t){return n instanceof Uf?eg(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class rh extends Qy{}class pu extends Qy{constructor(t){super(),this.elements=t}}function GD(n,t){const e=jf(t);for(const r of n.elements)e.some(o=>Do(o,r))||e.push(r);return{arrayValue:{values:e}}}class ih extends Qy{constructor(t){super(),this.elements=t}}function WD(n,t){let e=jf(t);for(const r of n.elements)e=e.filter(o=>!Do(o,r));return{arrayValue:{values:e}}}class Uf extends Qy{constructor(t,e){super(),this.k=t,this.N=e}}function Jy(n){return fr(n.integerValue||n.doubleValue)}function jf(n){return tg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class og{constructor(t,e){this.field=t,this.transform=e}}class kM{constructor(t,e){this.version=t,this.transformResults=e}}class pr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ag(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class sh{}function RM(n,t,e){n instanceof Hf?function(r,o,l){const h=r.value.clone(),m=KC(r.fieldTransforms,o,l.transformResults);h.setAll(m),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Xl?function(r,o,l){if(!ag(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=KC(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(YC(r)),m.setAll(h),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Xy(n,t,e){var o;n instanceof Hf?function(r,o,l){if(!ag(r.precondition,o))return;const h=r.value.clone(),m=QC(r.fieldTransforms,l,o);h.setAll(m),o.convertToFoundDocument(lg(o),h).setHasLocalMutations()}(n,t,e):n instanceof Xl?function(r,o,l){if(!ag(r.precondition,o))return;const h=QC(r.fieldTransforms,l,o),m=o.data;m.setAll(YC(r)),m.setAll(h),o.convertToFoundDocument(lg(o),m).setHasLocalMutations()}(n,t,e):ag(n.precondition,o=t)&&o.convertToNoDocument(Nt.min())}function YD(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),l=Io(r.transform,o||null);null!=l&&(null==e&&(e=ii.empty()),e.set(r.field,l))}return e||null}function ev(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&Rf(e,r,(o,l)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof pu&&r instanceof pu||e instanceof ih&&r instanceof ih?Rf(e.elements,r.elements,Do):e instanceof Uf&&r instanceof Uf?Do(e.N,r.N):e instanceof rh&&r instanceof rh);var e,r}(o,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function lg(n){return n.isFoundDocument()?n.version:Nt.min()}class Hf extends sh{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Xl extends sh{constructor(t,e,r,o,l=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function YC(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function KC(n,t,e){const r=new Map;Dt(n.length===e.length);for(let o=0;o<e.length;o++){const l=n[o],h=l.transform,m=t.data.field(l.field);r.set(l.field,sa(h,m,e[o]))}return r}function QC(n,t,e){const r=new Map;for(const o of n){const l=o.transform,h=e.data.field(o.field);r.set(o.field,Qa(l,h,t))}return r}class qf extends sh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class tv extends sh{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class KD{constructor(t){this.count=t}}var Ir,en;function QD(n){switch(n){default:return ct();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function JD(n){if(void 0===n)return wr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Ir.OK:return fe.OK;case Ir.CANCELLED:return fe.CANCELLED;case Ir.UNKNOWN:return fe.UNKNOWN;case Ir.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Ir.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Ir.INTERNAL:return fe.INTERNAL;case Ir.UNAVAILABLE:return fe.UNAVAILABLE;case Ir.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Ir.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Ir.NOT_FOUND:return fe.NOT_FOUND;case Ir.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Ir.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Ir.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Ir.ABORTED:return fe.ABORTED;case Ir.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Ir.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Ir.DATA_LOSS:return fe.DATA_LOSS;default:return ct()}}(en=Ir||(Ir={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class Br{constructor(t,e){this.comparator=t,this.root=e||Ii.EMPTY}insert(t,e){return new Br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(t){return new Br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nv(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nv(this.root,t,this.comparator,!1)}getReverseIterator(){return new nv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nv(this.root,t,this.comparator,!0)}}class nv{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?r(t.key,e):1,o&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ii{constructor(t,e,r,o,l){this.key=t,this.value=e,this.color=null!=r?r:Ii.RED,this.left=null!=o?o:Ii.EMPTY,this.right=null!=l?l:Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,l){return new Ii(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===l?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return Ii.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ct();const t=this.left.check();if(t!==this.right.check())throw ct();return t+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw ct()}get value(){throw ct()}get color(){throw ct()}get left(){throw ct()}get right(){throw ct()}copy(n,t,e,r,o){return this}insert(n,t,e){return new Ii(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rr{constructor(t){this.comparator=t,this.data=new Br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XD(this.data.getIterator())}getIteratorFrom(t){return new XD(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof rr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new rr(this.comparator);return e.data=t,e}}class XD{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const OM=new Br(ot.comparator);function Ao(){return OM}const PM=new Br(ot.comparator);function JC(){return PM}const NM=new Br(ot.comparator);function eI(){return NM}const FM=new rr(ot.comparator);function In(...n){let t=FM;for(const e of n)t=t.add(e);return t}const LM=new rr(Qt);function cg(){return LM}class $f{constructor(t,e,r,o,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,zf.createSynthesizedTargetChangeForCurrentChange(t,e)),new $f(Nt.min(),r,cg(),Ao(),In())}}class zf{constructor(t,e,r,o,l){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new zf(ri.EMPTY_BYTE_STRING,e,In(),In(),In())}}class ug{constructor(t,e,r,o){this.$=t,this.removedTargetIds=e,this.key=r,this.F=o}}class XC{constructor(t,e){this.targetId=t,this.O=e}}class eE{constructor(t,e,r=ri.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class tE{constructor(){this.M=0,this.L=rv(),this.B=ri.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=In(),e=In(),r=In();return this.L.forEach((o,l)=>{switch(l){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:ct()}}),new zf(this.B,this.U,t,e,r)}H(){this.q=!1,this.L=rv()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class tI{constructor(t){this.et=t,this.nt=new Map,this.st=Ao(),this.it=nE(),this.rt=new rr(Qt)}ot(t){for(const e of t.$)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ut(t){this.forEachTarget(t,e=>{const r=this.ht(e);switch(t.state){case 0:this.lt(e)&&r.W(t.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(t.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(e);break;case 3:this.lt(e)&&(r.tt(),r.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),r.W(t.resumeToken));break;default:ct()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((r,o)=>{this.lt(o)&&e(o)})}dt(t){const e=t.targetId,r=t.O.count,o=this.wt(e);if(o){const l=o.target;if($y(l))if(0===r){const h=new ot(l.path);this.ct(e,h,On.newNoDocument(h,Nt.min()))}else Dt(1===r);else this._t(e)!==r&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((l,h)=>{const m=this.wt(h);if(m){if(l.current&&$y(m.target)){const b=new ot(m.target.path);null!==this.st.get(b)||this.yt(h,b)||this.ct(h,b,On.newNoDocument(b,t))}l.j&&(e.set(h,l.G()),l.H())}});let r=In();this.it.forEach((l,h)=>{let m=!0;h.forEachWhile(b=>{const w=this.wt(b);return!w||2===w.purpose||(m=!1,!1)}),m&&(r=r.add(l))});const o=new $f(t,e,this.rt,this.st,r);return this.st=Ao(),this.it=nE(),this.rt=new rr(Qt),o}at(t,e){if(!this.lt(t))return;const r=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,r),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,r){if(!this.lt(t))return;const o=this.ht(t);this.yt(t,e)?o.J(e,1):o.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),r&&(this.st=this.st.insert(e,r))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new tE,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new rr(Qt),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new tE),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function nE(){return new Br(ot.comparator)}function rv(){return new Br(ot.comparator)}const rE={asc:"ASCENDING",desc:"DESCENDING"},oh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VM{constructor(t,e){this.databaseId=t,this.C=e}}function dg(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ah(n,t){return n.C?t.toBase64():t.toUint8Array()}function TO(n,t){return dg(n,t.toTimestamp())}function Ar(n){return Dt(!!n),Nt.fromTimestamp(function(t){const e=hu(t);return new ni(e.seconds,e.nanos)}(n))}function nI(n,t){return(e=n,new dn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function iE(n){const t=dn.fromString(n);return Dt(lE(t)),t}function Gf(n,t){return nI(n.databaseId,t.path)}function ec(n,t){const e=iE(t);if(e.get(1)!==n.databaseId.projectId)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Re(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ot(iI(e))}function _t(n,t){return nI(n.databaseId,t)}function rI(n){const t=iE(n);return 4===t.length?dn.emptyPath():iI(t)}function hg(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iI(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fg(n,t,e){return{name:Gf(n,t),fields:e.value.mapValue.fields}}function sI(n,t,e){const r=ec(n,t.name),o=Ar(t.updateTime),l=new ii({mapValue:{fields:t.fields}}),h=On.newFoundDocument(r,o,l);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function Nn(n,t){let e;if(t instanceof Hf)e={update:fg(n,t.key,t.value)};else if(t instanceof qf)e={delete:Gf(n,t.key)};else if(t instanceof Xl)e={update:fg(n,t.key,t.data),updateMask:ov(t.fieldMask)};else{if(!(t instanceof tv))return ct();e={verify:Gf(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof rh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ih)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Uf)return{fieldPath:l.field.canonicalString(),increment:h.N};throw ct()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:TO(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ct()),e;var o}function BM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?pr.updateTime(Ar(o.updateTime)):void 0!==o.exists?pr.exists(o.exists):pr.none():pr.none(),r=t.updateTransforms?t.updateTransforms.map(o=>function(l,h){let m=null;"setToServerValue"in h?(Dt("REQUEST_TIME"===h.setToServerValue),m=new rh):"appendMissingElements"in h?m=new pu(h.appendMissingElements.values||[]):"removeAllFromArray"in h?m=new ih(h.removeAllFromArray.values||[]):"increment"in h?m=new Uf(l,h.increment):ct();const b=wi.fromServerFormat(h.fieldPath);return new og(b,m)}(n,o)):[];var o;if(t.update){const o=ec(n,t.update.name),l=new ii({mapValue:{fields:t.update.fields}});if(t.updateMask){const h=new Of((t.updateMask.fieldPaths||[]).map(w=>wi.fromServerFormat(w)));return new Xl(o,l,h,e,r)}return new Hf(o,l,e,r)}if(t.delete){const o=ec(n,t.delete);return new qf(o,e)}if(t.verify){const o=ec(n,t.verify);return new tv(o,e)}return ct()}function aI(n,t){return{documents:[_t(n,t.path)]}}function lI(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=_t(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=_t(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const b=m.map(w=>function(S){if("=="===S.op){if(BC(S.value))return{unaryFilter:{field:Ja(S.field),op:"IS_NAN"}};if(FD(S.value))return{unaryFilter:{field:Ja(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(BC(S.value))return{unaryFilter:{field:Ja(S.field),op:"IS_NOT_NAN"}};if(FD(S.value))return{unaryFilter:{field:Ja(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(S.field),op:jM(S.op),value:S.value}}}(w));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);o&&(e.structuredQuery.where=o);const l=function(m){if(0!==m.length)return m.map(b=>{return{field:Ja((w=b).field),direction:UM(w.dir)};var w})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const h=(b=t.limit,n.C||eh(b)?b:{value:b});var b;return null!==h&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=aE(t.startAt)),t.endAt&&(e.structuredQuery.endAt=aE(t.endAt)),e}function sE(n){let t=rI(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){Dt(1===r);const S=e.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let l=[];e.where&&(l=oE(e.where));let h=[];e.orderBy&&(h=e.orderBy.map(S=>{return new ig(Wf((k=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let m=null;e.limit&&(m=function(S){let k;return k="object"==typeof S?S.value:S,eh(k)?null:k}(e.limit));let b=null;e.startAt&&(b=uI(e.startAt));let w=null;return e.endAt&&(w=uI(e.endAt)),Dr(t,o,h,l,m,"F",b,w)}function oE(n){return n?void 0!==n.unaryFilter?[qM(n)]:void 0!==n.fieldFilter?[HM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>oE(t)).reduce((t,e)=>t.concat(e)):ct():[]}function aE(n){return{before:n.before,values:n.position}}function uI(n){return new Vf(n.values||[],!!n.before)}function UM(n){return rE[n]}function jM(n){return oh[n]}function Ja(n){return{fieldPath:n.canonicalString()}}function Wf(n){return wi.fromServerFormat(n.fieldPath)}function HM(n){return Vi.create(Wf(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ct()}}(n.fieldFilter.op),n.fieldFilter.value)}function qM(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Wf(n.unaryFilter.field);return Vi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Wf(n.unaryFilter.field);return Vi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Wf(n.unaryFilter.field);return Vi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wf(n.unaryFilter.field);return Vi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ct()}}function ov(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function lE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function To(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=hI(t)),t=dI(n.get(e),t);return hI(t)}function dI(n,t){let e=t;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function hI(n){return n+"\x01\x01"}function Ys(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const e=t-2,r=[];let o="";for(let l=0;l<t;){const h=n.indexOf("\x01",l);switch((h<0||h>e)&&ct(),n.charAt(h+1)){case"\x01":const m=n.substring(l,h);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:ct()}l=h+2}return new dn(r)}class pg{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Ks{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}Ks.store="owner",Ks.key="owner";class mu{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}mu.store="mutationQueues",mu.keyPath="userId";class Fn{constructor(t,e,r,o,l){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}Fn.store="mutations",Fn.keyPath="batchId",Fn.userMutationsIndex="userMutationsIndex",Fn.userMutationsKeyPath=["userId","batchId"];class Ai{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,To(e)]}static key(t,e,r){return[t,To(e),r]}}Ai.store="documentMutations",Ai.PLACEHOLDER=new Ai;class fI{constructor(t,e){this.path=t,this.readTime=e}}class pI{constructor(t,e){this.path=t,this.version=e}}class ir{constructor(t,e,r,o,l,h){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];class oa{constructor(t){this.byteSize=t}}oa.store="remoteDocumentGlobal",oa.key="remoteDocumentGlobalKey";class Ms{constructor(t,e,r,o,l,h,m){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=m}}Ms.store="targets",Ms.keyPath="targetId",Ms.queryTargetsIndexName="queryTargetsIndex",Ms.queryTargetsKeyPath=["canonicalId","targetId"];class Ti{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}Ti.store="targetDocuments",Ti.keyPath=["targetId","path"],Ti.documentTargetsIndex="documentTargetsIndex",Ti.documentTargetsKeyPath=["path","targetId"];class So{constructor(t,e,r,o){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}So.key="targetGlobalKey",So.store="targetGlobal";class Zf{constructor(t,e){this.collectionId=t,this.parent=e}}Zf.store="collectionParents",Zf.keyPath=["collectionId","parent"];class gu{constructor(t,e,r,o){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=o}}gu.store="clientMetadata",gu.keyPath="clientId";class mg{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}mg.store="bundles",mg.keyPath="bundleId";class lh{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}lh.store="namedQueries",lh.keyPath="name";const av=[mu.store,Fn.store,Ai.store,ir.store,Ms.store,Ks.store,So.store,Ti.store,gu.store,oa.store,Zf.store,mg.store,lh.store],mI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class xe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ct(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new xe((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(e,l).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof xe?e:xe.resolve(e)}catch(e){return xe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):xe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):xe.reject(e)}static resolve(t){return new xe((e,r)=>{e(t)})}static reject(t){return new xe((e,r)=>{r(t)})}static waitFor(t){return new xe((e,r)=>{let o=0,l=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&e()},b=>r(b))}),h=!0,l===o&&e()})}static or(t){let e=xe.resolve(!1);for(const r of t)e=e.next(o=>o?xe.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,l)=>{r.push(e.call(this,o,l))}),this.waitFor(r)}}class _u{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Ei,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new gg(t,e.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=cE(r.target.error);this.It.reject(new gg(t,o))}}static open(t,e,r,o){try{return new _u(e,t.transaction(o,r))}catch(l){throw new gg(e,l)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new zM(e)}}class aa{constructor(t,e,r){this.name=t,this.version=e,this.Rt=r,12.2===aa.Pt((0,Wt.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),yu(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Wt.hl)())return!1;if(aa.vt())return!0;const t=(0,Wt.z$)(),e=aa.Pt(t),r=0<e&&e<10,o=aa.Vt(t),l=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||l)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static Pt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(t){var e=this;return(0,Ce.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,o)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new gg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const m=h.target.error;o("VersionError"===m.name?new Re(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Re(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new gg(t,m))},l.onupgradeneeded=h=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',h.oldVersion),e.Rt.Nt(h.target.result,l.transaction,h.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=r=>e.kt(r)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,o){var l=this;return(0,Ce.Z)(function*(){const h="readonly"===e;let m=0;for(;;){++m;try{l.db=yield l.Ct(t);const b=_u.open(l.db,t,h?"readonly":"readwrite",r),w=o(b).catch(S=>(b.abort(S),xe.reject(S))).toPromise();return w.catch(()=>{}),yield b.At,w}catch(b){const w="FirebaseError"!==b.name&&m<3;if(Ve("SimpleDb","Transaction failed with error:",b.message,"Retrying:",w),l.close(),!w)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $M{constructor(t){this.$t=t,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(t){this.$t=t}done(){this.Ft=!0}Lt(t){this.Ot=t}delete(){return yu(this.$t.delete())}}class gg extends Re{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ch(n){return"IndexedDbTransactionError"===n.name}class zM{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),yu(r)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),yu(this.store.add(t))}get(t){return yu(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),yu(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),yu(this.store.count())}Bt(t,e){const r=this.cursor(this.options(t,e)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,m)=>m.delete())}jt(t,e){let r;e?r=t:(r={},e=t);const o=this.cursor(r);return this.Ut(o,e)}Qt(t){const e=this.cursor({});return new xe((r,o)=>{e.onerror=l=>{const h=cE(l.target.error);o(h)},e.onsuccess=l=>{const h=l.target.result;h?t(h.primaryKey,h.value).next(m=>{m?h.continue():r()}):r()}})}Ut(t,e){const r=[];return new xe((o,l)=>{t.onerror=h=>{l(h.target.error)},t.onsuccess=h=>{const m=h.target.result;if(!m)return void o();const b=new $M(m),w=e(m.primaryKey,m.value,b);if(w instanceof xe){const S=w.catch(k=>(b.done(),xe.reject(k)));r.push(S)}b.isDone?o():null===b.Mt?m.continue():m.continue(b.Mt)}}).next(()=>xe.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.Kt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function yu(n){return new xe((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const o=cE(r.target.error);e(o)}})}let _I=!1;function cE(n){const t=aa.Pt((0,Wt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _I||(_I=!0,setTimeout(()=>{throw r},0)),r}}return n}class uh extends gI{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function xs(n,t){const e=Ge(n);return aa.Dt(e.Wt,t)}class lv{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(t.key)&&RM(l,t,r[o])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Xy(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Xy(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),In())}isEqual(t){return this.batchId===t.batchId&&Rf(this.mutations,t.mutations,(e,r)=>ev(e,r))&&Rf(this.baseMutations,t.baseMutations,(e,r)=>ev(e,r))}}class uE{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){Dt(t.mutations.length===r.length);let o=eI();const l=t.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new uE(t,e,r,o)}}class tc{constructor(t,e,r,o,l=Nt.min(),h=Nt.min(),m=ri.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m}withSequenceNumber(t){return new tc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new tc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class yI{constructor(t){this.Gt=t}}function cv(n,t){if(t.document)return sI(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ot.fromSegments(t.noDocument.path),r=hh(t.noDocument.readTime),o=On.newNoDocument(e,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){const e=ot.fromSegments(t.unknownDocument.path),r=hh(t.unknownDocument.version);return On.newUnknownDocument(e,r)}return ct()}function vI(n,t,e){const r=_g(e),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){const l={name:Gf(m=n.Gt,(b=t).key),fields:b.data.value.mapValue.fields,updateTime:dg(m,b.version.toTimestamp())};return new ir(null,null,l,t.hasCommittedMutations,r,o)}var m,b;if(t.isNoDocument()){const l=t.key.path.toArray(),h=dh(t.version),m=t.hasCommittedMutations;return new ir(null,new fI(l,h),null,m,r,o)}if(t.isUnknownDocument()){const l=t.key.path.toArray(),h=dh(t.version);return new ir(new pI(l,h),null,null,!0,r,o)}return ct()}function _g(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function bI(n){const t=new ni(n[0],n[1]);return Nt.fromTimestamp(t)}function dh(n){const t=n.toTimestamp();return new pg(t.seconds,t.nanoseconds)}function hh(n){const t=new ni(n.seconds,n.nanoseconds);return Nt.fromTimestamp(t)}function Yf(n,t){const e=(t.baseMutations||[]).map(l=>BM(n.Gt,l));for(let l=0;l<t.mutations.length-1;++l){const h=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(h.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const r=t.mutations.map(l=>BM(n.Gt,l)),o=ni.fromMillis(t.localWriteTimeMs);return new lv(t.batchId,o,e,r)}function yg(n){const t=hh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?hh(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var o;return void 0!==n.query.documents?(Dt(1===(o=n.query).documents.length),r=Di(th(rI(o.documents[0])))):r=Di(sE(n.query)),new tc(r,n.targetId,0,n.lastListenSequenceNumber,t,e,ri.fromBase64String(n.resumeToken))}function CI(n,t){const e=dh(t.snapshotVersion),r=dh(t.lastLimboFreeSnapshotVersion);let o;o=$y(t.target)?aI(n.Gt,t.target):lI(n.Gt,t.target);const l=t.resumeToken.toBase64();return new Ms(t.targetId,Lf(t.target),e,l,t.sequenceNumber,r,o)}function vg(n){const t=sE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$D(t,t.limit,"L"):t}class GM{getBundleMetadata(t,e){return dE(t).get(e).next(r=>{if(r)return{id:(o=r).bundleId,createTime:hh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return dE(t).put({bundleId:(r=e).id,createTime:dh(Ar(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return EI(t).get(e).next(r=>{if(r)return{name:(o=r).name,query:vg(o.bundledQuery),readTime:hh(o.readTime)};var o})}saveNamedQuery(t,e){return EI(t).put({name:(r=e).name,readTime:dh(Ar(r.readTime)),bundledQuery:r.bundledQuery});var r}}function dE(n){return xs(n,mg.store)}function EI(n){return xs(n,lh.store)}class WM{constructor(){this.zt=new hE}addToCollectionParentIndex(t,e){return this.zt.add(e),xe.resolve()}getCollectionParents(t,e){return xe.resolve(this.zt.getEntries(e))}}class hE{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new rr(dn.comparator),l=!o.has(r);return this.index[e]=o.add(r),l}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new rr(dn.comparator)).toArray()}}class ZM{constructor(){this.Ht=new hE}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const r=e.lastSegment(),o=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const l={collectionId:r,parent:To(o)};return wI(t).put(l)}return xe.resolve()}getCollectionParents(t,e){const r=[],o=IDBKeyRange.bound([e,""],[Qd(e),""],!1,!0);return wI(t).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==e)break;r.push(Ys(h.parent))}return r})}}function wI(n){return xs(n,Zf.store)}const DI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ks{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ks(t,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function II(n,t,e){const r=n.store(Fn.store),o=n.store(Ai.store),l=[],h=IDBKeyRange.only(e.batchId);let m=0;const b=r.jt({range:h},(S,k,V)=>(m++,V.delete()));l.push(b.next(()=>{Dt(1===m)}));const w=[];for(const S of e.mutations){const k=Ai.key(t,S.key.path,e.batchId);l.push(o.delete(k)),w.push(S.key)}return xe.waitFor(l).next(()=>w)}function bg(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ct();t=n.noDocument}return JSON.stringify(t).length}ks.DEFAULT_COLLECTION_PERCENTILE=10,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ks.DEFAULT=new ks(41943040,ks.DEFAULT_COLLECTION_PERCENTILE,ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ks.DISABLED=new ks(-1,0,0);class uv{constructor(t,e,r,o){this.userId=t,this.k=e,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(t,e,r,o){Dt(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new uv(l,e,r,o)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vu(t).jt({index:Fn.userMutationsIndex,range:r},(o,l,h)=>{e=!1,h.done()}).next(()=>e)}addMutationBatch(t,e,r,o){const l=fh(t),h=vu(t);return h.add({}).next(m=>{Dt("number"==typeof m);const b=new lv(m,e,r,o),w=function(V,j,Z){const pe=Z.baseMutations.map(ut=>Nn(V.Gt,ut)),Se=Z.mutations.map(ut=>Nn(V.Gt,ut));return new Fn(j,Z.batchId,Z.localWriteTime.toMillis(),pe,Se)}(this.k,this.userId,b),S=[];let k=new rr((V,j)=>Qt(V.canonicalString(),j.canonicalString()));for(const V of o){const j=Ai.key(this.userId,V.key.path,m);k=k.add(V.key.path.popLast()),S.push(h.put(w)),S.push(l.put(j,Ai.PLACEHOLDER))}return k.forEach(V=>{S.push(this.Jt.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.Yt[m]=b.keys()}),xe.waitFor(S).next(()=>b)})}lookupMutationBatch(t,e){return vu(t).get(e).next(r=>r?(Dt(r.userId===this.userId),Yf(this.k,r)):null)}Zt(t,e){return this.Yt[e]?xe.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const o=r.keys();return this.Yt[e]=o,o}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return vu(t).jt({index:Fn.userMutationsIndex,range:o},(h,m,b)=>{m.userId===this.userId&&(Dt(m.batchId>=r),l=Yf(this.k,m)),b.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vu(t).jt({index:Fn.userMutationsIndex,range:e,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vu(t).Bt(Fn.userMutationsIndex,e).next(r=>r.map(o=>Yf(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Ai.prefixForPath(this.userId,e.path),o=IDBKeyRange.lowerBound(r),l=[];return fh(t).jt({range:o},(h,m,b)=>{const[w,S,k]=h,V=Ys(S);if(w===this.userId&&e.path.isEqual(V))return vu(t).get(k).next(j=>{if(!j)throw ct();Dt(j.userId===this.userId),l.push(Yf(this.k,j))});b.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new rr(Qt);const o=[];return e.forEach(l=>{const h=Ai.prefixForPath(this.userId,l.path),m=IDBKeyRange.lowerBound(h),b=fh(t).jt({range:m},(w,S,k)=>{const[V,j,Z]=w,pe=Ys(j);V===this.userId&&l.path.isEqual(pe)?r=r.add(Z):k.done()});o.push(b)}),xe.waitFor(o).next(()=>this.te(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1,l=Ai.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let m=new rr(Qt);return fh(t).jt({range:h},(b,w,S)=>{const[k,V,j]=b,Z=Ys(V);k===this.userId&&r.isPrefixOf(Z)?Z.length===o&&(m=m.add(j)):S.done()}).next(()=>this.te(t,m))}te(t,e){const r=[],o=[];return e.forEach(l=>{o.push(vu(t).get(l).next(h=>{if(null===h)throw ct();Dt(h.userId===this.userId),r.push(Yf(this.k,h))}))}),xe.waitFor(o).next(()=>r)}removeMutationBatch(t,e){return II(t.Wt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),xe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(t,o))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return xe.resolve();const r=IDBKeyRange.lowerBound(Ai.prefixForUser(this.userId)),o=[];return fh(t).jt({range:r},(l,h,m)=>{if(l[0]===this.userId){const b=Ys(l[1]);o.push(b)}else m.done()}).next(()=>{Dt(0===o.length)})})}containsKey(t,e){return AI(t,this.userId,e)}ne(t){return TI(t).get(this.userId).next(e=>e||new mu(this.userId,-1,""))}}function AI(n,t,e){const r=Ai.prefixForPath(t,e.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return fh(n).jt({range:l,Kt:!0},(m,b,w)=>{const[S,k,V]=m;S===t&&k===o&&(h=!0),w.done()}).next(()=>h)}function vu(n){return xs(n,Fn.store)}function fh(n){return xs(n,Ai.store)}function TI(n){return xs(n,mu.store)}class ph{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new ph(0)}static re(){return new ph(-1)}}class YM{constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const r=new ph(e.highestTargetId);return e.highestTargetId=r.next(),this.ae(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Nt.fromTimestamp(new ni(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.oe(t).next(o=>(o.highestListenSequenceNumber=e,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),e>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=e),this.ae(t,o)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.oe(t).next(r=>(r.targetCount+=1,this.ue(e,r),this.ae(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>bu(t).delete(e.targetId)).next(()=>this.oe(t)).next(r=>(Dt(r.targetCount>0),r.targetCount-=1,this.ae(t,r)))}removeTargets(t,e,r){let o=0;const l=[];return bu(t).jt((h,m)=>{const b=yg(m);b.sequenceNumber<=e&&null===r.get(b.targetId)&&(o++,l.push(this.removeTargetData(t,b)))}).next(()=>xe.waitFor(l)).next(()=>o)}forEachTarget(t,e){return bu(t).jt((r,o)=>{const l=yg(o);e(l)})}oe(t){return dv(t).get(So.key).next(e=>(Dt(null!==e),e))}ae(t,e){return dv(t).put(So.key,e)}ce(t,e){return bu(t).put(CI(this.k,e))}ue(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const r=Lf(e),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return bu(t).jt({range:o,index:Ms.queryTargetsIndexName},(h,m,b)=>{const w=yg(m);ng(e,w.target)&&(l=w,b.done())}).next(()=>l)}addMatchingKeys(t,e,r){const o=[],l=nc(t);return e.forEach(h=>{const m=To(h.path);o.push(l.put(new Ti(r,m))),o.push(this.referenceDelegate.addReference(t,r,h))}),xe.waitFor(o)}removeMatchingKeys(t,e,r){const o=nc(t);return xe.forEach(e,l=>{const h=To(l.path);return xe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(t,r,l)])})}removeMatchingKeysForTargetId(t,e){const r=nc(t),o=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),o=nc(t);let l=In();return o.jt({range:r,Kt:!0},(h,m,b)=>{const w=Ys(h[1]),S=new ot(w);l=l.add(S)}).next(()=>l)}containsKey(t,e){const r=To(e.path),o=IDBKeyRange.bound([r],[Qd(r)],!1,!0);let l=0;return nc(t).jt({index:Ti.documentTargetsIndex,Kt:!0,range:o},([h,m],b,w)=>{0!==h&&(l++,w.done())}).next(()=>l>0)}Et(t,e){return bu(t).get(e).next(r=>r?yg(r):null)}}function bu(n){return xs(n,Ms.store)}function dv(n){return xs(n,So.store)}function nc(n){return xs(n,Ti.store)}function rc(n){return fE.apply(this,arguments)}function fE(){return fE=(0,Ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==mI)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),fE.apply(this,arguments)}function SI([n,t],[e,r]){const o=Qt(n,e);return 0===o?Qt(t,r):o}class pE{constructor(t){this.he=t,this.buffer=new rr(SI),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();SI(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class KM{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const r=this.we?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ce.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(o){ch(o)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield rc(o)}yield e.me(t)}))}}class MI{constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return xe.resolve(wo.I);const r=new pE(e);return this.ge.forEachTarget(t,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(t,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.ge.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),xe.resolve(DI)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DI):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let r,o,l,h,m,b,w;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,h=Date.now(),this.nthSequenceNumber(t,o))).next(k=>(r=k,m=Date.now(),this.removeTargets(t,r,e))).next(k=>(l=k,b=Date.now(),this.removeOrphanedDocuments(t,r))).next(k=>(w=Date.now(),By()<=ru.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-S}ms\n\tDetermined least recently used ${o} in `+(m-h)+`ms\n\tRemoved ${l} targets in `+(b-m)+`ms\n\tRemoved ${k} documents in `+(w-b)+`ms\nTotal Duration: ${w-S}ms`),xe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:k})))}}class QM{constructor(t,e){this.db=t,this.garbageCollector=new MI(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(o=>r+o))}Ee(t){let e=0;return this.pe(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(r,o)=>e(o))}addReference(t,e,r){return Cg(t,r)}removeReference(t,e,r){return Cg(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return Cg(t,e)}Ae(t,e){return function(r,o){let l=!1;return TI(r).Qt(h=>AI(r,h,o).next(m=>(m&&(l=!0),xe.resolve(!m)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(t,(h,m)=>{if(m<=e){const b=this.Ae(t,h).next(w=>{if(!w)return l++,r.getEntry(t,h).next(()=>(r.removeEntry(h),nc(t).delete([0,To(h.path)])))});o.push(b)}}).next(()=>xe.waitFor(o)).next(()=>r.apply(t)).next(()=>l)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return Cg(t,e)}Ie(t,e){const r=nc(t);let o,l=wo.I;return r.jt({index:Ti.documentTargetsIndex},([h,m],{path:b,sequenceNumber:w})=>{0===h?(l!==wo.I&&e(new ot(Ys(o)),l),l=w,o=b):l=wo.I}).next(()=>{l!==wo.I&&e(new ot(Ys(o)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Cg(n,t){return nc(n).put((r=n.currentSequenceNumber,new Ti(0,To(t.path),r)));var r}class mh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],t))return void(o[l]=[t,e]);o.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),!0;return!1}forEach(t){du(this.inner,(e,r)=>{for(const[o,l]of r)t(o,l)})}isEmpty(){return Km(this.inner)}}class mE{constructor(){this.changes=new mh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Nt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:On.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?xe.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class SO{constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,r){return _h(t).put(Kf(e),r)}removeEntry(t,e){const r=_h(t),o=Kf(e);return r.delete(o)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Re(t,r)))}getEntry(t,e){return _h(t).get(Kf(e)).next(r=>this.Pe(e,r))}be(t,e){return _h(t).get(Kf(e)).next(r=>({document:this.Pe(e,r),size:bg(r)}))}getEntries(t,e){let r=Ao();return this.ve(t,e,(o,l)=>{const h=this.Pe(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(t,e){let r=Ao(),o=new Br(ot.comparator);return this.ve(t,e,(l,h)=>{const m=this.Pe(l,h);r=r.insert(l,m),o=o.insert(l,bg(h))}).next(()=>({documents:r,Se:o}))}ve(t,e,r){if(e.isEmpty())return xe.resolve();const o=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),l=e.getIterator();let h=l.getNext();return _h(t).jt({range:o},(m,b,w)=>{const S=ot.fromSegments(m);for(;h&&ot.comparator(h,S)<0;)r(h,null),h=l.getNext();h&&h.isEqual(S)&&(r(h,b),h=l.hasNext()?l.getNext():null),h?w.Lt(h.path.toArray()):w.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,r){let o=Ao();const l=e.path.length+1,h={};if(r.isEqual(Nt.min())){const m=e.path.toArray();h.range=IDBKeyRange.lowerBound(m)}else{const m=e.path.toArray(),b=_g(r);h.range=IDBKeyRange.lowerBound([m,b],!0),h.index=ir.collectionReadTimeIndex}return _h(t).jt(h,(m,b,w)=>{if(m.length!==l)return;const S=cv(this.k,b);e.path.isPrefixOf(S.key.path)?Bf(e,S)&&(o=o.insert(S.key,S)):w.done()}).next(()=>o)}newChangeBuffer(t){return new JM(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return gh(t).get(oa.key).next(e=>(Dt(!!e),e))}Re(t,e){return gh(t).put(oa.key,e)}Pe(t,e){if(e){const r=cv(this.k,e);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return On.newInvalidDocument(t)}}class JM extends mE{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new mh(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(t){const e=[];let r=0,o=new rr((l,h)=>Qt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const m=this.Ce.get(l);if(h.document.isValidDocument()){const b=vI(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=bg(b)-m,e.push(this.De.addEntry(t,l,b))}else if(r-=m,this.trackRemovals){const b=vI(this.De.k,On.newNoDocument(l,Nt.min()),this.getReadTime(l));e.push(this.De.addEntry(t,l,b))}else e.push(this.De.removeEntry(t,l))}),o.forEach(l=>{e.push(this.De.Jt.addToCollectionParentIndex(t,l))}),e.push(this.De.updateMetadata(t,r)),xe.waitFor(e)}getFromCache(t,e){return this.De.be(t,e).next(r=>(this.Ce.set(e,r.size),r.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function gh(n){return xs(n,oa.store)}function _h(n){return xs(n,ir.store)}function Kf(n){return n.path.toArray()}class hv{constructor(t){this.k=t}Nt(t,e,r,o){Dt(r<o&&r>=0&&o<=11);const l=new _u("createOrUpgrade",e);var m;r<1&&o>=1&&(t.createObjectStore(Ks.store),(m=t).createObjectStore(mu.store,{keyPath:mu.keyPath}),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Ai.store),xI(t),function(m){m.createObjectStore(ir.store)}(t));let h=xe.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(Ti.store),m.deleteObjectStore(Ms.store),m.deleteObjectStore(So.store)}(t),xI(t)),h=h.next(()=>function(m){const b=m.store(So.store),w=new So(0,0,Nt.min().toTimestamp(),0);return b.put(So.key,w)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(m,b){return b.store(Fn.store).Bt().next(w=>{m.deleteObjectStore(Fn.store),m.createObjectStore(Fn.store,{keyPath:Fn.keyPath,autoIncrement:!0}).createIndex(Fn.userMutationsIndex,Fn.userMutationsKeyPath,{unique:!0});const S=b.store(Fn.store),k=w.map(V=>S.put(V));return xe.waitFor(k)})}(t,l))),h=h.next(()=>{!function(m){m.createObjectStore(gu.store,{keyPath:gu.keyPath})}(t)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(m){m.createObjectStore(oa.store)}(t),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(t,l))),r<9&&o>=9&&(h=h.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t),function(m){const b=m.objectStore(ir.store);b.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),b.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Fe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(m){m.createObjectStore(mg.store,{keyPath:mg.keyPath})})(t),function(m){m.createObjectStore(lh.store,{keyPath:lh.keyPath})}(t)})),h}ke(t){let e=0;return t.store(ir.store).jt((r,o)=>{e+=bg(o)}).next(()=>{const r=new oa(e);return t.store(oa.store).put(oa.key,r)})}Ne(t){const e=t.store(mu.store),r=t.store(Fn.store);return e.Bt().next(o=>xe.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(Fn.userMutationsIndex,h).next(m=>xe.forEach(m,b=>{Dt(b.userId===l.userId);const w=Yf(this.k,b);return II(t,l.userId,w).next(()=>{})}))}))}xe(t){const e=t.store(Ti.store),r=t.store(ir.store);return t.store(So.store).get(So.key).next(o=>{const l=[];return r.jt((h,m)=>{const b=new dn(h),w=[0,To(b)];l.push(e.get(w).next(S=>S?xe.resolve():e.put(new Ti(0,To(b),o.highestListenSequenceNumber))))}).next(()=>xe.waitFor(l))})}$e(t,e){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath});const r=e.store(Zf.store),o=new hE,l=h=>{if(o.add(h)){const m=h.lastSegment(),b=h.popLast();return r.put({collectionId:m,parent:To(b)})}};return e.store(ir.store).jt({Kt:!0},(h,m)=>{const b=new dn(h);return l(b.popLast())}).next(()=>e.store(Ai.store).jt({Kt:!0},([h,m,b],w)=>{const S=Ys(m);return l(S.popLast())}))}Fe(t){const e=t.store(Ms.store);return e.jt((r,o)=>{const l=yg(o),h=CI(this.k,l);return e.put(h)})}}function xI(n){n.createObjectStore(Ti.store,{keyPath:Ti.keyPath}).createIndex(Ti.documentTargetsIndex,Ti.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Ms.store,{keyPath:Ms.keyPath}).createIndex(Ms.queryTargetsIndexName,Ms.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(So.store)}const Cu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gE{constructor(t,e,r,o,l,h,m,b,w,S){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=l,this.window=h,this.document=m,this.Me=w,this.Le=S,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=k=>Promise.resolve(),!gE.bt())throw new Re(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QM(this,o),this.Ge=e+"main",this.k=new yI(b),this.ze=new aa(this.Ge,11,new hv(this.k)),this.He=new YM(this.referenceDelegate,this.k),this.Jt=new ZM,this.Je=new SO(this.k,this.Jt),this.Ye=new GM,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===S&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,Cu);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new wo(t,this.Me)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var r=(0,Ce.Z)(function*(o){if(e.started)return t(o)});return function(o){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>pv(t).put(new gu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.an(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(ch(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return fv(t).get(Ks.key).next(e=>xe.resolve(this.un(e)))}hn(t){return pv(t).delete(this.clientId)}ln(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=xs(r,gu.store);return o.Bt().next(l=>{const h=t.dn(l,18e5),m=l.filter(b=>-1===h.indexOf(b));return xe.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(t.Xe)for(const r of e)t.Xe.removeItem(t.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?xe.resolve(!0):fv(t).get(Ks.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new Re(fe.FAILED_PRECONDITION,Cu);return!1}}return!(!this.networkEnabled||!this.inForeground)||pv(t).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&m)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[Ks.store,gu.store],e=>{const r=new uh(e,wo.I);return t.an(r).next(()=>t.hn(r))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(r=>this.fn(r.updateTimeMs,e)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>pv(t).Bt().next(e=>this.dn(e,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(t){return uv.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,r){let l;return Ve("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",av,h=>(l=new uh(h,this.Be?this.Be.next():wo.I),"readwrite-primary"===e?this.rn(l).next(m=>!!m||this.on(l)).next(m=>{if(!m)throw wr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Re(fe.FAILED_PRECONDITION,mI);return r(l)}).next(m=>this.cn(l).next(()=>m)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(t){return fv(t).get(Ks.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Re(fe.FAILED_PRECONDITION,Cu)})}cn(t){const e=new Ks(this.clientId,this.allowTabSynchronization,Date.now());return fv(t).put(Ks.key,e)}static bt(){return aa.bt()}an(t){const e=fv(t);return e.get(Ks.key).next(r=>this.un(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete(Ks.key)):xe.resolve())}fn(t,e){const r=Date.now();return!(t<r-e||t>r&&(wr(`Detected an update time that is in the future: ${t} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,Wt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const r=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){wr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function fv(n){return xs(n,Ks.store)}function pv(n){return xs(n,gu.store)}function Mo(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class kI{constructor(t,e){this.progress=t,this.In=e}}class XM{constructor(t,e,r){this.Je=t,this.An=e,this.Jt=r}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Pn(t,e,r))}Pn(t,e,r){return this.Je.getEntry(t,e).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}bn(t,e){t.forEach((r,o)=>{for(const l of e)l.applyToLocalView(o)})}vn(t,e){return this.Je.getEntries(t,e).next(r=>this.Vn(t,r).next(()=>r))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return ot.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(t,e.path):Yy(e)?this.Dn(t,e,r):this.Cn(t,e,r);var o}Sn(t,e){return this.Rn(t,new ot(e)).next(r=>{let o=JC();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(t,e,r){const o=e.collectionGroup;let l=JC();return this.Jt.getCollectionParents(t,o).next(h=>xe.forEach(h,m=>{const b=(w=e,S=m.child(o),new Jl(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.Cn(t,b,r).next(w=>{w.forEach((S,k)=>{l=l.insert(S,k)})})}).next(()=>l))}Cn(t,e,r){let o,l;return this.Je.getDocumentsMatchingQuery(t,e,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(h=>(l=h,this.Nn(t,l,o).next(m=>{o=m;for(const b of l)for(const w of b.mutations){const S=w.key;let k=o.get(S);null==k&&(k=On.newInvalidDocument(S),o=o.insert(S,k)),Xy(w,k,b.localWriteTime),k.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((h,m)=>{Bf(e,m)||(o=o.remove(h))}),o))}Nn(t,e,r){let o=In();for(const h of e)for(const m of h.mutations)m instanceof Xl&&null===r.get(m.key)&&(o=o.add(m.key));let l=r;return this.Je.getEntries(t,o).next(h=>(h.forEach((m,b)=>{b.isFoundDocument()&&(l=l.insert(m,b))}),l))}}class Qf{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.kn=r,this.xn=o}static $n(t,e){let r=In(),o=In();for(const l of e.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qf(t,e.fromCache,r,o)}}class RI{Fn(t){this.On=t}getDocumentsMatchingQuery(t,e,r,o){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.Mn(t,e):this.On.vn(t,o).next(l=>{const h=this.Ln(e,l);return(Gy(e)||Wy(e))&&this.Bn(e.limitType,h,o,r)?this.Mn(t,e):(By()<=ru.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WC(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(m=>(h.forEach(b=>{m=m.insert(b.key,b)}),m)))});var l}Ln(t,e){let r=new rr(xM(t));return e.forEach((o,l)=>{Bf(t,l)&&(r=r.add(l))}),r}Bn(t,e,r,o){if(r.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Mn(t,e){return By()<=ru.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",WC(e)),this.On.getDocumentsMatchingQuery(t,e,Nt.min())}}class ex{constructor(t,e,r,o){this.persistence=t,this.Un=e,this.k=o,this.qn=new Br(Qt),this.Kn=new mh(l=>Lf(l),ng),this.jn=Nt.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new XM(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function tx(n,t,e,r){return new ex(n,t,e,r)}function OI(n,t){return _E.apply(this,arguments)}function _E(){return _E=(0,Ce.Z)(function*(n,t){const e=Ge(n);let r=e.An,o=e.Wn;const l=yield e.persistence.runTransaction("Handle user change","readonly",h=>{let m;return e.An.getAllMutationBatches(h).next(b=>(m=b,r=e.persistence.getMutationQueue(t),o=new XM(e.Qn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(b=>{const w=[],S=[];let k=In();for(const V of m){w.push(V.batchId);for(const j of V.mutations)k=k.add(j.key)}for(const V of b){S.push(V.batchId);for(const j of V.mutations)k=k.add(j.key)}return o.vn(h,k).next(V=>({Gn:V,removedBatchIds:w,addedBatchIds:S}))})});return e.An=r,e.Wn=o,e.Un.Fn(e.Wn),l}),_E.apply(this,arguments)}function nx(n,t){const e=Ge(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),l=e.Qn.newChangeBuffer({trackRemovals:!0});return function(h,m,b,w){const S=b.batch,k=S.keys();let V=xe.resolve();return k.forEach(j=>{V=V.next(()=>w.getEntry(m,j)).next(Z=>{const pe=b.docVersions.get(j);Dt(null!==pe),Z.version.compareTo(pe)<0&&(S.applyToRemoteDocument(Z,b),Z.isValidDocument()&&w.addEntry(Z,b.commitVersion))})}),V.next(()=>h.An.removeMutationBatch(m,S))}(e,r,t,l).next(()=>l.apply(r)).next(()=>e.An.performConsistencyCheck(r)).next(()=>e.Wn.vn(r,o))})}function mv(n){const t=Ge(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function PI(n,t){const e=Ge(n),r=t.snapshotVersion;let o=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=e.Qn.newChangeBuffer({trackRemovals:!0});o=e.qn;const m=[];t.targetChanges.forEach((w,S)=>{const k=o.get(S);if(!k)return;m.push(e.He.removeMatchingKeys(l,w.removedDocuments,S).next(()=>e.He.addMatchingKeys(l,w.addedDocuments,S)));const V=w.resumeToken;if(V.approximateByteSize()>0){const j=k.withResumeToken(V,r).withSequenceNumber(l.currentSequenceNumber);o=o.insert(S,j),Z=k,Se=w,Dt((pe=j).resumeToken.approximateByteSize()>0),(0===Z.resumeToken.approximateByteSize()||pe.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(e.He.updateTargetData(l,j))}var Z,pe,Se});let b=Ao();if(t.documentUpdates.forEach((w,S)=>{t.resolvedLimboDocuments.has(w)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(l,w))}),m.push(gv(l,h,t.documentUpdates,r,void 0).next(w=>{b=w})),!r.isEqual(Nt.min())){const w=e.He.getLastRemoteSnapshotVersion(l).next(S=>e.He.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(w)}return xe.waitFor(m).next(()=>h.apply(l)).next(()=>e.Wn.Vn(l,b)).next(()=>b)}).then(l=>(e.qn=o,l))}function gv(n,t,e,r,o){let l=In();return e.forEach(h=>l=l.add(h)),t.getEntries(n,l).next(h=>{let m=Ao();return e.forEach((b,w)=>{const S=h.get(b),k=(null==o?void 0:o.get(b))||r;w.isNoDocument()&&w.version.isEqual(Nt.min())?(t.removeEntry(b,k),m=m.insert(b,w)):!S.isValidDocument()||w.version.compareTo(S.version)>0||0===w.version.compareTo(S.version)&&S.hasPendingWrites?(t.addEntry(w,k),m=m.insert(b,w)):Ve("LocalStore","Ignoring outdated watch update for ",b,". Current version:",S.version," Watch version:",w.version)}),m})}function Jf(n,t){const e=Ge(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(r,t)))}function ic(n,t){const e=Ge(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.He.getTargetData(r,t).next(l=>l?(o=l,xe.resolve(o)):e.He.allocateTargetId(r).next(h=>(o=new tc(t,h,0,r.currentSequenceNumber),e.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.qn=e.qn.insert(r.targetId,r),e.Kn.set(t,r.targetId)),r})}function Xa(n,t,e){return yE.apply(this,arguments)}function yE(){return yE=(0,Ce.Z)(function*(n,t,e){const r=Ge(n),o=r.qn.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ch(h))throw h;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${h}`)}r.qn=r.qn.remove(t),r.Kn.delete(o.target)}),yE.apply(this,arguments)}function Eg(n,t,e){const r=Ge(n);let o=Nt.min(),l=In();return r.persistence.runTransaction("Execute query","readonly",h=>function(m,b,w){const S=Ge(m),k=S.Kn.get(w);return void 0!==k?xe.resolve(S.qn.get(k)):S.He.getTargetData(b,w)}(r,h,Di(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,m.targetId).next(b=>{l=b})}).next(()=>r.Un.getDocumentsMatchingQuery(h,t,e?o:Nt.min(),e?l:In())).next(m=>({documents:m,zn:l})))}function vE(n,t){const e=Ge(n),r=Ge(e.He),o=e.qn.get(t);return o?Promise.resolve(o.target):e.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,t).next(h=>h?h.target:null))}function NI(n){const t=Ge(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,o,l){const h=Ge(r);let m=Ao(),b=_g(l);const w=_h(o),S=IDBKeyRange.lowerBound(b,!0);return w.jt({index:ir.readTimeIndex,range:S},(k,V)=>{const j=cv(h.k,V);m=m.insert(j.key,j),b=V.readTime}).next(()=>({In:m,readTime:bI(b)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:r})=>(t.jn=r,e))}function bE(){return bE=(0,Ce.Z)(function*(n){const t=Ge(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const o=_h(r);let l=Nt.min();return o.jt({index:ir.readTimeIndex,reverse:!0},(h,m,b)=>{m.readTime&&(l=bI(m.readTime)),b.done()}).next(()=>l)}(e)).then(e=>{t.jn=e})}),bE.apply(this,arguments)}function EE(){return EE=(0,Ce.Z)(function*(n,t,e,r){const o=Ge(n);let l=In(),h=Ao(),m=eI();for(const S of e){const k=t.Hn(S.metadata.name);S.document&&(l=l.add(k)),h=h.insert(k,t.Jn(S)),m=m.insert(k,t.Yn(S.metadata.readTime))}const b=o.Qn.newChangeBuffer({trackRemovals:!0}),w=yield ic(o,(S=r,Di(th(dn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>gv(S,b,h,Nt.min(),m).next(k=>(b.apply(S),k)).next(k=>o.He.removeMatchingKeysForTargetId(S,w.targetId).next(()=>o.He.addMatchingKeys(S,l,w.targetId)).next(()=>o.Wn.Vn(S,k)).next(()=>k)))}),EE.apply(this,arguments)}function MO(n,t){return wE.apply(this,arguments)}function wE(){return wE=(0,Ce.Z)(function*(n,t,e=In()){const r=yield ic(n,Di(vg(t.bundledQuery))),o=Ge(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=Ar(t.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,t);const m=r.withResumeToken(ri.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(l,m).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,e,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,t))})}),wE.apply(this,arguments)}class ix{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return xe.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var r;return this.Xn.set(e.id,{id:(r=e).id,version:r.version,createTime:Ar(r.createTime)}),xe.resolve()}getNamedQuery(t,e){return xe.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(r=e).name,query:vg(r.bundledQuery),readTime:Ar(r.readTime)}),xe.resolve();var r}}class sc{constructor(){this.ts=new rr(Ur.es),this.ns=new rr(Ur.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const r=new Ur(t,e);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.os(new Ur(t,e))}cs(t,e){t.forEach(r=>this.removeReference(r,e))}us(t){const e=new ot(new dn([])),r=new Ur(e,t),o=new Ur(e,t+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new ot(new dn([])),r=new Ur(e,t),o=new Ur(e,t+1);let l=In();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(t){const e=new Ur(t,0),r=this.ts.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Ur{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return ot.comparator(t.key,e.key)||Qt(t.fs,e.fs)}static ss(t,e){return Qt(t.fs,e.fs)||ot.comparator(t.key,e.key)}}class Xf{constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new rr(Ur.es)}checkEmpty(t){return xe.resolve(0===this.An.length)}addMutationBatch(t,e,r,o){const l=this.ds;this.ds++;const h=new lv(l,e,r,o);this.An.push(h);for(const m of o)this.ws=this.ws.add(new Ur(m.key,l)),this.Jt.addToCollectionParentIndex(t,m.key.path.popLast());return xe.resolve(h)}lookupMutationBatch(t,e){return xe.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.gs(e+1),l=o<0?0:o;return xe.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return xe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ur(e,0),o=new Ur(e,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const m=this._s(h.fs);l.push(m)}),xe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new rr(Qt);return e.forEach(o=>{const l=new Ur(o,0),h=new Ur(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],m=>{r=r.add(m.fs)})}),xe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let l=r;ot.isDocumentKey(l)||(l=l.child(""));const h=new Ur(new ot(l),0);let m=new rr(Qt);return this.ws.forEachWhile(b=>{const w=b.key.path;return!!r.isPrefixOf(w)&&(w.length===o&&(m=m.add(b.fs)),!0)},h),xe.resolve(this.ys(m))}ys(t){const e=[];return t.forEach(r=>{const o=this._s(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){Dt(0===this.ps(e.batchId,"removed")),this.An.shift();let r=this.ws;return xe.forEach(e.mutations,o=>{const l=new Ur(o.key,e.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.ws=r})}ee(t){}containsKey(t,e){const r=new Ur(e,0),o=this.ws.firstAfterOrEqual(r);return xe.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return xe.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class xO{constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new Br(ot.comparator),this.size=0}addEntry(t,e,r){const o=e.key,l=this.docs.get(o),h=l?l.size:0,m=this.Ts(e);return this.docs=this.docs.insert(o,{document:e.clone(),size:m,readTime:r}),this.size+=m-h,this.Jt.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return xe.resolve(r?r.document.clone():On.newInvalidDocument(e))}getEntries(t,e){let r=Ao();return e.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.clone():On.newInvalidDocument(o))}),xe.resolve(r)}getDocumentsMatchingQuery(t,e,r){let o=Ao();const l=new ot(e.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:m,value:{document:b,readTime:w}}=h.getNext();if(!e.path.isPrefixOf(m.path))break;w.compareTo(r)<=0||Bf(e,b)&&(o=o.insert(b.key,b.clone()))}return xe.resolve(o)}Es(t,e){return xe.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new FI(this)}getSize(t){return xe.resolve(this.size)}}class FI extends mE{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?e.push(this.De.addEntry(t,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),xe.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class sx{constructor(t){this.persistence=t,this.Is=new mh(e=>Lf(e),ng),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.As=0,this.Rs=new sc,this.targetCount=0,this.Ps=ph.ie()}forEachTarget(t,e){return this.Is.forEach((r,o)=>e(o)),xe.resolve()}getLastRemoteSnapshotVersion(t){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return xe.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.Ps.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.As&&(this.As=e),xe.resolve()}ce(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ps=new ph(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,xe.resolve()}updateTargetData(t,e){return this.ce(e),xe.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,xe.resolve()}removeTargets(t,e,r){let o=0;const l=[];return this.Is.forEach((h,m)=>{m.sequenceNumber<=e&&null===r.get(m.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),xe.waitFor(l).next(()=>o)}getTargetCount(t){return xe.resolve(this.targetCount)}getTargetData(t,e){const r=this.Is.get(e)||null;return xe.resolve(r)}addMatchingKeys(t,e,r){return this.Rs.rs(e,r),xe.resolve()}removeMatchingKeys(t,e,r){this.Rs.cs(e,r);const o=this.persistence.referenceDelegate,l=[];return o&&e.forEach(h=>{l.push(o.markPotentiallyOrphaned(t,h))}),xe.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),xe.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Rs.ls(e);return xe.resolve(r)}containsKey(t,e){return xe.resolve(this.Rs.containsKey(e))}}class kO{constructor(t,e){this.bs={},this.Be=new wo(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new sx(this),this.Jt=new WM,this.Je=new xO(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new yI(e),this.Ye=new ix(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Xf(this.Jt,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,r){Ve("MemoryPersistence","Starting transaction:",t);const o=new DE(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(t,e){return xe.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class DE extends gI{constructor(t){super(),this.currentSequenceNumber=t}}class LI{constructor(t){this.persistence=t,this.Cs=new sc,this.Ns=null}static ks(t){return new LI(t)}get xs(){if(this.Ns)return this.Ns;throw ct()}addReference(t,e,r){return this.Cs.addReference(r,e),this.xs.delete(r.toString()),xe.resolve()}removeReference(t,e,r){return this.Cs.removeReference(r,e),this.xs.add(r.toString()),xe.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),xe.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.xs,r=>{const o=ot.fromPath(r);return this.$s(t,o).next(l=>{l||e.removeEntry(o)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return xe.or([()=>xe.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function ox(n,t){return`firestore_clients_${n}_${t}`}function ax(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function _v(n,t){return`firestore_targets_${n}_${t}`}class ep{constructor(t,e,r,o){this.user=t,this.batchId=e,this.state=r,this.error=o}static Fs(t,e,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new Re(o.error.code,o.error.message))),h?new ep(t,e,o.state,l):(wr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class tp{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static Fs(t,e){const r=JSON.parse(e);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Re(r.error.code,r.error.message))),l?new tp(t,r.state,o):(wr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class wg{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Fs(t,e){const r=JSON.parse(e);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=cg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=Pf(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new wg(t,l):(wr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class IE{constructor(t,e){this.clientId=t,this.onlineState=e}static Fs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new IE(e.clientId,e.onlineState):(wr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class AE{constructor(){this.activeTargetIds=cg()}Ms(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TE{constructor(t,e,r,o,l){this.window=t,this.Oe=e,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Br(Qt),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=ox(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new AE),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.Tn();for(const o of e){if(o===t.Bs)continue;const l=t.getItem(ox(t.persistenceKey,o));if(l){const h=wg.Fs(o,l);h&&(t.Ks=t.Ks.insert(h.clientId,h))}}t.Xs();const r=t.storage.getItem(t.Js);if(r){const o=t.Zs(r);o&&t.ti(o)}for(const o of t.js)t.qs(o);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,r){this.ni(t,e,r),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(_v(this.persistenceKey,t));if(r){const o=tp.Fs(t,r);o&&(e=o.state)}}return this.ii.Ms(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(_v(this.persistenceKey,t))}updateQueryState(t,e,r){this.ri(t,e,r)}handleUserChange(t,e,r){e.forEach(o=>{this.si(o)}),this.currentUser=t,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==r.key)if(e.Gs.test(r.key)){if(null==r.newValue){const o=e.ci(r.key);return e.ui(o,null)}{const o=e.hi(r.key,r.newValue);if(o)return e.ui(o.clientId,o)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const o=e.li(r.key,r.newValue);if(o)return e.fi(o)}}else if(e.Hs.test(r.key)){if(null!==r.newValue){const o=e.di(r.key,r.newValue);if(o)return e.wi(o)}}else if(r.key===e.Js){if(null!==r.newValue){const o=e.Zs(r.newValue);if(o)return e.ti(o)}}else if(r.key===e.Ws){const o=function(l){let h=wo.I;if(null!=l)try{const m=JSON.parse(l);Dt("number"==typeof m),h=m}catch(m){wr("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue);o!==wo.I&&e.sequenceNumberHandler(o)}else if(r.key===e.Ys)return e.syncEngine._i()}else e.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(t,e,r){const o=new ep(this.currentUser,t,e,r),l=ax(this.persistenceKey,this.currentUser,t);this.setItem(l,o.Os())}si(t){const e=ax(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,r){const o=_v(this.persistenceKey,t),l=new tp(t,e,r);this.setItem(o,l.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const r=this.ci(t);return wg.Fs(r,e)}li(t,e){const r=this.zs.exec(t),o=Number(r[1]);return ep.Fs(new Ci(void 0!==r[2]?r[2]:null),o,e)}di(t,e){const r=this.Hs.exec(t),o=Number(r[1]);return tp.Fs(o,e)}Zs(t){return IE.Fs(t)}fi(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const r=e?this.Ks.insert(t,e):this.Ks.remove(t),o=this.ei(this.Ks),l=this.ei(r),h=[],m=[];return l.forEach(b=>{o.has(b)||h.push(b)}),o.forEach(b=>{l.has(b)||m.push(b)}),this.syncEngine.yi(h,m).then(()=>{this.Ks=r})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=cg();return t.forEach((r,o)=>{e=e.unionWith(o.activeTargetIds)}),e}}class VI{constructor(){this.pi=new AE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.pi.Ms(t),this.Ti[t]||"not-current"}updateQueryState(t,e,r){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new AE,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class lx{Ei(t){}shutdown(){}}class BI{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Pi(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ux{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Fi(t){this.ki(t)}Oi(t){this.xi(t)}}class Dg extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Mi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,r,o,l){const h=this.Ui(t,e);Ve("RestConnection","Sending: ",h,r);const m={};return this.qi(m,o,l),this.Ki(t,h,m,r).then(b=>(Ve("RestConnection","Received: ",b),b),b=>{throw kf("RestConnection",`${t} failed with error: `,b,"url: ",h,"request:",r),b})}ji(t,e,r,o,l){return this.Bi(t,e,r,o,l)}qi(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Kd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,l)=>t[l]=o),r&&r.headers.forEach((o,l)=>t[l]=o)}Ui(t,e){return`${this.Mi}/v1/${e}:${cx[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,r,o){return new Promise((l,h)=>{const m=new MD;m.listenOnce(AD.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Vy.NO_ERROR:const w=m.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(w)),l(w);break;case Vy.TIMEOUT:Ve("Connection",'RPC "'+t+'" timed out'),h(new Re(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Vy.HTTP_ERROR:const S=m.getStatus();if(Ve("Connection",'RPC "'+t+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const k=m.getResponseJson().error;if(k&&k.status&&k.message){const V=function(j){const Z=j.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Z)>=0?Z:fe.UNKNOWN}(k.status);h(new Re(V,k.message))}else h(new Re(fe.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Re(fe.UNAVAILABLE,"Connection failed."));break;default:ct()}}finally{Ve("Connection",'RPC "'+t+'" completed.')}});const b=JSON.stringify(o);m.send(e,"POST",b,r,15)})}Qi(t,e,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=xf(),h=ID(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new SD({})),this.qi(m.initMessageHeaders,e,r),(0,Wt.uI)()||(0,Wt.b$)()||(0,Wt.d)()||(0,Wt.w1)()||(0,Wt.Mn)()||(0,Wt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");Ve("Connection","Creating WebChannel: "+b,m);const w=l.createWebChannel(b,m);let S=!1,k=!1;const V=new ux({Vi:Z=>{k?Ve("Connection","Not sending because WebChannel is closed:",Z):(S||(Ve("Connection","Opening WebChannel transport."),w.open(),S=!0),Ve("Connection","WebChannel sending:",Z),w.send(Z))},Si:()=>w.close()}),j=(Z,pe,Se)=>{Z.listen(pe,ut=>{try{Se(ut)}catch(yt){setTimeout(()=>{throw yt},0)}})};return j(w,Ym.EventType.OPEN,()=>{k||Ve("Connection","WebChannel transport opened.")}),j(w,Ym.EventType.CLOSE,()=>{k||(k=!0,Ve("Connection","WebChannel transport closed"),V.Fi())}),j(w,Ym.EventType.ERROR,Z=>{k||(k=!0,kf("Connection","WebChannel transport errored:",Z),V.Fi(new Re(fe.UNAVAILABLE,"The operation could not be completed")))}),j(w,Ym.EventType.MESSAGE,Z=>{var pe;if(!k){const Se=Z.data[0];Dt(!!Se);const ut=Se,yt=ut.error||(null===(pe=ut[0])||void 0===pe?void 0:pe.error);if(yt){Ve("Connection","WebChannel received error:",yt);const $t=yt.status;let ht=function(Tr){const ci=Ir[Tr];if(void 0!==ci)return JD(ci)}($t),Cn=yt.message;void 0===ht&&(ht=fe.INTERNAL,Cn="Unknown error status: "+$t+" with message "+yt.message),k=!0,V.Fi(new Re(ht,Cn)),w.close()}else Ve("Connection","WebChannel received:",Se),V.Oi(Se)}}),j(h,TD.STAT_EVENT,Z=>{Z.stat===RC.PROXY?Ve("Connection","Detected buffering proxy"):Z.stat===RC.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function SE(){return"undefined"!=typeof window?window:null}function Ig(){return"undefined"!=typeof document?document:null}function np(n){return new VM(n,!0)}class yv{constructor(t,e,r=1e3,o=1.5,l=6e4){this.Oe=t,this.timerId=e,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,e-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class ME{constructor(t,e,r,o,l,h,m,b){this.Oe=t,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new yv(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,Ce.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,Ce.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,Ce.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==t?r.ur.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(wr(e.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):e&&e.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===e&&this.Ir(r,o)},r=>{t(()=>{const o=new Re(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(t,e){const r=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var t=this;this.state=5,this.ur.Zi((0,Ce.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Oe.enqueueAndForget(()=>this.rr===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UI extends ME{constructor(t,e,r,o,l,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,h),this.k=l}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(b=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:ct(),o=t.targetChange.targetIds||[],l=function(b,w){return b.C?(Dt(void 0===w||"string"==typeof w),ri.fromBase64String(w||"")):(Dt(void 0===w||w instanceof Uint8Array),ri.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(b){const w=void 0===b.code?fe.UNKNOWN:JD(b.code);return new Re(w,b.message||"")}(h);e=new eE(r,o,l,m||null)}else if("documentChange"in t){const r=t.documentChange,o=ec(n,r.document.name),l=Ar(r.document.updateTime),h=new ii({mapValue:{fields:r.document.fields}}),m=On.newFoundDocument(o,l,h);e=new ug(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,o=ec(n,r.document),l=r.readTime?Ar(r.readTime):Nt.min(),h=On.newNoDocument(o,l);e=new ug([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){const r=t.documentRemove,o=ec(n,r.document);e=new ug([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return ct();{const r=t.filter,l=new KD(r.count||0);e=new XC(r.targetId,l)}}var b;return e}(this.k,t),r=function(o){if(!("targetChange"in o))return Nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?Ar(l.readTime):Nt.min()}(t);return this.listener.Pr(e,r)}br(t){const e={};e.database=hg(this.k),e.addTarget=function(o,l){let h;const m=l.target;return h=$y(m)?{documents:aI(o,m)}:{query:lI(o,m)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=ah(o,l.resumeToken):l.snapshotVersion.compareTo(Nt.min())>0&&(h.readTime=dg(o,l.snapshotVersion.toTimestamp())),h}(this.k,t);const r=function(n,t){const e=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ct()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.gr(e)}vr(t){const e={};e.database=hg(this.k),e.removeTarget=t,this.gr(e)}}class dx extends ME{constructor(t,e,r,o,l,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(r,o){let l=Ar(r.updateTime?r.updateTime:o);return l.isEqual(Nt.min())&&(l=Ar(o)),new kM(l,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Ar(t.commitTime);return this.listener.Cr(r,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=hg(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>Nn(this.k,r))};this.gr(e)}}class jI extends class{}{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(t,e,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(fe.UNKNOWN,o.toString())})}ji(t,e,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(t,e,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(fe.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class HI{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Or=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(wr(e),this.Lr=!1):Ve("OnlineStateTracker",e)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class hx{constructor(t,e,r,o,l){var h=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(m=>{r.enqueueAndForget((0,Ce.Z)(function*(){var b;Eu(h)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Ce.Z)(function*(w){const S=Ge(w);S.Gr.add(4),yield el(S),S.Jr.set("Unknown"),S.Gr.delete(4),yield Ag(S)}),function(w){return b.apply(this,arguments)})(h))}))}),this.Jr=new HI(r,o)}}function Ag(n){return xE.apply(this,arguments)}function xE(){return xE=(0,Ce.Z)(function*(n){if(Eu(n))for(const t of n.zr)yield t(!0)}),xE.apply(this,arguments)}function el(n){return kE.apply(this,arguments)}function kE(){return kE=(0,Ce.Z)(function*(n){for(const t of n.zr)yield t(!1)}),kE.apply(this,arguments)}function rp(n,t){const e=Ge(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),qI(e)?OE(e):cp(e).lr()&&RE(e,t))}function Rs(n,t){const e=Ge(n),r=cp(e);e.Wr.delete(t),r.lr()&&ip(e,t),0===e.Wr.size&&(r.lr()?r._r():Eu(e)&&e.Jr.set("Unknown"))}function RE(n,t){n.Yr.X(t.targetId),cp(n).br(t)}function ip(n,t){n.Yr.X(t),cp(n).vr(t)}function OE(n){n.Yr=new tI({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),cp(n).start(),n.Jr.Br()}function qI(n){return Eu(n)&&!cp(n).hr()&&n.Wr.size>0}function Eu(n){return 0===Ge(n).Gr.size}function sp(n){n.Yr=void 0}function fx(n){return PE.apply(this,arguments)}function PE(){return PE=(0,Ce.Z)(function*(n){n.Wr.forEach((t,e)=>{RE(n,t)})}),PE.apply(this,arguments)}function px(n,t){return op.apply(this,arguments)}function op(){return op=(0,Ce.Z)(function*(n,t){sp(n),qI(n)?(n.Jr.Kr(t),OE(n)):n.Jr.set("Unknown")}),op.apply(this,arguments)}function mx(n,t,e){return $I.apply(this,arguments)}function $I(){return $I=(0,Ce.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof eE&&2===t.state&&t.cause)try{yield(r=(0,Ce.Z)(function*(o,l){const h=l.cause;for(const m of l.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,t)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield vv(n,r)}else if(t instanceof ug?n.Yr.ot(t):t instanceof XC?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Nt.min()))try{const r=yield mv(n.localStore);e.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const w=o.Wr.get(b);w&&o.Wr.set(b,w.withResumeToken(m.resumeToken,l))}}),h.targetMismatches.forEach(m=>{const b=o.Wr.get(m);if(!b)return;o.Wr.set(m,b.withResumeToken(ri.EMPTY_BYTE_STRING,b.snapshotVersion)),ip(o,m);const w=new tc(b.target,m,1,b.sequenceNumber);RE(o,w)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield vv(n,r)}var r}),$I.apply(this,arguments)}function vv(n,t,e){return ap.apply(this,arguments)}function ap(){return ap=(0,Ce.Z)(function*(n,t,e){if(!ch(t))throw t;n.Gr.add(1),yield el(n),n.Jr.set("Offline"),e||(e=()=>mv(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield Ag(n)}))}),ap.apply(this,arguments)}function zI(n,t){return t().catch(e=>vv(n,e,t))}function lp(n){return bv.apply(this,arguments)}function bv(){return bv=(0,Ce.Z)(function*(n){const t=Ge(n),e=oc(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;GI(t);)try{const o=yield Jf(t.localStore,r);if(null===o){0===t.Qr.length&&e._r();break}r=o.batchId,NE(t,o)}catch(o){yield vv(t,o)}FE(t)&&WI(t)}),bv.apply(this,arguments)}function GI(n){return Eu(n)&&n.Qr.length<10}function NE(n,t){n.Qr.push(t);const e=oc(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function FE(n){return Eu(n)&&!oc(n).hr()&&n.Qr.length>0}function WI(n){oc(n).start()}function gx(n){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,Ce.Z)(function*(n){oc(n).kr()}),ZI.apply(this,arguments)}function LE(n){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Ce.Z)(function*(n){const t=oc(n);for(const e of n.Qr)t.Dr(e.mutations)}),Tg.apply(this,arguments)}function YI(n,t,e){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,Ce.Z)(function*(n,t,e){const r=n.Qr.shift(),o=uE.from(r,t,e);yield zI(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield lp(n)}),Sg.apply(this,arguments)}function VE(n,t){return BE.apply(this,arguments)}function BE(){return BE=(0,Ce.Z)(function*(n,t){var e;t&&oc(n).Sr&&(yield(e=(0,Ce.Z)(function*(r,o){if(QD(l=o.code)&&l!==fe.ABORTED){const h=r.Qr.shift();oc(r).wr(),yield zI(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield lp(r)}var l}),function(r,o){return e.apply(this,arguments)})(n,t)),FE(n)&&WI(n)}),BE.apply(this,arguments)}function UE(n,t){return jE.apply(this,arguments)}function jE(){return jE=(0,Ce.Z)(function*(n,t){const e=Ge(n);t?(e.Gr.delete(2),yield Ag(e)):t||(e.Gr.add(2),yield el(e),e.Jr.set("Unknown"))}),jE.apply(this,arguments)}function cp(n){return n.Xr||(n.Xr=function(t,e,r){const o=Ge(t);return o.Fr(),new UI(e,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:fx.bind(null,n),Ni:px.bind(null,n),Pr:mx.bind(null,n)}),n.zr.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.Xr.wr(),qI(n)?OE(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),sp(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function oc(n){return n.Zr||(n.Zr=function(t,e,r){const o=Ge(t);return o.Fr(),new dx(e,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:gx.bind(null,n),Ni:VE.bind(null,n),Nr:LE.bind(null,n),Cr:YI.bind(null,n)}),n.zr.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.Zr.wr(),yield lp(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Mg{constructor(t,e,r,o,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(t,e,r,o,l){const h=Date.now()+r,m=new Mg(t,e,h,o,l);return m.start(r),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yh(n,t){if(wr("AsyncQueue",`${t}: ${n}`),ch(n))return new Re(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class vh{constructor(t){this.comparator=t?(e,r)=>t(e,r)||ot.comparator(e.key,r.key):(e,r)=>ot.comparator(e.key,r.key),this.keyedMap=JC(),this.sortedSet=new Br(this.comparator)}static emptySet(t){return new vh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new vh;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class HE{constructor(){this.eo=new Br(ot.comparator)}track(t){const e=t.doc.key,r=this.eo.get(e);r?0!==t.type&&3===r.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==r.type?this.eo=this.eo.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.eo=this.eo.remove(e):1===t.type&&2===r.type?this.eo=this.eo.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):ct():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,r)=>{t.push(r)}),t}}class bh{constructor(t,e,r,o,l,h,m,b){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(t,e,r,o){const l=[];return e.forEach(h=>{l.push({type:0,doc:h})}),new bh(t,e,vh.emptySet(e),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class _x{constructor(){this.so=void 0,this.listeners=[]}}class KI{constructor(){this.queries=new mh(t=>GC(t),sg),this.onlineState="Unknown",this.io=new Set}}function Cv(n,t){return qE.apply(this,arguments)}function qE(){return qE=(0,Ce.Z)(function*(n,t){const e=Ge(n),r=t.query;let o=!1,l=e.queries.get(r);if(l||(o=!0,l=new _x),o)try{l.so=yield e.onListen(r)}catch(h){const m=yh(h,`Initialization of query '${WC(t.query)}' failed`);return void t.onError(m)}e.queries.set(r,l),l.listeners.push(t),t.ro(e.onlineState),l.so&&t.oo(l.so)&&zE(e)}),qE.apply(this,arguments)}function Ev(n,t){return $E.apply(this,arguments)}function $E(){return $E=(0,Ce.Z)(function*(n,t){const e=Ge(n),r=t.query;let o=!1;const l=e.queries.get(r);if(l){const h=l.listeners.indexOf(t);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return e.queries.delete(r),e.onUnlisten(r)}),$E.apply(this,arguments)}function as(n,t){const e=Ge(n);let r=!1;for(const o of t){const h=e.queries.get(o.query);if(h){for(const m of h.listeners)m.oo(o)&&(r=!0);h.so=o}}r&&zE(e)}function up(n,t,e){const r=Ge(n),o=r.queries.get(t);if(o)for(const l of o.listeners)l.onError(e);r.queries.delete(t)}function zE(n){n.io.forEach(t=>{t.next()})}class GE{constructor(t,e,r){this.query=t,this.ao=e,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new bh(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.ho(t)&&(this.ao.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.ao.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.co&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=bh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.ao.next(t)}}class RO{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class dp{constructor(t){this.k=t}Hn(t){return ec(this.k,t)}Jn(t){return t.metadata.exists?sI(this.k,t.document,!1):On.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return Ar(t)}}class yx{constructor(t,e,r){this.mo=t,this.localStore=e,this.k=r,this.queries=[],this.documents=[],this.progress=wv(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,r=new dp(this.k);for(const o of t)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const m=(e.get(h)||In()).add(l);e.set(h,m)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function(n,t,e,r){return EE.apply(this,arguments)}(t.localStore,new dp(t.k),t.documents,t.mo.id),r=t.po(t.documents);for(const o of t.queries)yield MO(t.localStore,o,r.get(o.name));return t.progress.taskState="Success",new kI(Object.assign({},t.progress),e)})()}}function wv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class QI{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class JI{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=In(),this.mutatedKeys=In(),this.Ao=xM(t),this.Ro=new vh(this.Ao)}get Po(){return this.To}bo(t,e){const r=e?e.vo:new HE,o=e?e.Ro:this.Ro;let l=e?e.mutatedKeys:this.mutatedKeys,h=o,m=!1;const b=Gy(this.query)&&o.size===this.query.limit?o.last():null,w=Wy(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((S,k)=>{const V=o.get(S),j=Bf(this.query,k)?k:null,Z=!!V&&this.mutatedKeys.has(V.key),pe=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Se=!1;V&&j?V.data.isEqual(j.data)?Z!==pe&&(r.track({type:3,doc:j}),Se=!0):this.Vo(V,j)||(r.track({type:2,doc:j}),Se=!0,(b&&this.Ao(j,b)>0||w&&this.Ao(j,w)<0)&&(m=!0)):!V&&j?(r.track({type:0,doc:j}),Se=!0):V&&!j&&(r.track({type:1,doc:V}),Se=!0,(b||w)&&(m=!0)),Se&&(j?(h=h.add(j),l=pe?l.add(S):l.delete(S)):(h=h.delete(S),l=l.delete(S)))}),Gy(this.query)||Wy(this.query))for(;h.size>this.query.limit;){const S=Gy(this.query)?h.last():h.first();h=h.delete(S.key),l=l.delete(S.key),r.track({type:1,doc:S})}return{Ro:h,vo:r,Bn:m,mutatedKeys:l}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const o=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const l=t.vo.no();l.sort((w,S)=>function(k,V){const j=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct()}};return j(k)-j(V)}(w.type,S.type)||this.Ao(w.doc,S.doc)),this.So(r);const h=e?this.Do():[],m=0===this.Io.size&&this.current?1:0,b=m!==this.Eo;return this.Eo=m,0!==l.length||b?{snapshot:new bh(this.query,t.Ro,o,l,t.mutatedKeys,0===m,b,!1),Co:h}:{Co:h}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new HE,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=In(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const e=[];return t.forEach(r=>{this.Io.has(r)||e.push(new WE(r))}),this.Io.forEach(r=>{t.has(r)||e.push(new QI(r))}),e}ko(t){this.To=t.zn,this.Io=In();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return bh.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class vx{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class ZE{constructor(t){this.key=t,this.$o=!1}}class XI{constructor(t,e,r,o,l,h){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Fo={},this.Oo=new mh(m=>GC(m),sg),this.Mo=new Map,this.Lo=new Set,this.Bo=new Br(ot.comparator),this.Uo=new Map,this.qo=new sc,this.Ko={},this.jo=new Map,this.Qo=ph.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function eA(n,t){return hp.apply(this,arguments)}function hp(){return hp=(0,Ce.Z)(function*(n,t){const e=ow(n);let r,o;const l=e.Oo.get(t);if(l)r=l.targetId,e.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield ic(e.localStore,Di(t)),m=e.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield xg(e,t,r,"current"===m),e.isPrimaryClient&&rp(e.remoteStore,h)}return o}),hp.apply(this,arguments)}function xg(n,t,e,r){return tA.apply(this,arguments)}function tA(){return tA=(0,Ce.Z)(function*(n,t,e,r){n.Go=(S,k,V)=>{return(j=(0,Ce.Z)(function*(Z,pe,Se,ut){let yt=pe.view.bo(Se);yt.Bn&&(yt=yield Eg(Z.localStore,pe.query,!1).then(({documents:Cn})=>pe.view.bo(Cn,yt)));const $t=ut&&ut.targetChanges.get(pe.targetId),ht=pe.view.applyChanges(yt,Z.isPrimaryClient,$t);return nw(Z,pe.targetId,ht.Co),ht.snapshot}),function(Z,pe,Se,ut){return j.apply(this,arguments)})(n,S,k,V);var j};const o=yield Eg(n.localStore,t,!0),l=new JI(t,o.zn),h=l.bo(o.documents),m=zf.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),b=l.applyChanges(h,n.isPrimaryClient,m);nw(n,e,b.Co);const w=new vx(t,e,l);return n.Oo.set(t,w),n.Mo.has(e)?n.Mo.get(e).push(t):n.Mo.set(e,[t]),b.snapshot}),tA.apply(this,arguments)}function nA(n,t){return YE.apply(this,arguments)}function YE(){return YE=(0,Ce.Z)(function*(n,t){const e=Ge(n),r=e.Oo.get(t),o=e.Mo.get(r.targetId);if(o.length>1)return e.Mo.set(r.targetId,o.filter(l=>!sg(l,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xa(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),Rs(e.remoteStore,r.targetId),pp(e,r.targetId)}).catch(rc))):(pp(e,r.targetId),yield Xa(e.localStore,r.targetId,!0))}),YE.apply(this,arguments)}function fp(){return fp=(0,Ce.Z)(function*(n,t,e){const r=pA(n);try{const o=yield function(l,h){const m=Ge(l),b=ni.now(),w=h.reduce((k,V)=>k.add(V.key),In());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",k=>m.Wn.vn(k,w).next(V=>{S=V;const j=[];for(const Z of h){const pe=YD(Z,S.get(Z.key));null!=pe&&j.push(new Xl(Z.key,pe,qy(pe.value.mapValue),pr.exists(!0)))}return m.An.addMutationBatch(k,b,j,h)})).then(k=>(k.applyToLocalDocumentSet(S),{batchId:k.batchId,changes:S}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,m){let b=l.Ko[l.currentUser.toKey()];b||(b=new Br(Qt)),b=b.insert(h,m),l.Ko[l.currentUser.toKey()]=b}(r,o.batchId,e),yield tl(r,o.changes),yield lp(r.remoteStore)}catch(o){const l=yh(o,"Failed to persist write");e.reject(l)}}),fp.apply(this,arguments)}function KE(n,t){return QE.apply(this,arguments)}function QE(){return QE=(0,Ce.Z)(function*(n,t){const e=Ge(n);try{const r=yield PI(e.localStore,t);t.targetChanges.forEach((o,l)=>{const h=e.Uo.get(l);h&&(Dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?Dt(h.$o):o.removedDocuments.size>0&&(Dt(h.$o),h.$o=!1))}),yield tl(e,r,t)}catch(r){yield rc(r)}}),QE.apply(this,arguments)}function Dv(n,t,e){const r=Ge(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.Oo.forEach((l,h)=>{const m=h.view.ro(t);m.snapshot&&o.push(m.snapshot)}),function(l,h){const m=Ge(l);m.onlineState=h;let b=!1;m.queries.forEach((w,S)=>{for(const k of S.listeners)k.ro(h)&&(b=!0)}),b&&zE(m)}(r.eventManager,t),o.length&&r.Fo.Pr(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function JE(n,t,e){return XE.apply(this,arguments)}function XE(){return XE=(0,Ce.Z)(function*(n,t,e){const r=Ge(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Uo.get(t),l=o&&o.key;if(l){let h=new Br(ot.comparator);h=h.insert(l,On.newNoDocument(l,Nt.min()));const m=In().add(l),b=new $f(Nt.min(),new Map,new rr(Qt),h,m);yield KE(r,b),r.Bo=r.Bo.remove(l),r.Uo.delete(t),Mv(r)}else yield Xa(r.localStore,t,!1).then(()=>pp(r,t,e)).catch(rc)}),XE.apply(this,arguments)}function bx(n,t){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,Ce.Z)(function*(n,t){const e=Ge(n),r=t.batch.batchId;try{const o=yield nx(e.localStore,t);ew(e,r,null),Sv(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield tl(e,o)}catch(o){yield rc(o)}}),Iv.apply(this,arguments)}function iA(n,t,e){return Av.apply(this,arguments)}function Av(){return Av=(0,Ce.Z)(function*(n,t,e){const r=Ge(n);try{const o=yield function(l,h){const m=Ge(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let w;return m.An.lookupMutationBatch(b,h).next(S=>(Dt(null!==S),w=S.keys(),m.An.removeMutationBatch(b,S))).next(()=>m.An.performConsistencyCheck(b)).next(()=>m.Wn.vn(b,w))})}(r.localStore,t);ew(r,t,e),Sv(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield tl(r,o)}catch(o){yield rc(o)}}),Av.apply(this,arguments)}function Tv(){return Tv=(0,Ce.Z)(function*(n,t){const e=Ge(n);Eu(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Ge(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>h.An.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const o=e.jo.get(r)||[];o.push(t),e.jo.set(r,o)}catch(r){const o=yh(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}}),Tv.apply(this,arguments)}function Sv(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function ew(n,t,e){const r=Ge(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(t);l&&(e?l.reject(e):l.resolve(),o=o.remove(t)),r.Ko[r.currentUser.toKey()]=o}}function pp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Mo.get(t))n.Oo.delete(r),e&&n.Fo.zo(r,e);n.Mo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(r=>{n.qo.containsKey(r)||tw(n,r)})}function tw(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(Rs(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),Mv(n))}function nw(n,t,e){for(const r of e)r instanceof QI?(n.qo.addReference(r.key,t),sA(n,r)):r instanceof WE?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,t),n.qo.containsKey(r.key)||tw(n,r.key)):ct()}function sA(n,t){const e=t.key,r=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(r)||(Ve("SyncEngine","New document in limbo: "+e),n.Lo.add(r),Mv(n))}function Mv(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new ot(dn.fromString(t)),r=n.Qo.next();n.Uo.set(r,new ZE(e)),n.Bo=n.Bo.insert(e,r),rp(n.remoteStore,new tc(Di(th(e.path)),r,2,wo.I))}}function tl(n,t,e){return xv.apply(this,arguments)}function xv(){return xv=(0,Ce.Z)(function*(n,t,e){const r=Ge(n),o=[],l=[],h=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,b)=>{h.push(r.Go(b,t,e).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,w.fromCache?"not-current":"current"),o.push(w);const S=Qf.$n(b.targetId,w);l.push(S)}}))}),yield Promise.all(h),r.Fo.Pr(o),yield(m=(0,Ce.Z)(function*(b,w){const S=Ge(b);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>xe.forEach(w,V=>xe.forEach(V.kn,j=>S.persistence.referenceDelegate.addReference(k,V.targetId,j)).next(()=>xe.forEach(V.xn,j=>S.persistence.referenceDelegate.removeReference(k,V.targetId,j)))))}catch(k){if(!ch(k))throw k;Ve("LocalStore","Failed to update sequence numbers: "+k)}for(const k of w){const V=k.targetId;if(!k.fromCache){const j=S.qn.get(V),pe=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);S.qn=S.qn.insert(V,pe)}}}),function(b,w){return m.apply(this,arguments)})(r.localStore,l))}),xv.apply(this,arguments)}function Ex(n,t){return rw.apply(this,arguments)}function rw(){return rw=(0,Ce.Z)(function*(n,t){const e=Ge(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const r=yield OI(e.localStore,t);e.currentUser=t,(o=e).jo.forEach(h=>{h.forEach(m=>{m.reject(new Re(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield tl(e,r.Gn)}var o}),rw.apply(this,arguments)}function wx(n,t){const e=Ge(n),r=e.Uo.get(t);if(r&&r.$o)return In().add(r.key);{let o=In();const l=e.Mo.get(t);if(!l)return o;for(const h of l){const m=e.Oo.get(h);o=o.unionWith(m.view.Po)}return o}}function oA(n,t){return aA.apply(this,arguments)}function aA(){return aA=(0,Ce.Z)(function*(n,t){const e=Ge(n),r=yield Eg(e.localStore,t.query,!0),o=t.view.ko(r);return e.isPrimaryClient&&nw(e,t.targetId,o.Co),o}),aA.apply(this,arguments)}function OO(n){return lA.apply(this,arguments)}function lA(){return lA=(0,Ce.Z)(function*(n){const t=Ge(n);return NI(t.localStore).then(e=>tl(t,e))}),lA.apply(this,arguments)}function PO(n,t,e,r){return cA.apply(this,arguments)}function cA(){return cA=(0,Ce.Z)(function*(n,t,e,r){const o=Ge(n),l=yield function(h,m){const b=Ge(h),w=Ge(b.An);return b.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.Zt(S,m).next(k=>k?b.Wn.vn(S,k):xe.resolve(null)))}(o.localStore,t);var m;null!==l?("pending"===e?yield lp(o.remoteStore):"acknowledged"===e||"rejected"===e?(ew(o,t,r||null),Sv(o,t),m=t,Ge(Ge(o.localStore).An).ee(m)):ct(),yield tl(o,l)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),cA.apply(this,arguments)}function uA(){return uA=(0,Ce.Z)(function*(n,t){const e=Ge(n);if(ow(e),pA(e),!0===t&&!0!==e.Wo){const r=e.sharedClientState.getAllActiveQueryTargets(),o=yield dA(e,r.toArray());e.Wo=!0,yield UE(e.remoteStore,!0);for(const l of o)rp(e.remoteStore,l)}else if(!1===t&&!1!==e.Wo){const r=[];let o=Promise.resolve();e.Mo.forEach((l,h)=>{e.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(pp(e,h),Xa(e.localStore,h,!0))),Rs(e.remoteStore,h)}),yield o,yield dA(e,r),function(l){const h=Ge(l);h.Uo.forEach((m,b)=>{Rs(h.remoteStore,b)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Br(ot.comparator)}(e),e.Wo=!1,yield UE(e.remoteStore,!1)}}),uA.apply(this,arguments)}function dA(n,t,e){return iw.apply(this,arguments)}function iw(){return iw=(0,Ce.Z)(function*(n,t,e){const r=Ge(n),o=[],l=[];for(const h of t){let m;const b=r.Mo.get(h);if(b&&0!==b.length){m=yield ic(r.localStore,Di(b[0]));for(const w of b){const S=r.Oo.get(w),k=yield oA(r,S);k.snapshot&&l.push(k.snapshot)}}else{const w=yield vE(r.localStore,h);m=yield ic(r.localStore,w),yield xg(r,hA(w),h,!1)}o.push(m)}return r.Fo.Pr(l),o}),iw.apply(this,arguments)}function hA(n){return Dr(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function FO(n){const t=Ge(n);return Ge(Ge(t.localStore).persistence).Tn()}function LO(n,t,e,r){return fA.apply(this,arguments)}function fA(){return fA=(0,Ce.Z)(function*(n,t,e,r){const o=Ge(n);if(o.Wo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(t))switch(e){case"current":case"not-current":{const l=yield NI(o.localStore),h=$f.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield tl(o,l,h);break}case"rejected":yield Xa(o.localStore,t,!0),pp(o,t,r);break;default:ct()}}),fA.apply(this,arguments)}function Dx(n,t,e){return sw.apply(this,arguments)}function sw(){return sw=(0,Ce.Z)(function*(n,t,e){const r=ow(n);if(r.Wo){for(const o of t){if(r.Mo.has(o)){Ve("SyncEngine","Adding an already active target "+o);continue}const l=yield vE(r.localStore,o),h=yield ic(r.localStore,l);yield xg(r,hA(l),h.targetId,!1),rp(r.remoteStore,h)}for(const o of e)r.Mo.has(o)&&(yield Xa(r.localStore,o,!1).then(()=>{Rs(r.remoteStore,o),pp(r,o)}).catch(rc))}}),sw.apply(this,arguments)}function ow(n){const t=Ge(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JE.bind(null,t),t.Fo.Pr=as.bind(null,t.eventManager),t.Fo.zo=up.bind(null,t.eventManager),t}function pA(n){const t=Ge(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iA.bind(null,t),t}class mA{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ce.Z)(function*(){e.k=np(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return tx(this.persistence,new RI,t.initialUser,this.k)}Yo(t){return new kO(LI.ks,this.k)}Jo(t){return new VI}terminate(){var t=this;return(0,Ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Ix extends mA{constructor(t,e,r){super(),this.ta=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield e().call(r,t),yield function(n){return bE.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,t),yield pA(r.ta.syncEngine),yield lp(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(t){return tx(this.persistence,new RI,t.initialUser,this.k)}Xo(t){return new KM(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=Mo(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ks.withCacheSize(this.cacheSizeBytes):ks.DEFAULT;return new gE(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,SE(),Ig(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new VI}}class Ax extends Ix{constructor(t,e){super(t,e,!1),this.ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield e().call(r,t);const o=r.ta.syncEngine;r.sharedClientState instanceof TE&&(r.sharedClientState.syncEngine={mi:PO.bind(null,o),gi:LO.bind(null,o),yi:Dx.bind(null,o),Tn:FO.bind(null,o),_i:OO.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,Ce.Z)(function*(h){yield function(n,t){return uA.apply(this,arguments)}(r.ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(t){const e=SE();if(!TE.bt(e))throw new Re(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Mo(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new TE(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class gA{initialize(t,e){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Dv(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ex.bind(null,r.syncEngine),yield UE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new KI}createDatastore(t){const e=np(t.databaseInfo.databaseId),r=new Dg(t.databaseInfo);return new jI(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,o=t.asyncQueue,l=m=>Dv(this.syncEngine,m,0),h=BI.bt()?new BI:new lx,new hx(e,r,o,l,h);var e,r,o,l,h}createSyncEngine(t,e){return function(r,o,l,h,m,b,w){const S=new XI(r,o,l,h,m,b);return w&&(S.Wo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ce.Z)(function*(e){const r=Ge(e);Ve("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield el(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function kv(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ac{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ea(this.observer.next,t)}error(t){this.observer.error?this.ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}na(){this.muted=!0}ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class _A{constructor(t,e){this.sa=t,this.k=e,this.metadata=new Ei,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.ra()})()}ra(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.oa();if(null===e)return null;const r=t.ia.decode(e),o=Number(r);isNaN(o)&&t.aa(`length string (${r}) is not valid number`);const l=yield t.ca(o);return new RO(JSON.parse(l),e.length+o)})()}ua(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oa(){var t=this;return(0,Ce.Z)(function*(){for(;t.ua()<0&&!(yield t.ha()););if(0===t.buffer.length)return null;const e=t.ua();e<0&&t.aa("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}ca(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.ha())&&e.aa("Reached the end of bundle when more is expected.");const r=e.ia.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}aa(t){throw this.sa.cancel(),new Error(`Invalid bundle format: ${t}`)}ha(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.sa.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class Tx{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Re(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ce.Z)(function*(l,h){const m=Ge(l),b=hg(m.k)+"/documents",w={documents:h.map(j=>Gf(m.k,j))},S=yield m.ji("BatchGetDocuments",b,w),k=new Map;S.forEach(j=>{const Z=function(n,t){return"found"in t?function(e,r){Dt(!!r.found);const o=ec(e,r.found.name),l=Ar(r.found.updateTime),h=new ii({mapValue:{fields:r.found.fields}});return On.newFoundDocument(o,l,h)}(n,t):"missing"in t?function(e,r){Dt(!!r.missing),Dt(!!r.readTime);const o=ec(e,r.missing),l=Ar(r.readTime);return On.newNoDocument(o,l)}(n,t):ct()}(m.k,j);k.set(Z.key.toString(),Z)});const V=[];return h.forEach(j=>{const Z=k.get(j.toString());Dt(!!Z),V.push(Z)}),V}),function(l,h){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new qf(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const l=ot.fromPath(o);t.mutations.push(new tv(l,t.precondition(l)))}),yield(r=(0,Ce.Z)(function*(o,l){const h=Ge(o),m=hg(h.k)+"/documents",b={writes:l.map(w=>Nn(h.k,w))};yield h.Bi("Commit",m,b)}),function(o,l){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ct();e=Nt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Re(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?pr.updateTime(e):pr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nt.min()))throw new Re(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pr.updateTime(e)}return pr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Sx{constructor(t,e,r,o){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new yv(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var t=this;this.ur.Zi((0,Ce.Z)(function*(){const e=new Tx(t.datastore),r=t.da(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(l=>{t.wa(l)}))}).catch(o=>{t.wa(o)})}))}da(t){try{const e=this.updateFunction(t);return!eh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(t){this.la>0&&this._a(t)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(t)}_a(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!QD(e)}return!1}}class aw{constructor(t,e,r,o){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Ci.UNAUTHENTICATED,this.clientId=LC.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Ce.Z)(function*(m){Ve("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var t=this;return(0,Ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=yh(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function lw(n,t){return Rv.apply(this,arguments)}function Rv(){return Rv=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ce.Z)(function*(l){r.isEqual(l)||(yield OI(t.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Rv.apply(this,arguments)}function cw(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Ov(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(o=>{return(l=(0,Ce.Z)(function*(h,m){const b=Ge(h);b.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const w=Eu(b);b.Gr.add(3),yield el(b),w&&b.Jr.set("Unknown"),yield b.remoteSyncer.handleCredentialChange(m),b.Gr.delete(3),yield Ag(b)}),function(h,m){return l.apply(this,arguments)})(t.remoteStore,o);var l}),n.onlineComponents=t}),yA.apply(this,arguments)}function Ov(n){return mp.apply(this,arguments)}function mp(){return mp=(0,Ce.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield lw(n,new mA)),n.offlineComponents}),mp.apply(this,arguments)}function kg(n){return vA.apply(this,arguments)}function vA(){return vA=(0,Ce.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield cw(n,new gA)),n.onlineComponents}),vA.apply(this,arguments)}function Mx(n){return Ov(n).then(t=>t.persistence)}function bA(n){return Ov(n).then(t=>t.localStore)}function CA(n){return kg(n).then(t=>t.remoteStore)}function EA(n){return kg(n).then(t=>t.syncEngine)}function Ch(n){return uw.apply(this,arguments)}function uw(){return uw=(0,Ce.Z)(function*(n){const t=yield kg(n),e=t.eventManager;return e.onListen=eA.bind(null,t.syncEngine),e.onUnlisten=nA.bind(null,t.syncEngine),e}),uw.apply(this,arguments)}function wA(n,t,e={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,m,b){const w=new ac({next:k=>{l.enqueueAndForget(()=>Ev(o,S));const V=k.docs.has(h);!V&&k.fromCache?b.reject(new Re(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&k.fromCache&&m&&"server"===m.source?b.reject(new Re(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(k)},error:k=>b.reject(k)}),S=new GE(th(h.path),w,{includeMetadataChanges:!0,wo:!0});return Cv(o,S)}(yield Ch(n),n.asyncQueue,t,e,r)})),r.promise}function xx(n,t,e={}){const r=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,l,h,m,b){const w=new ac({next:k=>{l.enqueueAndForget(()=>Ev(o,S)),k.fromCache&&"server"===m.source?b.reject(new Re(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(k)},error:k=>b.reject(k)}),S=new GE(h,w,{includeMetadataChanges:!0,wo:!0});return Cv(o,S)}(yield Ch(n),n.asyncQueue,t,e,r)})),r.promise}class qO{constructor(t,e,r,o,l,h,m,b){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class Rg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Rg&&t.projectId===this.projectId&&t.database===this.database}}const IA=new Map;function Og(n,t,e){if(!e)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function AA(n,t,e,r){if(!0===t&&!0===r)throw new Re(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function TA(n){if(!ot.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function SA(n){if(ot.isDocumentKey(n))throw new Re(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ct()}function tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Re(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=gp(n);throw new Re(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Os(n,t){if(t<=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class MA{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Re(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Re(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,AA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,e,r){this._authCredentials=e,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MA({}),this._settingsFrozen=!1,t instanceof Rg?this._databaseId=t:(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Re(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rg(o.options.projectId)}(t))}get app(){if(!this._app)throw new Re(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MA(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new IO;switch(e.type){case"gapi":const r=e.client;return Dt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new FC(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Re(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=IA.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),IA.delete(t),e.terminate())}(this),Promise.resolve()}}class Ln{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ln(this.firestore,t,this._key)}}class si{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new si(this.firestore,t,this._query)}}class la extends si{constructor(t,e,r){super(t,e,th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ln(this.firestore,null,new ot(t))}withConverter(t){return new la(this.firestore,t,this._path)}}function hw(n,t,...e){if(n=(0,Wt.m9)(n),Og("collection","path",t),n instanceof Eh){const r=dn.fromString(t,...e);return SA(r),new la(n,null,r)}{if(!(n instanceof Ln||n instanceof la))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(t,...e));return SA(r),new la(n.firestore,null,r)}}function Pg(n,t,...e){if(n=(0,Wt.m9)(n),1===arguments.length&&(t=LC.A()),Og("doc","path",t),n instanceof Eh){const r=dn.fromString(t,...e);return TA(r),new Ln(n,null,new ot(r))}{if(!(n instanceof Ln||n instanceof la))throw new Re(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(t,...e));return TA(r),new Ln(n.firestore,n instanceof la?n.converter:null,new ot(r))}}function fw(n,t){return n=(0,Wt.m9)(n),t=(0,Wt.m9)(t),(n instanceof Ln||n instanceof la)&&(t instanceof Ln||t instanceof la)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function xA(n,t){return n=(0,Wt.m9)(n),t=(0,Wt.m9)(t),n instanceof si&&t instanceof si&&n.firestore===t.firestore&&sg(n._query,t._query)&&n.converter===t.converter}class Nx{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new yv(this,"async_queue_retry"),this.Ra=()=>{const e=Ig();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=Ig();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pa(),this.ba(t)}enterRestrictedMode(t){if(!this.ya){this.ya=!0,this.Ia=t||!1;const e=Ig();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ra)}}enqueue(t){if(this.Pa(),this.ya)return new Promise(()=>{});const e=new Ei;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ga.push(t),this.va()))}va(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.ga.length){try{yield t.ga[0](),t.ga.shift(),t.ur.reset()}catch(e){if(!ch(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.ga.length>0&&t.ur.Zi(()=>t.va())}})()}ba(t){const e=this.ma.then(()=>(this.Ea=!0,t().catch(r=>{throw this.Ta=r,this.Ea=!1,wr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=e,e}enqueueAfterDelay(t,e,r){this.Pa(),this.Aa.indexOf(t)>-1&&(e=0);const o=Mg.createAndSchedule(this,t,e,r,l=>this.Va(l));return this.pa.push(o),o}Pa(){this.Ta&&ct()}verifyOperationInProgress(){}Sa(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.ma,yield e}while(e!==t.ma)})()}Da(t){for(const e of this.pa)if(e.timerId===t)return!0;return!1}Ca(t){return this.Sa().then(()=>{this.pa.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.pa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sa()})}Na(t){this.Aa.push(t)}Va(t){const e=this.pa.indexOf(t);this.pa.splice(e,1)}}function Ng(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class kA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ei,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Vn extends Eh{constructor(t,e,r){super(t,e,r),this.type="firestore",this._queue=new Nx,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Fx(this),this._firestoreClient.terminate()}}function jr(n){return n._firestoreClient||Fx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Fx(n){var t;const e=n._freezeSettings(),r=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new qO(n._databaseId,l,n._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new aw(n._authCredentials,n._appCheckCredentials,n._queue,r)}function OA(n,t,e){const r=new Ei;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield lw(n,e),yield cw(n,t),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===fe.FAILED_PRECONDITION||l.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function pw(n){if(n._initialized||n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class lc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Re(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ca{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ca(ri.fromBase64String(t))}catch(e){throw new Re(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ca(ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class wu{constructor(t){this._methodName=t}}class Pv{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Re(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const $x=/^__.*__$/;class PA{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Xl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Hf(t,this.data,e,this.fieldTransforms)}}class _p{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Xl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function Nv(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct()}}class Fg{constructor(t,e,r,o,l,h){this.settings=t,this.databaseId=e,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ka(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(t){return new Fg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.$a({path:r,Oa:!1});return o.Ma(t),o}La(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(t){return this.$a({path:void 0,Oa:!0})}Ua(t){return mr(t,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ka(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ma(this.path.get(t))}Ma(t){if(0===t.length)throw this.Ua("Document fields must not be empty");if(Nv(this.xa)&&$x.test(t))throw this.Ua('Document fields cannot begin and end with "__"')}}class zx{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=r||np(t)}ja(t,e,r,o=!1){return new Fg({xa:t,methodName:e,Ka:r,path:wi.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function yp(n){const t=n._freezeSettings(),e=np(n._databaseId);return new zx(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mw(n,t,e,r,o,l={}){const h=n.ja(l.merge||l.mergeFields?2:0,t,e,o);BA("Data must be an object, but it was:",h,r);const m=VA(r,h);let b,w;if(l.merge)b=new Of(h.fieldMask),w=h.fieldTransforms;else if(l.mergeFields){const S=[];for(const k of l.mergeFields){const V=UA(t,k,e);if(!h.contains(V))throw new Re(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Kx(S,V)||S.push(V)}b=new Of(S),w=h.fieldTransforms.filter(k=>b.covers(k.field))}else b=null,w=h.fieldTransforms;return new PA(new ii(m),b,w)}class Fv extends wu{_toFieldTransform(t){if(2!==t.xa)throw t.Ua(1===t.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fv}}function Gx(n,t,e){return new Fg({xa:3,Ka:t.settings.Ka,methodName:n._methodName,Oa:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class NA extends wu{_toFieldTransform(t){return new og(t.path,new rh)}isEqual(t){return t instanceof NA}}class WO extends wu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Gx(this,t,!0),r=this.Qa.map(l=>wh(l,e)),o=new pu(r);return new og(t.path,o)}isEqual(t){return this===t}}class gw extends wu{constructor(t,e){super(t),this.Qa=e}_toFieldTransform(t){const e=Gx(this,t,!0),r=this.Qa.map(l=>wh(l,e)),o=new ih(r);return new og(t.path,o)}isEqual(t){return this===t}}class Wx extends wu{constructor(t,e){super(t),this.Wa=e}_toFieldTransform(t){const e=new Uf(t.k,zD(t.k,this.Wa));return new og(t.path,e)}isEqual(t){return this===t}}function FA(n,t,e,r){const o=n.ja(1,t,e);BA("Data must be an object, but it was:",o,r);const l=[],h=ii.empty();du(r,(b,w)=>{const S=Lg(t,b,e);w=(0,Wt.m9)(w);const k=o.La(S);if(w instanceof Fv)l.push(S);else{const V=wh(w,k);null!=V&&(l.push(S),h.set(S,V))}});const m=new Of(l);return new _p(h,m,o.fieldTransforms)}function _w(n,t,e,r,o,l){const h=n.ja(1,t,e),m=[UA(t,r,e)],b=[o];if(l.length%2!=0)throw new Re(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<l.length;V+=2)m.push(UA(t,l[V])),b.push(l[V+1]);const w=[],S=ii.empty();for(let V=m.length-1;V>=0;--V)if(!Kx(w,m[V])){const j=m[V];let Z=b[V];Z=(0,Wt.m9)(Z);const pe=h.La(j);if(Z instanceof Fv)w.push(j);else{const Se=wh(Z,pe);null!=Se&&(w.push(j),S.set(j,Se))}}const k=new Of(w);return new _p(S,k,h.fieldTransforms)}function LA(n,t,e,r=!1){return wh(e,n.ja(r?4:3,t))}function wh(n,t){if(Zx(n=(0,Wt.m9)(n)))return BA("Unsupported field value:",t,n),VA(n,t);if(n instanceof wu)return function(e,r){if(!Nv(r.xa))throw r.Ua(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${e._methodName}() is not currently supported inside arrays`);const o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,r){const o=[];let l=0;for(const h of e){let m=wh(h,r.Ba(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if(null===(e=(0,Wt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zD(r.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const o=ni.fromDate(e);return{timestampValue:dg(r.k,o)}}if(e instanceof ni){const o=new ni(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:dg(r.k,o)}}if(e instanceof Pv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ca)return{bytesValue:ah(r.k,e._byteString)};if(e instanceof Ln){const o=r.databaseId,l=e.firestore._databaseId;if(!l.isEqual(o))throw r.Ua(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nI(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Ua(`Unsupported field value: ${gp(e)}`)}(n,t)}function VA(n,t){const e={};return Km(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):du(n,(r,o)=>{const l=wh(o,t.Fa(r));null!=l&&(e[r]=l)}),{mapValue:{fields:e}}}function Zx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof Pv||n instanceof ca||n instanceof Ln||n instanceof wu)}function BA(n,t,e){if(!Zx(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=gp(e);throw t.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function UA(n,t,e){if((t=(0,Wt.m9)(t))instanceof lc)return t._internalPath;if("string"==typeof t)return Lg(n,t);throw mr("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const Yx=new RegExp("[~\\*/\\[\\]]");function Lg(n,t,e){if(t.search(Yx)>=0)throw mr(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new lc(...t.split("."))._internalPath}catch(r){throw mr(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mr(n,t,e,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let m=`Function ${t}() called with invalid data`;e&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(l||h)&&(b+=" (found",l&&(b+=` in field ${r}`),h&&(b+=` in document ${o}`),b+=")"),new Re(fe.INVALID_ARGUMENT,m+n+b)}function Kx(n,t){return n.some(e=>e.isEqual(t))}class vp{constructor(t,e,r,o,l){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class jA extends vp{data(){return super.data()}}function Lv(n,t){return"string"==typeof t?Lg(n,t):t instanceof lc?t._internalPath:t._delegate._internalPath}class rl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cc extends vp{constructor(t,e,r,o,l,h){super(t,e,r,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Lv("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Vg extends cc{data(t={}){return super.data(t)}}class uc{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new rl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Vg(this._firestore,this._userDataWriter,r.key,r,new rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Re(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const m=new Vg(r._firestore,r._userDataWriter,h.doc.key,h.doc,new rl(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,w=-1;return 0!==h.type&&(b=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),w=l.indexOf(h.doc.key)),{type:Dh(h.type),doc:m,oldIndex:b,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Dh(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct()}}function yw(n,t){return n instanceof cc&&t instanceof cc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof uc&&t instanceof uc&&n._firestore===t._firestore&&xA(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function Vv(n){if(Wy(n)&&0===n.explicitOrderBy.length)throw new Re(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ih{}function Du(n,...t){for(const e of t)n=e._apply(n);return n}class Bv extends Ih{constructor(t,e,r){super(),this.Ga=t,this.za=e,this.Ha=r,this.type="where"}_apply(t){const e=yp(t.firestore),r=function(o,l,h,m,b,w,S){let k;if(b.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on FieldPath.documentId().`);if("in"===w||"not-in"===w){GA(S,w);const j=[];for(const Z of S)j.push(zA(m,o,Z));k={arrayValue:{values:j}}}else k=zA(m,o,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||GA(S,w),k=LA(h,"where",S,"in"===w||"not-in"===w);const V=Vi.create(b,w,k);return function(j,Z){if(Z.V()){const Se=zC(j);if(null!==Se&&!Se.isEqual(Z.field))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Se.toString()}' and '${Z.field.toString()}'`);const ut=Zy(j);null!==ut&&WA(0,Z.field,ut)}const pe=function(Se,ut){for(const yt of Se.filters)if(ut.indexOf(yt.op)>=0)return yt.op;return null}(j,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Z.op));if(null!==pe)throw new Re(fe.INVALID_ARGUMENT,pe===Z.op?`Invalid query. You cannot use more than one '${Z.op.toString()}' filter.`:`Invalid query. You cannot use '${Z.op.toString()}' filters with '${pe.toString()}' filters.`)}(o,V),V}(t._query,0,e,t.firestore._databaseId,this.Ga,this.za,this.Ha);return new si(t.firestore,t.converter,function(o,l){const h=o.filters.concat([l]);return new Jl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(t._query,r))}}class vw extends Ih{constructor(t,e){super(),this.Ga=t,this.Ja=e,this.type="orderBy"}_apply(t){const e=function(r,o,l){if(null!==r.startAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new ig(o,l);return function(m,b){if(null===Zy(m)){const w=zC(m);null!==w&&WA(0,w,b.field)}}(r,h),h}(t._query,this.Ga,this.Ja);return new si(t.firestore,t.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Jl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class Hr extends Ih{constructor(t,e,r){super(),this.type=t,this.Ya=e,this.Xa=r}_apply(t){return new si(t.firestore,t.converter,$D(t._query,this.Ya,this.Xa))}}class qA extends Ih{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=bw(t,this.type,this.Za,this.tc);return new si(t.firestore,t.converter,(o=e,new Jl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class $A extends Ih{constructor(t,e,r){super(),this.type=t,this.Za=e,this.tc=r}_apply(t){const e=bw(t,this.type,this.Za,this.tc);return new si(t.firestore,t.converter,(o=e,new Jl((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function bw(n,t,e,r){if(e[0]=(0,Wt.m9)(e[0]),e[0]instanceof vp)return function(o,l,h,m,b){if(!m)throw new Re(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const w=[];for(const S of nh(o))if(S.field.isKeyField())w.push(Hy(l,m.key));else{const k=m.data.field(S.field);if(Jm(k))throw new Re(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const V=S.field.canonicalString();throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(k)}return new Vf(w,b)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const o=yp(n.firestore);return function(l,h,m,b,w,S){const k=l.explicitOrderBy;if(w.length>k.length)throw new Re(fe.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let j=0;j<w.length;j++){const Z=w[j];if(k[j].field.isKeyField()){if("string"!=typeof Z)throw new Re(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof Z}`);if(!Yy(l)&&-1!==Z.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${b}() must be a plain document ID, but '${Z}' contains a slash.`);const pe=l.path.child(dn.fromString(Z));if(!ot.isDocumentKey(pe))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${b}() must result in a valid document path, but '${pe}' is not because it contains an odd number of segments.`);const Se=new ot(pe);V.push(Hy(h,Se))}else{const pe=LA(m,b,Z);V.push(pe)}}return new Vf(V,S)}(n._query,n.firestore._databaseId,o,t,e,r)}}function zA(n,t,e){if("string"==typeof(e=(0,Wt.m9)(e))){if(""===e)throw new Re(fe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yy(t)&&-1!==e.indexOf("/"))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(dn.fromString(e));if(!ot.isDocumentKey(r))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hy(n,new ot(r))}if(e instanceof Ln)return Hy(n,e._key);throw new Re(fe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${gp(e)}.`)}function GA(n,t){if(!Array.isArray(n)||0===n.length)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Re(fe.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WA(n,t,e){if(!e.isEqual(t))throw new Re(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Cw{convertValue(t,e="none"){switch(Ql(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Jd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ct()}}convertObject(t,e){const r={};return du(t.fields,(o,l)=>{r[o]=this.convertValue(l,e)}),r}convertGeoPoint(t){return new Pv(fr(t.latitude),fr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=TM(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(Xd(t));default:return null}}convertTimestamp(t){const e=hu(t);return new ni(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=dn.fromString(t);Dt(lE(r));const o=new Rg(r.get(1),r.get(3)),l=new ot(r.popFirst(5));return o.isEqual(e)||wr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function Bg(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class ZA extends Cw{constructor(t){super(),this.firestore=t}convertBytes(t){return new ca(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,e)}}class Ew{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yp(t)}set(t,e,r){this._verifyNotCommitted();const o=Iu(t,this._firestore),l=Bg(o.converter,e,r),h=mw(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,pr.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const l=Iu(t,this._firestore);let h;return h="string"==typeof(e=(0,Wt.m9)(e))||e instanceof lc?_w(this._dataReader,"WriteBatch.update",l._key,e,r,o):FA(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(h.toMutation(l._key,pr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Iu(t,this._firestore);return this._mutations=this._mutations.concat(new qf(e._key,pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Iu(n,t){if((n=(0,Wt.m9)(n)).firestore!==t)throw new Re(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Au extends Cw{constructor(t){super(),this.firestore=t}convertBytes(t){return new ca(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ln(this.firestore,null,e)}}function KA(n,t,e){n=tn(n,Ln);const r=tn(n.firestore,Vn),o=Bg(n.converter,t,e);return bp(r,[mw(yp(r),"setDoc",n._key,o,null!==n.converter,e).toMutation(n._key,pr.none())])}function QA(n,t,e,...r){n=tn(n,Ln);const o=tn(n.firestore,Vn),l=yp(o);let h;return h="string"==typeof(t=(0,Wt.m9)(t))||t instanceof lc?_w(l,"updateDoc",n._key,t,e,r):FA(l,"updateDoc",n._key,t),bp(o,[h.toMutation(n._key,pr.exists(!0))])}function JA(n,...t){var e,r,o;n=(0,Wt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof t[h]||Ng(t[h])||(l=t[h],h++);const m={includeMetadataChanges:l.includeMetadataChanges};if(Ng(t[h])){const k=t[h];t[h]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[h+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),t[h+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let b,w,S;if(n instanceof Ln)w=tn(n.firestore,Vn),S=th(n._key.path),b={next:k=>{t[h]&&t[h](ww(w,n,k))},error:t[h+1],complete:t[h+2]};else{const k=tn(n,si);w=tn(k.firestore,Vn),S=k._query;const V=new Au(w);b={next:j=>{t[h]&&t[h](new uc(w,V,k,j))},error:t[h+1],complete:t[h+2]},Vv(n._query)}return function(k,V,j,Z){const pe=new ac(Z),Se=new GE(V,pe,j);return k.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Cv(yield Ch(k),Se)})),()=>{pe.na(),k.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return Ev(yield Ch(k),Se)}))}}(jr(w),S,m,b)}function bp(n,t){return function(e,r){const o=new Ei;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(n,t,e){return fp.apply(this,arguments)}(yield EA(e),r,o)})),o.promise}(jr(n),t)}function ww(n,t,e){const r=e.docs.get(t._key),o=new Au(n);return new cc(n,o,t._key,r,new rl(e.hasPendingWrites,e.fromCache),t.converter)}class ik extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=yp(t)}get(t){const e=Iu(t,this._firestore),r=new ZA(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||1!==o.length)return ct();const l=o[0];if(l.isFoundDocument())return new vp(this._firestore,r,l.key,l,e.converter);if(l.isNoDocument())return new vp(this._firestore,r,e._key,null,e.converter);throw ct()})}set(t,e,r){const o=Iu(t,this._firestore),l=Bg(o.converter,e,r),h=mw(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(t,e,r,...o){const l=Iu(t,this._firestore);let h;return h="string"==typeof(e=(0,Wt.m9)(e))||e instanceof lc?_w(this._dataReader,"Transaction.update",l._key,e,r,o):FA(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,h),this}delete(t){const e=Iu(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Iu(t,this._firestore),r=new Au(this._firestore);return super.get(t).then(o=>new cc(this._firestore,r,e._key,o._document,new rl(!1,!1),e.converter))}}function Su(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Cp(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function lk(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Kd=Rd.SDK_VERSION,(0,Rd._registerComponent)(new wm.wA("firestore",(e,{options:r})=>{const o=e.getProvider("app").getImmediate(),l=new Vn(o,new wM(e.getProvider("auth-internal")),new AO(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC")),(0,Rd.registerVersion)(OC,"3.4.0",n),(0,Rd.registerVersion)(OC,"3.4.0","esm2017")}();class It{constructor(t){this._delegate=t}static fromBase64String(t){return lk(),new It(ca.fromBase64String(t))}static fromUint8Array(t){return Cp(),new It(ca.fromUint8Array(t))}toBase64(){return lk(),this._delegate.toBase64()}toUint8Array(){return Cp(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Gv(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class uk{enableIndexedDbPersistence(t,e){return function(n,t){pw(n=tn(n,Vn));const e=jr(n),r=n._freezeSettings(),o=new gA;return OA(e,o,new Ix(o,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){pw(n=tn(n,Vn));const t=jr(n),e=n._freezeSettings(),r=new gA;return OA(t,r,new Ax(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Re(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Ei;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(r){if(!aa.bt())return Promise.resolve();const o=r+"main";yield aa.delete(o)}),function(r){return e.apply(this,arguments)})(Mo(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Dw{constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof Rg||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&kf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var o;const l=(n=tn(n,Eh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&kf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let h,m;if("string"==typeof r.mockUserToken)h=r.mockUserToken,m=Ci.MOCK_USER;else{h=(0,Wt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Re(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ci(b)}n._authCredentials=new EM(new kD(h,m))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield Mx(n),e=yield CA(n);return t.setNetworkEnabled(!0),function(r){const o=Ge(r);return o.Gr.delete(0),Ag(o)}(e)}))}(jr(n=tn(n,Vn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield Mx(n),e=yield CA(n);return t.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(o){const l=Ge(o);l.Gr.add(0),yield el(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(e);var r}))}(jr(n=tn(n,Vn)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,AA("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new Ei;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(n,t){return Tv.apply(this,arguments)}(yield EA(t),e)})),e.promise}(jr(n=tn(n,Vn)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new ac(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Ch(n),o=e,Ge(r).io.add(o),void o.next();var r,o})),()=>{e.na(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Ch(n),o=e,void Ge(r).io.delete(o);var r,o}))}}(jr(n=tn(n,Vn)),Ng(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ep(this,hw(this._delegate,t))}catch(e){throw Bi(e,"collection()","Firestore.collection()")}}doc(t){try{return new Xs(this,Pg(this._delegate,t))}catch(e){throw Bi(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Zt(this,function(n,t){if(n=tn(n,Eh),Og("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Re(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new si(n,null,(e=t,new Jl(dn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bi(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(o=n,kg(o).then(l=>l.datastore));var o;new Sx(n.asyncQueue,r,t,e).run()})),e.promise}(jr(n=tn(n,Vn)),e=>t(new ik(n,e)))}(this._delegate,e=>t(new Qs(this,e)))}batch(){return jr(this._delegate),new Zv(new Ew(this._delegate,t=>bp(this._delegate,t)))}loadBundle(t){return function(n,t){const e=jr(n=tn(n,Vn)),r=new kA;return function(n,t,e,r){const o=function(l,h){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,b=function(b,w){if(b instanceof Uint8Array)return kv(b,w);if(b instanceof ArrayBuffer)return kv(new Uint8Array(b),w);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new _A(b,h);var b}(e,np(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function(n,t,e){const r=Ge(n);var o;(o=(0,Ce.Z)(function*(l,h,m){try{const b=yield h.getMetadata();if(yield function(V,j){const Z=Ge(V),pe=Ar(j.createTime);return Z.persistence.runTransaction("hasNewerBundle","readonly",Se=>Z.Ye.getBundleMetadata(Se,j.id)).then(Se=>!!Se&&Se.createTime.compareTo(pe)>=0)}(l.localStore,b))return yield h.close(),void m._completeWith((V=b,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(wv(b));const w=new yx(b,l.localStore,h.k);let S=yield h.Ho();for(;S;){const V=yield w.yo(S);V&&m._updateProgress(V),S=yield h.Ho()}const k=yield w.complete();yield tl(l,k.In,void 0),yield function(V,j){const Z=Ge(V);return Z.persistence.runTransaction("Save bundle","readwrite",pe=>Z.Ye.saveBundleMetadata(pe,j))}(l.localStore,b),m._completeWith(k.progress)}catch(b){kf("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b)}var V}),function(l,h,m){return o.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield EA(n),o,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(e,r){const o=Ge(e);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield bA(n),t)}))}(jr(n=tn(n,Vn)),t).then(e=>e?new si(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Zt(this,e):null)}}class Wv extends Cw{constructor(t){super(),this.firestore=t}convertBytes(t){return new It(new ca(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Xs.forKey(e,this.firestore,null)}}class Qs{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Wv(t)}get(t){const e=Mu(t);return this._delegate.get(e).then(r=>new Ug(this._firestore,new cc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const o=Mu(t);return r?(Su("Transaction.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const l=Mu(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...o),this}delete(t){const e=Mu(t);return this._delegate.delete(e),this}}class Zv{constructor(t){this._delegate=t}set(t,e,r){const o=Mu(t);return r?(Su("WriteBatch.set",r),this._delegate.set(o,e,r)):this._delegate.set(o,e),this}update(t,e,r,...o){const l=Mu(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,r,...o),this}delete(t){const e=Mu(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Js{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new Vg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ui(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=Js.INSTANCES;let o=r.get(t);o||(o=new WeakMap,r.set(t,o));let l=o.get(e);return l||(l=new Js(t,new Wv(t),e),o.set(e,l)),l}}Js.INSTANCES=new WeakMap;class Xs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wv(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xs(e,new Ln(e._delegate,r,new ot(t)))}static forKey(t,e,r){return new Xs(e,new Ln(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new Ep(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ep(this.firestore,hw(this._delegate,t))}catch(e){throw Bi(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Wt.m9)(t))instanceof Ln&&fw(this._delegate,t)}set(t,e){e=Su("DocumentReference.set",e);try{return e?KA(this._delegate,t,e):KA(this._delegate,t)}catch(r){throw Bi(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?QA(this._delegate,t):QA(this._delegate,t,e,...r)}catch(o){throw Bi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return bp(tn(n.firestore,Vn),[new qf(n._key,pr.none())])}(this._delegate)}onSnapshot(...t){const e=dk(t),r=eT(t,o=>new Ug(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return JA(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=tn(n,Ln);const t=tn(n.firestore,Vn),e=jr(t),r=new Au(t);return function(n,t){const e=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const m=yield function(b,w){const S=Ge(b);return S.persistence.runTransaction("read document","readonly",k=>S.Wn.Rn(k,w))}(o,l);m.isFoundDocument()?h.resolve(m):m.isNoDocument()?h.resolve(null):h.reject(new Re(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=yh(m,`Failed to get document '${l} from cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield bA(n),t,e);var r})),e.promise}(e,n._key).then(o=>new cc(t,r,n._key,o,new rl(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=tn(n,Ln);const t=tn(n.firestore,Vn);return wA(jr(t),n._key,{source:"server"}).then(e=>ww(t,n,e))}(this._delegate):function(n){n=tn(n,Ln);const t=tn(n.firestore,Vn);return wA(jr(t),n._key).then(e=>ww(t,n,e))}(this._delegate),e.then(r=>new Ug(this.firestore,new cc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new Xs(this.firestore,this._delegate.withConverter(t?Js.getInstance(this.firestore,t):null))}}function Bi(n,t,e){return n.message=n.message.replace(t,e),n}function dk(n){for(const t of n)if("object"==typeof t&&!Gv(t))return t;return{}}function eT(n,t){var e,r;let o;return o=Gv(n[0])?n[0]:Gv(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(t(l))},error:null===(e=o.error)||void 0===e?void 0:e.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Ug{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Xs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return yw(this._delegate,t._delegate)}}class Ui extends Ug{data(t){const e=this._delegate.data(t);return function(n,t){n||ct()}(void 0!==e),e}}class Zt{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Wv(t)}where(t,e,r){try{return new Zt(this.firestore,Du(this._delegate,function(n,t,e){const r=t,o=Lv("where",n);return new Bv(o,r,e)}(t,e,r)))}catch(o){throw Bi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Zt(this.firestore,Du(this._delegate,function(n,t="asc"){const e=t,r=Lv("orderBy",n);return new vw(r,e)}(t,e)))}catch(r){throw Bi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Zt(this.firestore,Du(this._delegate,function(n){return Os("limit",n),new Hr("limit",n,"F")}(t)))}catch(e){throw Bi(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Zt(this.firestore,Du(this._delegate,function(n){return Os("limitToLast",n),new Hr("limitToLast",n,"L")}(t)))}catch(e){throw Bi(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Zt(this.firestore,Du(this._delegate,function(...n){return new qA("startAt",n,!0)}(...t)))}catch(e){throw Bi(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Zt(this.firestore,Du(this._delegate,function(...n){return new qA("startAfter",n,!1)}(...t)))}catch(e){throw Bi(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Zt(this.firestore,Du(this._delegate,function(...n){return new $A("endBefore",n,!0)}(...t)))}catch(e){throw Bi(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Zt(this.firestore,Du(this._delegate,function(...n){return new $A("endAt",n,!1)}(...t)))}catch(e){throw Bi(e,"endAt()","Query.endAt()")}}isEqual(t){return xA(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=tn(n,si);const t=tn(n.firestore,Vn),e=jr(t),r=new Au(t);return function(n,t){const e=new Ei;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,l,h){try{const m=yield Eg(o,l,!0),b=new JI(l,m.zn),w=b.bo(m.documents),S=b.applyChanges(w,!1);h.resolve(S.snapshot)}catch(m){const b=yh(m,`Failed to execute query '${l} against cache`);h.reject(b)}}),function(o,l,h){return r.apply(this,arguments)})(yield bA(n),t,e);var r})),e.promise}(e,n._query).then(o=>new uc(t,r,n,o))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=tn(n,si);const t=tn(n.firestore,Vn),e=jr(t),r=new Au(t);return xx(e,n._query,{source:"server"}).then(o=>new uc(t,r,n,o))}(this._delegate):function(n){n=tn(n,si);const t=tn(n.firestore,Vn),e=jr(t),r=new Au(t);return Vv(n._query),xx(e,n._query).then(o=>new uc(t,r,n,o))}(this._delegate),e.then(r=>new Yv(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=dk(t),r=eT(t,o=>new Yv(this.firestore,new uc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return JA(this._delegate,e,r)}withConverter(t){return new Zt(this.firestore,this._delegate.withConverter(t?Js.getInstance(this.firestore,t):null))}}class ua{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Ui(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yv{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Ui(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ua(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new Ui(this._firestore,r))})}isEqual(t){return yw(this._delegate,t._delegate)}}class Ep extends Zt{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xs(this.firestore,t):null}doc(t){try{return new Xs(this.firestore,void 0===t?Pg(this._delegate):Pg(this._delegate,t))}catch(e){throw Bi(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=tn(n.firestore,Vn),r=Pg(n),o=Bg(n.converter,t);return bp(e,[mw(yp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new Xs(this.firestore,e))}isEqual(t){return fw(this._delegate,t._delegate)}withConverter(t){return new Ep(this.firestore,this._delegate.withConverter(t?Js.getInstance(this.firestore,t):null))}}function Mu(n){return tn(n,Ln)}class jg{constructor(...t){this._delegate=new lc(...t)}static documentId(){return new jg(wi.keyField().canonicalString())}isEqual(t){return(t=(0,Wt.m9)(t))instanceof lc&&this._delegate._internalPath.isEqual(t._internalPath)}}class xo{constructor(t){this._delegate=t}static serverTimestamp(){const t=new NA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new xo(t)}static delete(){const t=new Fv("deleteField");return t._methodName="FieldValue.delete",new xo(t)}static arrayUnion(...t){const e=function(...n){return new WO("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xo(e)}static arrayRemove(...t){const e=function(...n){return new gw("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xo(e)}static increment(t){const e=function(n){return new Wx("increment",n)}(t);return e._methodName="FieldValue.increment",new xo(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Hg={Firestore:Dw,GeoPoint:Pv,Timestamp:ni,Blob:It,Transaction:Qs,WriteBatch:Zv,DocumentReference:Xs,DocumentSnapshot:Ug,Query:Zt,QueryDocumentSnapshot:Ui,QuerySnapshot:Yv,CollectionReference:Ep,FieldPath:jg,FieldValue:xo,setLogLevel:function(n){!function(n){uu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,t){n.INTERNAL.registerComponent(new wm.wA("firestore-compat",e=>((t,e)=>new Dw(t,e,new uk))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Hg)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.9")}(GS.Z);var il=P(3719),Th=P(4763),Iw=P(1733);class qg extends gt.x{constructor(t=1/0,e=1/0,r=Iw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(r.push(t),!o&&r.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=r?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const h=e.now();let m=0;for(let b=1;b<r.length&&r[b]<=h;b+=2)m=b;m&&r.splice(0,m+1)}}}var Kv=P(3174);function Qv(n,t,e){var r,o;let l,h=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,t=null!==(o=n.windowTime)&&void 0!==o?o:1/0,h=!!n.refCount,e=n.scheduler):l=null!=n?n:1/0,(0,Kv.B)({connector:()=>new qg(l,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}function Sh(n,t){return(0,cn.m)(t)?Or(()=>n,t):Or(()=>n)}var Aw=P(5222);P(7713);const iT=new Map,da={activated:!1,tokenObservers:[]},pk={initialized:!1,enabled:!1};function oi(n){return iT.get(n)||da}function ha(n,t){iT.set(n,t)}function Xv(){return pk}class vk{constructor(t,e,r,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ce.Z)(function*(){e.stop();try{e.pending=new Wt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Wt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ls=new Wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sT(n){if(!oi(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function Mw(n,t){return xw.apply(this,arguments)}function xw(){return xw=(0,Ce.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(t),headers:r};let h,m;try{h=yield fetch(n,l)}catch(k){throw ls.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==h.status)throw ls.create("fetch-status-error",{httpStatus:h.status});try{m=yield h.json()}catch(k){throw ls.create("fetch-parse-error",{originalErrorMessage:k.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const w=1e3*Number(b[1]),S=Date.now();return{token:m.attestationToken,expireTimeMillis:S+w,issuedAtTimeMillis:S}}),xw.apply(this,arguments)}function wk(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Gg="firebase-app-check-store";let tb=null;function aT(){return tb||(tb=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var o;t(ls.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gg,{keyPath:"compositeKey"})}}catch(e){t(ls.create("storage-open",{originalErrorMessage:e.message}))}}),tb)}function Ow(){return Ow=(0,Ce.Z)(function*(n,t){const r=(yield aT()).transaction(Gg,"readwrite"),l=r.objectStore(Gg).put({compositeKey:n,value:t});return new Promise((h,m)=>{l.onsuccess=b=>{h()},r.onerror=b=>{var w;m(ls.create("storage-set",{originalErrorMessage:null===(w=b.target.error)||void 0===w?void 0:w.message}))}})}),Ow.apply(this,arguments)}const rb=new ru.Yd("@firebase/app-check");function uT(n,t){return(0,Wt.hl)()?function(n,t){return function(n,t){return Ow.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{rb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function dT(){return Xv().enabled}function Fw(){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,Ce.Z)(function*(){const n=Xv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Lw.apply(this,arguments)}const l1={error:"UNKNOWN_ERROR"};function c1(n){return Wt.US.encodeString(JSON.stringify(n),!1)}function Vw(n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,Ce.Z)(function*(n,t=!1){const e=n.app;sT(e);const r=oi(e);let l,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&ib(b)&&(o=b)}if(!t&&o&&ib(o))return{token:o.token};let m,h=!1;if(dT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Mw(wk(e,yield Fw()),n.platformLoggerProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),h=!0);const b=yield r.exchangeTokenPromise;return yield uT(e,b),ha(e,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),h=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?rb.warn(b.message):rb.error(b),l=b}return o?(m={token:o.token},ha(e,Object.assign(Object.assign({},r),{token:o})),yield uT(e,o)):m=pT(l),h&&fT(e,m),m}),Wg.apply(this,arguments)}function Uw(n,t){const e=oi(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ha(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function hT(n){const{app:t}=n,e=oi(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new vk((0,Ce.Z)(function*(){let r;if(r=oi(t).token?yield Vw(n,!0):yield Vw(n),r.error)throw r.error}),()=>!0,()=>{const e=oi(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ha(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function fT(n,t){const e=oi(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function ib(n){return n.expireTimeMillis-Date.now()>0}function pT(n){return{token:c1(l1),error:n}}class jw{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=oi(this.app);for(const e of t)Uw(this.app,e.next);return Promise.resolve()}}const Bk="app-check-internal";(0,Rd._registerComponent)(new wm.wA("app-check",n=>function(n,t){return new jw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Bk).initialize()})),(0,Rd._registerComponent)(new wm.wA(Bk,n=>function(n){return{getToken:t=>Vw(n,t),addTokenListener:t=>function(n,t,e,r){const{app:o}=n,l=oi(o),h={next:e,error:r,type:t};if(ha(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&ib(l.token)){const m=l.token;Promise.resolve().then(()=>{e({token:m.token}),hT(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>hT(n))}(n,"INTERNAL",t),removeTokenListener:t=>Uw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rd.registerVersion)("@firebase/app-check","0.5.2");class Zg{constructor(){return(0,Er.vb)("app-check")}}"undefined"!=typeof window&&window;var cb=P(7892);const kh=new c.OlP("angularfire2.auth.use-emulator"),Kg=new c.OlP("angularfire2.auth.settings"),Gw=new c.OlP("angularfire2.auth.tenant-id"),Qg=new c.OlP("angularfire2.auth.langugage-code"),ub=new c.OlP("angularfire2.auth.use-device-language"),Ww=new c.OlP("angularfire.auth.persistence"),Jg=(n,t,e,r,o,l,h,m)=>(0,Qr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),r&&(b.tenantId=r),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[w,S]of Object.entries(h))b.settings[w]=S;return m&&b.setPersistence(m),b},[e,r,o,l,h,m]);let Zw=(()=>{class n{constructor(e,r,o,l,h,m,b,w,S,k,V,j){const Z=new gt.x,pe=Xe(void 0).pipe((0,Th.Q)(h.outsideAngular),Or(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9777)))),(0,Ye.U)(()=>(0,Qr.on)(e,l,r)),(0,Ye.U)(Se=>Jg(Se,l,m,w,S,k,b,V)),Qv({bufferSize:1,refCount:!1}));if(kr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{pe.pipe(Ds()).subscribe();const ut=pe.pipe(Or(ht=>ht.getRedirectResult().then(Cn=>Cn,()=>null)),Er.iC,Qv({bufferSize:1,refCount:!1})),yt=pe.pipe(Or(ht=>new vn.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>ht.onAuthStateChanged(Tr=>Cn.next(Tr),Tr=>Cn.error(Tr),()=>Cn.complete()))})))),$t=pe.pipe(Or(ht=>new vn.y(Cn=>({unsubscribe:l.runOutsideAngular(()=>ht.onIdTokenChanged(Tr=>Cn.next(Tr),Tr=>Cn.error(Tr),()=>Cn.complete()))}))));this.authState=ut.pipe(Sh(yt),(0,Aw.R)(h.outsideAngular),(0,Th.Q)(h.insideAngular)),this.user=ut.pipe(Sh($t),(0,Aw.R)(h.outsideAngular),(0,Th.Q)(h.insideAngular)),this.idToken=this.user.pipe(Or(ht=>ht?(0,yn.D)(ht.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Or(ht=>ht?(0,yn.D)(ht.getIdTokenResult()):Xe(null))),this.credential=(0,il.T)(ut,Z,this.authState.pipe(Pi(ht=>!ht))).pipe((0,Ye.U)(ht=>(null==ht?void 0:ht.user)?ht:null),(0,Aw.R)(h.outsideAngular),(0,Th.Q)(h.insideAngular))}return(0,Qr.pX)(this,pe,l,{spy:{apply:(Se,ut,yt)=>{(Se.startsWith("signIn")||Se.startsWith("createUser"))&&yt.then($t=>Z.next($t))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Qr.Dh),c.LFG(Qr.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Er.HU),c.LFG(kh,8),c.LFG(Kg,8),c.LFG(Gw,8),c.LFG(Qg,8),c.LFG(ub,8),c.LFG(Ww,8),c.LFG(Zg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$k=(()=>{class n{constructor(){cb.Z.registerVersion("angularfire",Er.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Zw]}),n})();function AT(n,t){return function(n,t=Em.z){return new vn.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function Yw(n,t){return AT(n,t).pipe((0,Ye.U)(e=>({payload:e,type:"query"})))}function db(n,t){return Yw(n,t).pipe(_i(void 0),$b(),(0,Ye.U)(([e,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,m)=>{const b=o.find(S=>S.doc.ref.isEqual(h.ref)),w=null==e?void 0:e.payload.docs.find(S=>S.ref.isEqual(h.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(h.metadata)||!b&&w&&JSON.stringify(w.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:h}})}),l}))}function ST(n,t,e){return db(n,e).pipe(Uc((r,o)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Rh(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Rh(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Rh(n,t.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),t),[]),Co(),(0,Ye.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Rh(n,t,e,...r){const o=n.slice();return o.splice(t,e,...r),o}function MT(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class xT{constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=db(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ye.U)(r=>r.filter(o=>t.indexOf(o.type)>-1)))),e.pipe(_i(void 0),$b(),Pi(([r,o])=>o.length>0||!r),(0,Ye.U)(([r,o])=>o),Er.iC)}auditTrail(t){return this.stateChanges(t).pipe(Uc((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=MT(t);return ST(this.query,e,this.afs.schedulers.outsideAngular).pipe(Er.iC)}valueChanges(t={}){return Yw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),Er.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(Er.iC)}add(t){return this.ref.add(t)}doc(t){return new kT(this.ref.doc(t),this.afs)}}class kT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:o,query:l}=NT(r,e);return new xT(o,l,this.afs)}snapshotChanges(){return function(n,t){return AT(n,t).pipe(_i(void 0),$b(),(0,Ye.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,yn.D)(this.ref.get(t)).pipe(Er.iC)}}class Qw{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?db(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),Pi(e=>e.length>0),Er.iC):db(this.query,this.afs.schedulers.outsideAngular).pipe(Er.iC)}auditTrail(t){return this.stateChanges(t).pipe(Uc((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=MT(t);return ST(this.query,e,this.afs.schedulers.outsideAngular).pipe(Er.iC)}valueChanges(t={}){return Yw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(r=>r.payload.docs.map(o=>t.idField?Object.assign({[t.idField]:o.id},o.data()):o.data())),Er.iC)}get(t){return(0,yn.D)(this.query.get(t)).pipe(Er.iC)}}const RT=new c.OlP("angularfire2.enableFirestorePersistence"),Jw=new c.OlP("angularfire2.firestore.persistenceSettings"),OT=new c.OlP("angularfire2.firestore.settings"),PT=new c.OlP("angularfire2.firestore.use-emulator");function NT(n,t=(e=>e)){return{query:t(n),ref:n}}let Xw=(()=>{class n{constructor(e,r,o,l,h,m,b,w,S,k,V,j,Z,pe,Se,ut,yt){this.schedulers=b;const $t=(0,Qr.on)(e,m,r),ht=S;k&&Jg($t,m,V,Z,pe,Se,j,ut),[this.firestore,this.persistenceEnabled$]=(0,Qr.cc)(`${$t.name}.firestore`,"AngularFirestore",$t.name,()=>{const Cn=m.runOutsideAngular(()=>$t.firestore());if(l&&Cn.settings(l),ht&&Cn.useEmulator(...ht),o&&!kr(h)){const Tr=()=>{try{return(0,yn.D)(Cn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(ci){return"undefined"!=typeof console&&console.warn(ci),Xe(!1)}};return[Cn,m.runOutsideAngular(Tr)]}return[Cn,Xe(!1)]},[l,ht,o])}collection(e,r){let o;o="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:h}=NT(o,r),m=this.schedulers.ngZone.run(()=>l);return new xT(m,h,this)}collectionGroup(e,r){const o=r||(h=>h),l=this.firestore.collectionGroup(e);return new Qw(o(l),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const o=this.schedulers.ngZone.run(()=>r);return new kT(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Qr.Dh),c.LFG(Qr.xv,8),c.LFG(RT,8),c.LFG(OT,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Er.HU),c.LFG(Jw,8),c.LFG(PT,8),c.LFG(Zw,8),c.LFG(kh,8),c.LFG(Kg,8),c.LFG(Gw,8),c.LFG(Qg,8),c.LFG(ub,8),c.LFG(Ww,8),c.LFG(Zg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dc=(()=>{class n{constructor(){cb.Z.registerVersion("angularfire",Er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:RT,useValue:!0},{provide:Jw,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Xw]}),n})(),ku=(()=>{class n{constructor(e){this.db=e}cargarBosquejos(){return this.db.collection("bosquejos").get().pipe((0,Ye.U)(e=>function(n){return n.docs.map(t=>Object.assign({id:t.id},t.data()))}(e)))}cargarBosquejo(e){return this.db.doc(`/bosquejos/${e}`).get().pipe((0,Ye.U)(r=>function(n){return Object.assign({id:n.id},n.data())}(r)))}crearBosquejo(e,r){let o;return o=(0,yn.D)(this.db.doc(`bosquejos/${r}`).set(e)),o.pipe((0,Ye.U)(l=>Object.assign({id:null!=r?r:l.id},e)))}actualizarBosquejo(e,r){return(0,yn.D)(this.db.doc(`bosquejos/${e}`).update(r))}eliminarBosquejo(e){return(0,yn.D)(this.db.doc(`bosquejos/${e}`).delete())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Xw))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Oh{}const Ps="*";function fb(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ph(n,t=null){return{type:4,styles:t,timings:n}}function e0(n,t=null){return{type:2,steps:n,options:t}}function us(n){return{type:6,styles:n,offset:null}}function Ap(n,t,e){return{type:0,name:n,styles:t,options:e}}function t0(n){return{type:5,steps:n}}function hc(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function LT(n){Promise.resolve(null).then(n)}class Sp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){LT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Wk{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const l=this.players.length;0==l?LT(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Zk(){return"undefined"!=typeof window&&void 0!==window.document}function BT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ru(n){switch(n.length){case 0:return new Sp;case 1:return n[0];default:return new Wk(n)}}function UT(n,t,e,r,o={},l={}){const h=[],m=[];let b=-1,w=null;if(r.forEach(S=>{const k=S.offset,V=k==b,j=V&&w||{};Object.keys(S).forEach(Z=>{let pe=Z,Se=S[Z];if("offset"!==Z)switch(pe=t.normalizePropertyName(pe,h),Se){case"!":Se=o[Z];break;case Ps:Se=l[Z];break;default:Se=t.normalizeStyleValue(Z,pe,Se,h)}j[pe]=Se}),V||m.push(j),w=j,b=k}),h.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${h.join(S)}`)}return m}function jT(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&HT(e,"start",n)));break;case"done":n.onDone(()=>r(e&&HT(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&HT(e,"destroy",n)))}}function HT(n,t,e){const r=e.totalTime,l=qT(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(l._data=h),l}function qT(n,t,e,r,o="",l=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function ko(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function $T(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let zT=(n,t)=>!1,GT=(n,t)=>!1,Yk=(n,t,e)=>[];const Kk=BT();(Kk||"undefined"!=typeof Element)&&(zT=Zk()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),GT=(()=>{if(Kk||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):GT}})(),Yk=(n,t,e)=>{let r=[];if(e){const o=n.querySelectorAll(t);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(t);o&&r.push(o)}return r});let s=null,a=!1;function u(n){s||(s=("undefined"!=typeof document?document.body:null)||{},a=!!s.style&&"WebkitAppearance"in s.style);let t=!0;return s.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in s.style,!t&&a&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in s.style)),t}const f=GT,_=zT,v=Yk;function E(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let I=(()=>{class n{validateStyleProperty(e){return u(e)}matchesElement(e,r){return f(e,r)}containsElement(e,r){return _(e,r)}query(e,r,o){return v(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,l,h,m=[],b){return new Sp(o,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),M=(()=>{class n{}return n.NOOP=new I,n})();const G="ng-enter",oe="ng-leave",ve="ng-trigger",st=".ng-trigger",wt="ng-animating",qt=".ng-animating";function Bn(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ns(parseFloat(t[1]),t[2])}function Ns(n,t){return"s"===t?1e3*n:n}function Ou(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let o,l=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=Ns(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(l=Ns(parseFloat(b),m[4]));const w=m[5];w&&(h=w)}else o=n;if(!e){let m=!1,b=t.length;o<0&&(t.push("Duration values below 0 are not allowed for this animation step."),m=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&t.splice(b,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,t,e)}function ma(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function sl(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else ma(n,e);return e}function pb(n,t,e){return e?t+":"+e+";":""}function mb(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=pb(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=pb(0,vL(e),n.style[e]));n.setAttribute("style",t)}function Ro(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const o=Jk(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[o]),n.style[o]=t[r]}),BT()&&mb(n))}function fc(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Jk(e);n.style[r]=""}),BT()&&mb(n))}function n0(n){return Array.isArray(n)?1==n.length?n[0]:e0(n):n}const Qk=new RegExp("{{\\s*(.+?)\\s*}}","g");function E1(n){let t=[];if("string"==typeof n){let e;for(;e=Qk.exec(n);)t.push(e[1]);Qk.lastIndex=0}return t}function WT(n,t,e){const r=n.toString(),o=r.replace(Qk,(l,h)=>{let m=t[h];return t.hasOwnProperty(h)||(e.push(`Please provide a value for the animation param ${h}`),m=""),m.toString()});return o==r?n:o}function ZT(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const yL=/-+([a-z0-9])/g;function Jk(n){return n.replace(yL,(...t)=>t[1].toUpperCase())}function vL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function w1(n,t){return 0===n||0===t}function D1(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let l=t[0],h=[];if(r.forEach(m=>{l.hasOwnProperty(m)||h.push(m),l[m]=e[m]}),h.length)for(var o=1;o<t.length;o++){let m=t[o];h.forEach(function(b){m[b]=Xk(n,b)})}}return t}function ga(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Xk(n,t){return window.getComputedStyle(n)[t]}function bL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const b=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof b)return void t.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const o=r[1],l=r[2],h=r[3];t.push(I1(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&t.push(I1(h,o))}(r,e,t)):e.push(n),e}const KT=new Set(["true","1"]),QT=new Set(["false","0"]);function I1(n,t){const e=KT.has(n)||QT.has(n),r=KT.has(t)||QT.has(t);return(o,l)=>{let h="*"==n||n==o,m="*"==t||t==l;return!h&&e&&"boolean"==typeof o&&(h=o?KT.has(n):QT.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?KT.has(t):QT.has(t)),h&&m}}const wL=new RegExp("s*:selfs*,?","g");function eR(n,t,e){return new DL(n).build(t,e)}class DL{constructor(t){this._driver=t}build(t,e){const r=new TL(e);return this._resetContextStyleTimingState(r),ga(this,n0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const l=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const b=m,w=b.name;w.toString().split(/\s*,\s*/).forEach(S=>{b.name=S,l.push(this.visitState(b,e))}),b.name=w}else if(1==m.type){const b=this.visitTransition(m,e);r+=b.queryCount,o+=b.depCount,h.push(b)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(m=>{if(JT(m)){const b=m;Object.keys(b).forEach(w=>{E1(b[w]).forEach(S=>{h.hasOwnProperty(S)||l.add(S)})})}}),l.size){const m=ZT(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=ga(this,n0(t.animation),e);return{type:1,matchers:bL(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Xg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>ga(this,r,e)),options:Xg(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const l=t.steps.map(h=>{e.currentTime=r;const m=ga(this,h,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:l,options:Xg(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return tR(Ou(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=tR(0,0,"");return l.dynamic=!0,l.strValue=r,l}return e=e||Ou(r,t),tR(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,l=t.styles?t.styles:us({});if(5==l.type)o=this.visitKeyframes(l,e);else{let h=t.styles,m=!1;if(!h){m=!0;const w={};r.easing&&(w.easing=r.easing),h=us(w)}e.currentTime+=r.duration+r.delay;const b=this.visitStyle(h,e);b.isEmptyStep=m,o=b}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==Ps?r.push(h):e.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(t.styles);let o=!1,l=null;return r.forEach(h=>{if(JT(h)){const m=h,b=m.easing;if(b&&(l=b,delete m.easing),!o)for(let w in m)if(m[w].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,l=e.currentTime;r&&l>0&&(l-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void e.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const b=e.collectedStyles[e.currentQuerySelector],w=b[m];let S=!0;w&&(l!=o&&l>=w.startTime&&o<=w.endTime&&(e.errors.push(`The CSS property "${m}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),S=!1),l=w.startTime),S&&(b[m]={startTime:l,endTime:o}),e.options&&function(n,t,e){const r=t.params||{},o=E1(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||e.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[m],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let m=!1,b=!1,w=0;const S=t.steps.map(ut=>{const yt=this._makeStyleAst(ut,e);let $t=null!=yt.offset?yt.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(JT(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(JT(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(yt.styles),ht=0;return null!=$t&&(l++,ht=yt.offset=$t),b=b||ht<0||ht>1,m=m||ht<w,w=ht,h.push(ht),yt});b&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&e.errors.push("Please ensure that all keyframe offsets are in order");const k=t.steps.length;let V=0;l>0&&l<k?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(V=1/(k-1));const j=k-1,Z=e.currentTime,pe=e.currentAnimateTimings,Se=pe.duration;return S.forEach((ut,yt)=>{const $t=V>0?yt==j?1:V*yt:h[yt],ht=$t*Se;e.currentTime=Z+pe.delay+ht,pe.duration=ht,this._validateStyleAst(ut,e),ut.offset=$t,r.styles.push(ut)}),r}visitReference(t,e){return{type:8,animation:ga(this,n0(t.animation),e),options:Xg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Xg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Xg(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[l,h]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(wL,"")),n=n.replace(/@\*/g,st).replace(/@\w+/g,e=>st+"-"+e.substr(1)).replace(/:animating/g,qt),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+l:l,ko(e.collectedStyles,e.currentQuerySelector,{});const m=ga(this,n0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:t.selector,options:Xg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ou(t.timings,e.errors,!0);return{type:12,animation:ga(this,n0(t.animation),e),timings:r,options:null}}}class TL{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function JT(n){return!Array.isArray(n)&&"object"==typeof n}function Xg(n){return n?(n=ma(n)).params&&(n.params=function(n){return n?ma(n):null}(n.params)):n={},n}function tR(n,t,e){return{duration:n,delay:t,easing:e}}function nR(n,t,e,r,o,l,h=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:m}}class XT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const RL=new RegExp(":enter","g"),PL=new RegExp(":leave","g");function rR(n,t,e,r,o,l={},h={},m,b,w=[]){return(new NL).buildKeyframes(n,t,e,r,o,l,h,m,b,w)}class NL{buildKeyframes(t,e,r,o,l,h,m,b,w,S=[]){w=w||new XT;const k=new iR(t,e,w,o,l,S,[]);k.options=b,k.currentTimeline.setStyles([h],null,k.errors,b),ga(this,r,k);const V=k.timelines.filter(j=>j.containsAnimation());if(V.length&&Object.keys(m).length){const j=V[V.length-1];j.allowOnlyTimelineStyles()||j.setStyles([m],null,k.errors,b)}return V.length?V.map(j=>j.buildKeyframes()):[nR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const o=e.createSubContext(t.options),l=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let l=e.currentTimeline.currentTime;const h=null!=r.duration?Bn(r.duration):null,m=null!=r.delay?Bn(r.delay):null;return 0!==h&&t.forEach(b=>{const w=e.appendInstructionToTimeline(b,h,m);l=Math.max(l,w.duration+w.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),ga(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const l=t.options;if(l&&(l.params||l.delay)&&(o=e.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=eS);const h=Bn(l.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>ga(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?Bn(t.options.delay):0;t.steps.forEach(h=>{const m=e.createSubContext(t.options);l&&m.delayNextStep(l),ga(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Ou(e.params?WT(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(r.duration),this.visitStyle(l,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(l):r.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,l=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(b=>{m.forwardTime((b.offset||0)*l),m.setStyles(b.styles,b.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+l),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},l=o.delay?Bn(o.delay):0;l&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=eS);let h=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let b=null;m.forEach((w,S)=>{e.currentQueryIndex=S;const k=e.createSubContext(t.options,w);l&&k.delayNextStep(l),w===e.element&&(b=k.currentTimeline),ga(this,t.animation,k),k.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,k.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),b&&(e.currentTimeline.mergeTimelineCollectedStyles(b),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,l=t.timings,h=Math.abs(l.duration),m=h*(e.currentQueryTotal-1);let b=h*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const S=e.currentTimeline;b&&S.delayNextStep(b);const k=S.currentTime;ga(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-k+(o.startTime-r.currentTimeline.startTime)}}const eS={};class iR{constructor(t,e,r,o,l,h,m,b){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=eS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new tS(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=Bn(r.duration)),null!=r.delay&&(o.delay=Bn(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=WT(l[m],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,l=new iR(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=eS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},l=new FL(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,l,h){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(RL,"."+this._enterClassName)).replace(PL,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),m.push(...w)}return!l&&0==m.length&&h.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),m}}class tS{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new tS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ps,this._currentKeyframe[e]=Ps}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&(this._previousKeyframe.easing=e);const l=o&&o.params||{},h=function(n,t){const e={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(t),r.forEach(l=>{e[l]=Ps})):sl(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const b=WT(h[m],l,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Ps),this._updateStyle(m,b)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],o=t._styleSummary[e];(!r||o.time>r.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,b)=>{const w=sl(m,!0);Object.keys(w).forEach(S=>{const k=w[S];"!"==k?t.add(S):k==Ps&&e.add(S)}),r||(w.offset=b/this.duration),o.push(w)});const l=t.size?ZT(t.values()):[],h=e.size?ZT(e.values()):[];if(r){const m=o[0],b=ma(m);m.offset=0,b.offset=1,o=[m,b]}return nR(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class FL extends tS{constructor(t,e,r,o,l,h,m=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],h=r+e,m=e/h,b=sl(t[0],!1);b.offset=0,l.push(b);const w=sl(t[0],!1);w.offset=S1(m),l.push(w);const S=t.length-1;for(let k=1;k<=S;k++){let V=sl(t[k],!1);V.offset=S1((e+V.offset*r)/h),l.push(V)}r=h,e=0,o="",t=l}return nR(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function S1(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class sR{}class VL extends sR{normalizePropertyName(t,e){return Jk(t)}normalizeStyleValue(t,e,r,o){let l="";const h=r.toString().trim();if(BL[e]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${t}:${r}`)}return h+l}}const BL=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function M1(n,t,e,r,o,l,h,m,b,w,S,k,V){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:l,toState:r,toStyles:h,timelines:m,queriedElements:b,preStyleProps:w,postStyleProps:S,totalTime:k,errors:V}}const oR={};class x1{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function(n,t,e,r,o){return n.some(l=>l(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){const o=this._stateStyles["*"],l=this._stateStyles[t],h=o?o.buildStyles(e,r):{};return l?l.buildStyles(e,r):h}build(t,e,r,o,l,h,m,b,w,S){const k=[],V=this.ast.options&&this.ast.options.params||oR,Z=this.buildStyles(r,m&&m.params||oR,k),pe=b&&b.params||oR,Se=this.buildStyles(o,pe,k),ut=new Set,yt=new Map,$t=new Map,ht="void"===o,Cn={params:qe(qe({},V),pe)},Tr=S?[]:rR(t,e,this.ast.animation,l,h,Z,Se,Cn,w,k);let ci=0;if(Tr.forEach(jh=>{ci=Math.max(jh.duration+jh.delay,ci)}),k.length)return M1(e,this._triggerName,r,o,ht,Z,Se,[],[],yt,$t,ci,k);Tr.forEach(jh=>{const Hh=jh.element,sL=ko(yt,Hh,{});jh.preStyleProps.forEach(c_=>sL[c_]=!0);const M0=ko($t,Hh,{});jh.postStyleProps.forEach(c_=>M0[c_]=!0),Hh!==e&&ut.add(Hh)});const Uh=ZT(ut.values());return M1(e,this._triggerName,r,o,ht,Z,Se,Tr,Uh,yt,$t,ci)}}class HL{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},o=ma(this.defaultParams);return Object.keys(t).forEach(l=>{const h=t[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(m=>{let b=h[m];b.length>1&&(b=WT(b,o,e));const w=this.normalizer.normalizePropertyName(m,e);b=this.normalizer.normalizeStyleValue(m,w,b,e),r[w]=b})}}),r}}class $L{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new HL(o.style,o.options&&o.options.params||{},r)}),k1(this.states,"true","1"),k1(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new x1(t,o,this.states))}),this.fallbackTransition=function(n,t,e){return new x1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function k1(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const GL=new XT;class WL{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],o=eR(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=o}_buildPlayer(t,e,r){const o=t.element,l=UT(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],l=this._animations[t];let h;const m=new Map;if(l?(h=rR(this._driver,e,l,G,oe,{},{},r,GL,o),h.forEach(S=>{const k=ko(m,S.element,{});S.postStyleProps.forEach(V=>k[V]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((S,k)=>{Object.keys(S).forEach(V=>{S[V]=this._driver.computeStyle(k,V,Ps)})});const w=Ru(h.map(S=>{const k=m.get(S.element);return this._buildPlayer(S,{},k)}));return this._playersById[t]=w,w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,o){const l=qT(e,"","","");return jT(this._getPlayer(t),r,l,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const l=this._getPlayer(t);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const R1="ng-animate-queued",O1="ng-animate-disabled",P1=".ng-animate-disabled",QL=[],N1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ol="__ng_removed";class aR{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?t.value:t),r){const l=ma(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const r0="void",lR=new aR(r0);class XL{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,al(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);const l=ko(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};l.push(h);const m=ko(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(al(t,ve),al(t,ve+"-"+e),m[e]=lR),()=>{this._engine.afterFlush(()=>{const b=l.indexOf(h);b>=0&&l.splice(b,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,o=!0){const l=this._getTrigger(e),h=new cR(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(al(t,ve),al(t,ve+"-"+e),this._engine.statesByElement.set(t,m={}));let b=m[e];const w=new aR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&w.absorbOptions(b.options),m[e]=w,b||(b=lR),w.value!==r0&&b.value===w.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const l=e[o];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(b.params,w.params)){const pe=[],Se=l.matchStyles(b.value,b.params,pe),ut=l.matchStyles(w.value,w.params,pe);pe.length?this._engine.reportError(pe):this._engine.afterFlush(()=>{fc(t,Se),Ro(t,ut)})}return}const V=ko(this._engine.playersByElement,t,[]);V.forEach(pe=>{pe.namespaceId==this.id&&pe.triggerName==e&&pe.queued&&pe.destroy()});let j=l.matchTransition(b.value,w.value,t,w.params),Z=!1;if(!j){if(!o)return;j=l.fallbackTransition,Z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:j,fromState:b,toState:w,player:h,isFallbackTransition:Z}),Z||(al(t,R1),h.onStart(()=>{gb(t,R1)})),h.onDone(()=>{let pe=this.players.indexOf(h);pe>=0&&this.players.splice(pe,1);const Se=this._engine.playersByElement.get(t);if(Se){let ut=Se.indexOf(h);ut>=0&&Se.splice(ut,1)}}),this.players.push(h),V.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,st,!0);r.forEach(o=>{if(o[ol])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const l=this._engine.statesByElement.get(t);if(l){const h=[];if(Object.keys(l).forEach(m=>{if(this._triggers[m]){const b=this.trigger(t,m,r0,o);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Ru(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const b=this._triggers[h].fallbackTransition,w=r[h]||lR,S=new aR(r0),k=new cR(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:b,fromState:w,toState:S,player:k,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(t):[];if(l&&l.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const l=t[ol];(!l||l===N1)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){al(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(m=>{if(m.name==r.triggerName){const b=qT(l,r.triggerName,r.fromState.value,r.toState.value);b._data=t,jT(r.player,m.phase,b,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class eV{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new XL(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),o=!0;break}o||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&e.add(m)}}}return e}trigger(t,e,r,o){if(nS(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!nS(e))return;const l=e[ol];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),al(t,O1)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gb(t,O1))}removeNode(t,e,r,o){if(nS(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o){this.collectedLeaveElements.push(e),e[ol]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,o,l){return nS(e)?this._fetchNamespace(t).listen(e,r,o,l):()=>{}}_buildInstruction(t,e,r,o,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,st,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,qt,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ru(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ol];if(e&&e.setForRemoval){if(t[ol]=N1,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,P1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,P1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)al(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ru(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new XT,o=[],l=new Map,h=[],m=new Map,b=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(at=>{S.add(at);const Ct=this.driver.query(at,".ng-animate-queued",!0);for(let Ft=0;Ft<Ct.length;Ft++)S.add(Ct[Ft])});const k=this.bodyNode,V=Array.from(this.statesByElement.keys()),j=V1(V,this.collectedEnterElements),Z=new Map;let pe=0;j.forEach((at,Ct)=>{const Ft=G+pe++;Z.set(Ct,Ft),at.forEach(fn=>al(fn,Ft))});const Se=[],ut=new Set,yt=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const Ct=this.collectedLeaveElements[at],Ft=Ct[ol];Ft&&Ft.setForRemoval&&(Se.push(Ct),ut.add(Ct),Ft.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(fn=>ut.add(fn)):yt.add(Ct))}const $t=new Map,ht=V1(V,Array.from(ut));ht.forEach((at,Ct)=>{const Ft=oe+pe++;$t.set(Ct,Ft),at.forEach(fn=>al(fn,Ft))}),t.push(()=>{j.forEach((at,Ct)=>{const Ft=Z.get(Ct);at.forEach(fn=>gb(fn,Ft))}),ht.forEach((at,Ct)=>{const Ft=$t.get(Ct);at.forEach(fn=>gb(fn,Ft))}),Se.forEach(at=>{this.processLeaveNode(at)})});const Cn=[],Tr=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(e).forEach(Ft=>{const fn=Ft.player,qi=Ft.element;if(Cn.push(fn),this.collectedEnterElements.length){const Lu=qi[ol];if(Lu&&Lu.setForMove)return void fn.destroy()}const Fu=!k||!this.driver.containsElement(k,qi),va=$t.get(qi),Np=Z.get(qi),Sr=this._buildInstruction(Ft,r,Np,va,Fu);if(Sr.errors&&Sr.errors.length)Tr.push(Sr);else{if(Fu)return fn.onStart(()=>fc(qi,Sr.fromStyles)),fn.onDestroy(()=>Ro(qi,Sr.toStyles)),void o.push(fn);if(Ft.isFallbackTransition)return fn.onStart(()=>fc(qi,Sr.fromStyles)),fn.onDestroy(()=>Ro(qi,Sr.toStyles)),void o.push(fn);Sr.timelines.forEach(Lu=>Lu.stretchStartingKeyframe=!0),r.append(qi,Sr.timelines),h.push({instruction:Sr,player:fn,element:qi}),Sr.queriedElements.forEach(Lu=>ko(m,Lu,[]).push(fn)),Sr.preStyleProps.forEach((Lu,x0)=>{const US=Object.keys(Lu);if(US.length){let u_=b.get(x0);u_||b.set(x0,u_=new Set),US.forEach(_O=>u_.add(_O))}}),Sr.postStyleProps.forEach((Lu,x0)=>{const US=Object.keys(Lu);let u_=w.get(x0);u_||w.set(x0,u_=new Set),US.forEach(_O=>u_.add(_O))})}});if(Tr.length){const at=[];Tr.forEach(Ct=>{at.push(`@${Ct.triggerName} has failed due to:\n`),Ct.errors.forEach(Ft=>at.push(`- ${Ft}\n`))}),Cn.forEach(Ct=>Ct.destroy()),this.reportError(at)}const ci=new Map,Uh=new Map;h.forEach(at=>{const Ct=at.element;r.has(Ct)&&(Uh.set(Ct,Ct),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,ci))}),o.forEach(at=>{const Ct=at.element;this._getPreviousPlayers(Ct,!1,at.namespaceId,at.triggerName,null).forEach(fn=>{ko(ci,Ct,[]).push(fn),fn.destroy()})});const jh=Se.filter(at=>U1(at,b,w)),Hh=new Map;L1(Hh,this.driver,yt,w,Ps).forEach(at=>{U1(at,b,w)&&jh.push(at)});const M0=new Map;j.forEach((at,Ct)=>{L1(M0,this.driver,new Set(at),b,"!")}),jh.forEach(at=>{const Ct=Hh.get(at),Ft=M0.get(at);Hh.set(at,qe(qe({},Ct),Ft))});const c_=[],oL=[],aL={};h.forEach(at=>{const{element:Ct,player:Ft,instruction:fn}=at;if(r.has(Ct)){if(S.has(Ct))return Ft.onDestroy(()=>Ro(Ct,fn.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(fn.totalTime),void o.push(Ft);let qi=aL;if(Uh.size>1){let va=Ct;const Np=[];for(;va=va.parentNode;){const Sr=Uh.get(va);if(Sr){qi=Sr;break}Np.push(va)}Np.forEach(Sr=>Uh.set(Sr,qi))}const Fu=this._buildAnimation(Ft.namespaceId,fn,ci,l,M0,Hh);if(Ft.setRealPlayer(Fu),qi===aL)c_.push(Ft);else{const va=this.playersByElement.get(qi);va&&va.length&&(Ft.parentPlayer=Ru(va)),o.push(Ft)}}else fc(Ct,fn.fromStyles),Ft.onDestroy(()=>Ro(Ct,fn.toStyles)),oL.push(Ft),S.has(Ct)&&o.push(Ft)}),oL.forEach(at=>{const Ct=l.get(at.element);if(Ct&&Ct.length){const Ft=Ru(Ct);at.setRealPlayer(Ft)}}),o.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<Se.length;at++){const Ct=Se[at],Ft=Ct[ol];if(gb(Ct,oe),Ft&&Ft.hasAnimation)continue;let fn=[];if(m.size){let Fu=m.get(Ct);Fu&&Fu.length&&fn.push(...Fu);let va=this.driver.query(Ct,qt,!0);for(let Np=0;Np<va.length;Np++){let Sr=m.get(va[Np]);Sr&&Sr.length&&fn.push(...Sr)}}const qi=fn.filter(Fu=>!Fu.destroyed);qi.length?iV(this,Ct,qi):this.processLeaveNode(Ct)}return Se.length=0,c_.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const Ct=this.players.indexOf(at);this.players.splice(Ct,1)}),at.play()}),c_}elementContainsData(t,e){let r=!1;const o=e[ol];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,l){let h=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(h=m)}else{const m=this.playersByElement.get(t);if(m){const b=!l||l==r0;m.forEach(w=>{w.queued||!b&&w.triggerName!=o||h.push(w)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(t,e,r){const l=e.element,h=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const b of e.timelines){const w=b.element,S=w!==l,k=ko(r,w,[]);this._getPreviousPlayers(w,S,h,m,e.toState).forEach(j=>{const Z=j.getRealPlayer();Z.beforeDestroy&&Z.beforeDestroy(),j.destroy(),k.push(j)})}fc(l,e.fromStyles)}_buildAnimation(t,e,r,o,l,h){const m=e.triggerName,b=e.element,w=[],S=new Set,k=new Set,V=e.timelines.map(Z=>{const pe=Z.element;S.add(pe);const Se=pe[ol];if(Se&&Se.removedBeforeQueried)return new Sp(Z.duration,Z.delay);const ut=pe!==b,yt=function(n){const t=[];return B1(n,t),t}((r.get(pe)||QL).map(ci=>ci.getRealPlayer())).filter(ci=>!!ci.element&&ci.element===pe),$t=l.get(pe),ht=h.get(pe),Cn=UT(0,this._normalizer,0,Z.keyframes,$t,ht),Tr=this._buildPlayer(Z,Cn,yt);if(Z.subTimeline&&o&&k.add(pe),ut){const ci=new cR(t,m,pe);ci.setRealPlayer(Tr),w.push(ci)}return Tr});w.forEach(Z=>{ko(this.playersByQueriedElement,Z.element,[]).push(Z),Z.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,Z.element,Z))}),S.forEach(Z=>al(Z,wt));const j=Ru(V);return j.onDestroy(()=>{S.forEach(Z=>gb(Z,wt)),Ro(b,e.toStyles)}),k.forEach(Z=>{ko(o,Z,[]).push(j)}),j}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Sp(t.duration,t.delay)}}class cR{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Sp,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>jT(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ko(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function nS(n){return n&&1===n.nodeType}function F1(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function L1(n,t,e,r,o){const l=[];e.forEach(b=>l.push(F1(b)));const h=[];r.forEach((b,w)=>{const S={};b.forEach(k=>{const V=S[k]=t.computeStyle(w,k,o);(!V||0==V.length)&&(w[ol]=JL,h.push(w))}),n.set(w,S)});let m=0;return e.forEach(b=>F1(b,l[m++])),h}function V1(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),l=new Map;function h(m){if(!m)return 1;let b=l.get(m);if(b)return b;const w=m.parentNode;return b=e.has(w)?w:o.has(w)?1:h(w),l.set(m,b),b}return t.forEach(m=>{const b=h(m);1!==b&&e.get(b).push(m)}),e}const rS="$$classes";function al(n,t){if(n.classList)n.classList.add(t);else{let e=n[rS];e||(e=n[rS]={}),e[t]=!0}}function gb(n,t){if(n.classList)n.classList.remove(t);else{let e=n[rS];e&&delete e[t]}}function iV(n,t,e){Ru(e).onDone(()=>n.processLeaveNode(t))}function B1(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Wk?B1(r.players,t):t.push(r)}}function U1(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(l=>o.add(l)):t.set(n,r),e.delete(n),!0}class iS{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new eV(t,e,r),this._timelineEngine=new WL(t,e,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(t,e,r,o,l){const h=t+"-"+o;let m=this._triggerCache[h];if(!m){const b=[],w=eR(this._driver,l,b);if(b.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${b.join("\n - ")}`);m=function(n,t,e){return new $L(n,t,e)}(o,w,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[l,h]=$T(r);this._timelineEngine.command(l,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,l){if("@"==r.charAt(0)){const[h,m]=$T(r);return this._timelineEngine.listen(h,e,m,l)}return this._transitionEngine.listen(t,e,r,o,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function j1(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=uR(t[0]),t.length>1&&(r=uR(t[t.length-1]))):t&&(e=uR(t)),e||r?new aV(n,e,r):null}let aV=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ro(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ro(this._element,this._initialStyles),this._endStyles&&(Ro(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fc(this._element,this._endStyles),this._endStyles=null),Ro(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function uR(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=e[r];lV(o)&&(t=t||{},t[o]=n[o])}return t}function lV(n){return"display"===n||"position"===n}const H1="animation",q1="animationend";class dV{constructor(t,e,r,o,l,h,m){this._element=t,this._name=e,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=b=>this._handleCallback(b)}apply(){(function(n,t){const e=hR(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),sS(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),G1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){$1(this._element,this._name,"paused")}resume(){$1(this._element,this._name,"running")}setPosition(t){const e=z1(this._element,this._name);this._position=t*this._duration,sS(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),G1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=hR(n,"").split(","),o=dR(r,t);o>=0&&(r.splice(o,1),sS(n,"",r.join(",")))}(this._element,this._name))}}function $1(n,t,e){sS(n,"PlayState",e,z1(n,t))}function z1(n,t){const e=hR(n,"");return e.indexOf(",")>0?dR(e.split(","),t):dR([e],t)}function dR(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function G1(n,t,e){e?n.removeEventListener(q1,t):n.addEventListener(q1,t)}function sS(n,t,e,r){const o=H1+t;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=e,e=h.join(",")}}n.style[o]=e}function hR(n,t){return n.style[H1+t]||""}class W1{constructor(t,e,r,o,l,h,m,b){this.element=t,this.keyframes=e,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=m,this._specialStyles=b,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new dV(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:Xk(this.element,r))})}this.currentSnapshot=t}}class _V extends Sp{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=E(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Y1{constructor(){this._count=0}validateStyleProperty(t){return u(t)}matchesElement(t,e){return f(t,e)}containsElement(t,e){return _(t,e)}query(t,e,r){return v(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(m=>E(m));let o=`@keyframes ${e} {\n`,l="";r.forEach(m=>{l=" ";const b=parseFloat(m.offset);o+=`${l}${100*b}% {\n`,l+=" ",Object.keys(m).forEach(w=>{const S=m[w];switch(w){case"offset":return;case"easing":return void(S&&(o+=`${l}animation-timing-function: ${S};\n`));default:return void(o+=`${l}${w}: ${S};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(t,e,r,o,l,h=[],m){const b=h.filter(Se=>Se instanceof W1),w={};w1(r,o)&&b.forEach(Se=>{let ut=Se.currentSnapshot;Object.keys(ut).forEach(yt=>w[yt]=ut[yt])});const S=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(t[o]=r[o])})}),t}(e=D1(t,e,w));if(0==r)return new _V(t,S);const k="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(t,k,e);(function(n){var e;const t=null==(e=n.getRootNode)?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(t).appendChild(V);const Z=j1(t,e),pe=new W1(t,e,k,r,o,l,S,Z);return pe.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(V)),pe}}class Q1{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Xk(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class EV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(J1().toString()),this._cssKeyframesDriver=new Y1}validateStyleProperty(t){return u(t)}matchesElement(t,e){return f(t,e)}containsElement(t,e){return _(t,e)}query(t,e,r){return v(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,o,l,h=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,o,l,h);const S={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(S.easing=l);const k={},V=h.filter(Z=>Z instanceof Q1);w1(r,o)&&V.forEach(Z=>{let pe=Z.currentSnapshot;Object.keys(pe).forEach(Se=>k[Se]=pe[Se])});const j=j1(t,e=D1(t,e=e.map(Z=>sl(Z,!1)),k));return new Q1(t,e,S,j)}}function J1(){return Zk()&&Element.prototype.animate||{}}let DV=(()=>{class n extends Oh{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?e0(e):e;return X1(this._renderer,null,r,"register",[o]),new IV(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class IV extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new AV(this._id,t,e||{},this._renderer)}}class AV{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return X1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!=(e=null==(t=this._renderer.engine.players[+this.id])?void 0:t.getPosition())?e:0}}function X1(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const eP="@.disabled";let TV=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const m=null==h?void 0:h.parentNode(l);m&&h.removeChild(m,l)}}createRenderer(e,r){const l=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(l);return S||(S=new tP("",l,this.engine),this._rendererCache.set(l,S)),S}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const b=S=>{Array.isArray(S)?S.forEach(b):this.engine.registerTrigger(h,m,e,S.name,S)};return r.data.animation.forEach(b),new SV(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,m]=l;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(iS),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class tP{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==eP?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class SV extends tP{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==eP?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}let kV=(()=>{class n extends iS{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(M),c.LFG(sR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Fh=new c.OlP("AnimationModuleType"),nP=[{provide:Oh,useClass:DV},{provide:sR,useFactory:function(){return new VL}},{provide:iS,useClass:kV},{provide:c.FYo,useFactory:function(n,t,e){return new TV(n,t,e)},deps:[co,iS,c.R0b]}],rP=[{provide:M,useFactory:function(){return"function"==typeof J1()?new EV:new Y1}},{provide:Fh,useValue:"BrowserAnimations"},...nP],NV=[{provide:M,useClass:I},{provide:Fh,useValue:"NoopAnimations"},...nP];let FV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?NV:rP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:rP,imports:[id]}),n})();function _b(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function gR(n,t=Em.z){return(0,ur.e)((e,r)=>{let o=null,l=null,h=null;const m=()=>{if(o){o.unsubscribe(),o=null;const w=l;l=null,r.next(w)}};function b(){const w=h+n,S=t.now();if(S<w)return o=this.schedule(void 0,w-S),void r.add(o);m()}e.subscribe(new kt.Q(r,w=>{l=w,h=t.now(),o||(o=t.schedule(b,n),r.add(o))},()=>{m(),r.complete()},void 0,()=>{l=o=null}))})}function aP(n){return Pi((t,e)=>n<=e)}var WV=P(6921);function Pu(n){return(0,ur.e)((t,e)=>{(0,Va.Xf)(n).subscribe(new kt.Q(e,()=>e.complete(),WV.Z)),!e.closed&&t.subscribe(e)})}function zn(n){return null!=n&&"false"!=`${n}`}function a0(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function dS(n){return Array.isArray(n)?n:[n]}function ai(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Vh(n){return n instanceof c.SBq?n.nativeElement:n}let _R;try{_R="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){_R=!1}let yb,li=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===Wh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_R)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const lP=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function cP(){if(yb)return yb;if("object"!=typeof document||!document)return yb=new Set(lP),yb;let n=document.createElement("input");return yb=new Set(lP.filter(t=>(n.setAttribute("type",t),n.type===t))),yb}let c0,t_,yR;function hS(n){return function(){if(null==c0&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>c0=!0}))}finally{c0=c0||!1}return c0}()?n:!!n.capture}function QV(){if(null==t_){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return t_=!1,t_;if("scrollBehavior"in document.documentElement.style)t_=!0;else{const n=Element.prototype.scrollTo;t_=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return t_}function uP(n){if(function(){if(null==yR){const n="undefined"!=typeof document?document.head:null;yR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yR}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function dP(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function n_(n){return n.composedPath?n.composedPath()[0]:n.target}function vR(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let hP=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fP=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=Vh(e);return new vn.y(o=>{const h=this._observeElement(r).subscribe(o);return()=>{h.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new gt.x,o=this._mutationObserverFactory.create(l=>r.next(l));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XV=(()=>{class n{constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=zn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=a0(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(gR(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null==(e=this._currentSubscription)||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fP),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),pP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hP]}),n})();class rB extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new gt.x,this._typeaheadSubscription=cr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new gt.x,this.change=new gt.x,t instanceof c.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const o=e.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Xt.b)(e=>this._pressedLetters.push(e)),gR(t),Pi(()=>this._pressedLetters.length>0),(0,Ye.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const l=(this._activeItemIndex+o)%r.length,h=r[l];if(!this._skipPredicateFn(h)&&0===h.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||_b(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),o=e[r];this._activeItem=null==o?null:o,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const o=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let iB=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===yP(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),l=yP(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==l:"video"===o?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_P(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _P(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function yP(n){if(!_P(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class mB{constructor(t,e,r,o,l=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Zr.q)(1)).subscribe(t)}}let gB=(()=>{class n{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new mB(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(iB),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_B=(()=>{class n{constructor(e,r,o){this._elementRef=e,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=zn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=zn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const r=e.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=dP(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(gB),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),n})();function vP(n){return 0===n.offsetX&&0===n.offsetY}function bP(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const yB=new c.OlP("cdk-input-modality-detector-options"),vB={ignoreKeys:[18,17,224,91,16]},vb=hS({passive:!0,capture:!0});let bB=(()=>{class n{constructor(e,r,o,l){this._platform=e,this._mostRecentTarget=null,this._modality=new br(null),this._lastTouchMs=0,this._onKeydown=h=>{var m,b;(null==(b=null==(m=this._options)?void 0:m.ignoreKeys)?void 0:b.some(w=>w===h.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=n_(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vP(h)?"keyboard":"mouse"),this._mostRecentTarget=n_(h))},this._onTouchstart=h=>{bP(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=n_(h))},this._options=qe(qe({},vB),l),this.modalityDetected=this._modality.pipe(aP(1)),this.modalityChanged=this.modalityDetected.pipe(Co()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,vb),o.addEventListener("mousedown",this._onMousedown,vb),o.addEventListener("touchstart",this._onTouchstart,vb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vb),document.removeEventListener("mousedown",this._onMousedown,vb),document.removeEventListener("touchstart",this._onTouchstart,vb))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li),c.LFG(c.R0b),c.LFG(J),c.LFG(yB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CB=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),wB=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let EP=(()=>{class n{constructor(e,r,o,l){this._ngZone=r,this._defaultOptions=l,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){const o=this._defaultOptions;let l,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[l,h]=r,this.clear(),clearTimeout(this._previousTimeout),l||(l=o&&o.politeness?o.politeness:"polite"),null==h&&o&&(h=o.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>new Promise(m=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,m(),"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null==(e=this._liveElement)||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let l=0;l<r.length;l++)r[l].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(CB,8),c.LFG(c.R0b),c.LFG(J),c.LFG(wB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DB=(()=>{class n{constructor(e,r,o,l){this._elementRef=e,this._liveAnnouncer=r,this._contentObserver=o,this._ngZone=l,this._politeness="polite"}get politeness(){return this._politeness}set politeness(e){this._politeness="off"===e||"assertive"===e?e:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const r=this._elementRef.nativeElement.textContent;r!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(r,this._politeness),this._previousAnnouncedText=r)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(EP),c.Y36(fP),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),n})();const IB=new c.OlP("cdk-focus-monitor-default-options"),pS=hS({passive:!0,capture:!0});let wP=(()=>{class n{constructor(e,r,o,l,h){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.x,this._rootNodeFocusAndBlurListener=m=>{const b=n_(m),w="focus"===m.type?this._onFocus:this._onBlur;for(let S=b;S;S=S.parentElement)w.call(this,m,S)},this._document=l,this._detectionMode=(null==h?void 0:h.detectionMode)||0}monitor(e,r=!1){const o=Vh(e);if(!this._platform.isBrowser||1!==o.nodeType)return Xe(null);const l=uP(o)||this._getDocument(),h=this._elementInfo.get(o);if(h)return r&&(h.checkChildren=!0),h.subject;const m={checkChildren:r,subject:new gt.x,rootNode:l};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const r=Vh(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const l=Vh(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([m,b])=>this._originChanged(m,r,b)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),l=n_(e);!o||!o.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pS),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pS)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pu(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pS),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pS),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,l)=>{(l===e||o.checkChildren&&l.contains(e))&&r.push([l,o])}),r}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(li),c.LFG(bB),c.LFG(J,8),c.LFG(IB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=(()=>{class n{constructor(e,r){this._elementRef=e,this._focusMonitor=r,this.cdkFocusChange=new c.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>this.cdkFocusChange.emit(r))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(wP))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const DP="cdk-high-contrast-black-on-white",IP="cdk-high-contrast-white-on-black",bR="cdk-high-contrast-active";let AP=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bR),e.remove(DP),e.remove(IP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(bR),e.add(DP)):2===r&&(e.add(bR),e.add(IP))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TB=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(AP))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[l0,pP]]}),n})();const SB=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(J)}});let r_=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const o=e.documentElement?e.documentElement.dir:null,l=(e.body?e.body.dir:null)||o;this.value="ltr"===l||"rtl"===l?l:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(SB,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const kB=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Si=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(AP),c.LFG(kB,8),c.LFG(J))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[u0],u0]}),n})();function RB(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=zn(t)}}}function i_(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function MP(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=zn(t)}}}function OB(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?a0(e):this.defaultTabIndex}}}function xP(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new gt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}const PB=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,c.f3M)(c.soG)}});class ds{constructor(){this._localeChanges=new gt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let r=this.isValid(t),o=this.isValid(e);return r&&o?!this.compareDate(t,e):r==o}return t==e}clampDate(t,e,r){return e&&this.compareDate(t,e)<0?e:r&&this.compareDate(t,r)>0?r:t}}const s_=new c.OlP("mat-date-formats"),FB=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function CR(n,t){const e=Array(n);for(let r=0;r<n;r++)e[r]=t(r);return e}let LB=(()=>{class n extends ds{constructor(e,r){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const r=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return CR(12,o=>this._format(r,new Date(2017,o,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return CR(31,r=>this._format(e,new Date(2017,0,r+1)))}getDayOfWeekNames(e){const r=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return CR(7,o=>this._format(r,new Date(2017,0,o+1)))}getYearName(e){const r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,r,o){let l=this._createDateWithOverflow(e,r,o);return l.getMonth(),l}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,r){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,ui(qe({},r),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,r){return this.addCalendarMonths(e,12*r)}addCalendarMonths(e,r){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+r,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+r)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,r){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+r)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(FB.test(e)){let r=new Date(e);if(this.isValid(r))return r}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,r,o){const l=new Date;return l.setFullYear(e,r,o),l.setHours(0,0,0,0),l}_2digit(e){return("00"+e).slice(-2)}_format(e,r){const o=new Date;return o.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),o.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),e.format(o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(PB,8),c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const VB={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let BB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:ds,useClass:LB}],imports:[[l0]]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:s_,useValue:VB}],imports:[[BB]]}),n})(),mS=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class UB{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const RP={enterDuration:225,exitDuration:150},ER=hS({passive:!0}),OP=["mousedown","touchstart"],PP=["mouseup","mouseleave","touchend","touchcancel"];class NP{constructor(t,e,r,o){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Vh(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=qe(qe({},RP),r.animation);r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const h=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),m=t-o.left,b=e-o.top,w=l.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-h+"px",S.style.top=b-h+"px",S.style.height=2*h+"px",S.style.width=2*h+"px",null!=r.color&&(S.style.backgroundColor=r.color),S.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(S),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const k=new UB(this,S,r);return k.state=0,this._activeRipples.add(k),r.persistent||(this._mostRecentTransientRipple=k),this._runTimeoutOutsideZone(()=>{const V=k===this._mostRecentTransientRipple;k.state=1,!r.persistent&&(!V||!this._isPointerDown)&&k.fadeOut()},w),k}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,o=qe(qe({},RP),t.config.animation);r.style.transitionDuration=`${o.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Vh(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(OP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(PP),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=vP(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!bP(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,ER)})})}_removeTriggerEvents(){this._triggerElement&&(OP.forEach(t=>{this._triggerElement.removeEventListener(t,this,ER)}),this._pointerUpEventsRegistered&&PP.forEach(t=>{this._triggerElement.removeEventListener(t,this,ER)}))}}const FP=new c.OlP("mat-ripple-global-options");let LP=(()=>{class n{constructor(e,r,o,l,h){this._elementRef=e,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new NP(this,r,e,o)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:qe(qe(qe({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,qe(qe({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,qe(qe({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(li),c.Y36(FP,8),c.Y36(Fh,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&c.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),$B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Si,l0],Si]}),n})();const zB=["*",[["mat-card-footer"]]],GB=["*","mat-card-footer"];let WB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),wR=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Fh,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,r){2&e&&c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:GB,decls:2,vars:0,template:function(e,r){1&e&&(c.F$t(zB),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Si],Si]}),n})();function UP(n,t){const e=(0,cn.m)(n)?n:()=>n,r=o=>o.error(e());return new vn.y(t?o=>t.schedule(r,0,o):r)}function jP(...n){const t=(0,bs.jO)(n),{args:e,keys:r}=Sl(n),o=new vn.y(l=>{const{length:h}=e;if(!h)return void l.complete();const m=new Array(h);let b=h,w=h;for(let S=0;S<h;S++){let k=!1;(0,Va.Xf)(e[S]).subscribe(new kt.Q(l,V=>{k||(k=!0,w--),m[S]=V},()=>b--,void 0,()=>{(!b||!k)&&(w||l.next(r?ld(r,m):m),l.complete())}))}});return t?o.pipe(ho(t)):o}class YB{}class xp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),l=o.toLowerCase(),h=e.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const l=t.value;if(l){let h=this.headers.get(e);if(!h)return;h=h.filter(m=>-1===l.indexOf(m)),0===h.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,h)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class KB{encodeKey(t){return HP(t)}encodeValue(t){return HP(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const JB=/%(\d[a-f0-9])/gi,XB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function HP(n){return encodeURIComponent(n).replace(JB,(t,e)=>{var r;return null!=(r=XB[e])?r:t})}function qP(n){return`${n}`}class kp{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new KB,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,m]=-1==l?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,l)),t.decodeValue(o.slice(l+1))],b=e.get(h)||[];b.push(m),e.set(h,b)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(l=>{e.push({param:r,value:l,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new kp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qP(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(qP(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class e2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function $P(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function GP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class h0{constructor(t,e,r,o){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new xp),this.context||(this.context=new e2),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+h}}else this.params=new kp,this.urlWithParams=e}serializeBody(){return null===this.body?null:$P(this.body)||zP(this.body)||GP(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof kp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||GP(this.body)?null:zP(this.body)?this.body.type||null:$P(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof kp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var k;const e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,h=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,w=t.params||this.params;const S=null!=(k=t.context)?k:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((V,j)=>V.set(j,t.setHeaders[j]),b)),t.setParams&&(w=Object.keys(t.setParams).reduce((V,j)=>V.set(j,t.setParams[j]),w)),new h0(e,r,l,{params:w,headers:b,context:S,reportProgress:m,responseType:o,withCredentials:h})}}var hs=(()=>((hs=hs||{})[hs.Sent=0]="Sent",hs[hs.UploadProgress=1]="UploadProgress",hs[hs.ResponseHeader=2]="ResponseHeader",hs[hs.DownloadProgress=3]="DownloadProgress",hs[hs.Response=4]="Response",hs[hs.User=5]="User",hs))();class DR extends class{constructor(t,e=200,r="OK"){this.headers=t.headers||new xp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=hs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new DR({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function IR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZP=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let l;if(e instanceof h0)l=e;else{let b,w;b=o.headers instanceof xp?o.headers:new xp(o.headers),o.params&&(w=o.params instanceof kp?o.params:new kp({fromObject:o.params})),l=new h0(e,r,void 0!==o.body?o.body:null,{headers:b,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=Xe(l).pipe(Hs(b=>this.handler.handle(b)));if(e instanceof h0||"events"===o.observe)return h;const m=h.pipe(Pi(b=>b instanceof DR));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,Ye.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,Ye.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,Ye.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return m.pipe((0,Ye.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new kp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,IR(o,r))}post(e,r,o={}){return this.request("POST",e,IR(o,r))}put(e,r,o={}){return this.request("PUT",e,IR(o,r))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(YB))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const o2=["*"];let gS;function f0(n){var t;return(null==(t=function(){if(void 0===gS&&(gS=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(gS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return gS}())?void 0:t.createHTML(n))||n}function YP(n){return Error(`Unable to find icon with the name "${n}"`)}function KP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class o_{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let _S=(()=>{class n{constructor(e,r,o,l){this._httpClient=e,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,l){return this._addSvgIconConfig(e,r,new o_(o,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,l){const h=this._sanitizer.sanitize(c.q3G.HTML,o);if(!h)throw QP(o);const m=f0(h);return this._addSvgIconConfig(e,r,new o_("",m,l))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new o_(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw QP(r);const h=f0(l);return this._addSvgIconSetConfig(e,new o_("",h,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!r)throw KP(e);const o=this._cachedIconsByUrl.get(r);return o?Xe(yS(o)):this._loadSvgIconFromConfig(new o_(e,null)).pipe((0,Xt.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,Ye.U)(l=>yS(l)))}getNamedSvgIcon(e,r=""){const o=JP(r,e);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,e),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(e,h):UP(YP(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Xe(yS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ye.U)(r=>yS(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?Xe(o):jP(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(tr(m=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,h.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(w)),Xe(null)})))).pipe((0,Ye.U)(()=>{const h=this._extractIconWithNameFromAnySet(e,r);if(!h)throw YP(e);return h}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const h=this._svgElementFromConfig(l),m=this._extractSvgIconFromSet(h,e,l.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Xt.b)(r=>e.svgText=r),(0,Ye.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Xe(null):this._fetchIcon(e).pipe((0,Xt.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const l=e.querySelector(`[id="${r}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const m=this._svgElementFromString(f0("<svg></svg>"));return m.appendChild(h),this._setSvgAttributes(m,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(f0("<svg></svg>")),o=e.attributes;for(let l=0;l<o.length;l++){const{name:h,value:m}=o[l];"id"!==h&&r.setAttribute(h,m)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var w;const{url:r,options:o}=e,l=null!=(w=null==o?void 0:o.withCredentials)&&w;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,r);if(!h)throw KP(r);const m=this._inProgressUrlFetches.get(h);if(m)return m;const b=this._httpClient.get(h,{responseType:"text",withCredentials:l}).pipe((0,Ye.U)(S=>f0(S)),Ni(()=>this._inProgressUrlFetches.delete(h)),(0,Kv.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(JP(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](r,e);if(l)return u2(l)?new o_(l.url,null,l.options):new o_(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ZP,8),c.LFG($o),c.LFG(J,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yS(n){return n.cloneNode(!0)}function JP(n,t){return n+":"+t}function u2(n){return!(!n.url||!n.options)}const d2=i_(class{constructor(n){this._elementRef=n}}),h2=new c.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,c.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],p2=XP.map(n=>`[${n}]`).join(", "),m2=/^url\(['"]?#(.*?)['"]?\)$/;let vS=(()=>{class n extends d2{constructor(e,r,o,l,h){super(e),this._iconRegistry=r,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=cr.w0.EMPTY,o||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=zn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${e}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(p2),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)XP.forEach(h=>{const m=r[l],b=m.getAttribute(h),w=b?b.match(m2):null;if(w){let S=o.get(m);S||(S=[],o.set(m,S)),S.push({name:h,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe((0,Zr.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(_S),c.$8M("aria-hidden"),c.Y36(h2),c.Y36(c.qLn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(c.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),c.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:o2,decls:1,vars:0,template:function(e,r){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),eN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Si],Si]}),n})();function g2(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"mat-card",3),c.TgZ(2,"mat-card-title"),c._uU(3),c.qZA(),c.TgZ(4,"mat-card-subtitle"),c._uU(5),c.qZA(),c.TgZ(6,"mat-card-content"),c._uU(7),c.ALo(8,"date"),c.qZA(),c.qZA(),c.BQk()),2&n){const e=t.$implicit;c.xp6(1),c.MGl("routerLink","bosquejo/",e.id,""),c.xp6(2),c.Oqu(e.titulo),c.xp6(2),c.Oqu(e.nombreExpositor),c.xp6(2),c.Oqu(c.xi3(8,4,e.fecha.toDate(),"short"))}}const _2=function(){return["/form","agregar"]};let y2=(()=>{class n{constructor(e){this.bosquejoService=e,this.idBosquejo="",this.bosquejos$=this.bosquejoService.cargarBosquejos()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ku))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-preview"]],decls:5,vars:5,consts:[[4,"ngFor","ngForOf"],[1,"preview-container","container-agregar",3,"routerLink"],["color","accent","aria-hidden","false","aria-label","Add",1,"boton-agregar"],[1,"preview-container",3,"routerLink"]],template:function(e,r){1&e&&(c.YNc(0,g2,9,7,"ng-container",0),c.ALo(1,"async"),c.TgZ(2,"mat-card",1),c.TgZ(3,"mat-icon",2),c._uU(4," add "),c.qZA(),c.qZA()),2&e&&(c.Q6J("ngForOf",c.lcZ(1,2,r.bosquejos$)),c.xp6(2),c.Q6J("routerLink",c.DdM(4,_2)))},directives:[ms,wR,$l,vS,VP,ZB,WB],pipes:[yc,qu],styles:[".preview-container[_ngcontent-%COMP%]{margin:10px}.preview-container[_ngcontent-%COMP%]:hover{animation:vibrate-1 .3s linear both}.container-agregar[_ngcontent-%COMP%]{height:80px;text-align:center}.boton-agregar[_ngcontent-%COMP%]{font-size:xxx-large;text-shadow:#C4DDF6 0px 0px 5px,#C4DDF6 0px 0px 10px,#C4DDF6 0px 0px 15px,#C4DDF6 0px 0px 20px,#C4DDF6 0px 0px 30px,#C4DDF6 0px 0px 40px,#C4DDF6 0px 0px 50px,#C4DDF6 0px 0px 75px}@keyframes vibrate-1{0%{transform:translate(0)}20%{transform:translate(-2px,2px)}40%{transform:translate(-2px,-2px)}60%{transform:translate(2px,2px)}80%{transform:translate(2px,-2px)}to{transform:translate(0)}}"]}),n})();var v2=P(1537);const b2=["addListener","removeListener"],C2=["addEventListener","removeEventListener"],E2=["on","off"];function bS(n,t,e,r){if((0,cn.m)(e)&&(r=e,e=void 0),r)return bS(n,t,e).pipe(ho(r));const[o,l]=function(n){return(0,cn.m)(n.addEventListener)&&(0,cn.m)(n.removeEventListener)}(n)?C2.map(h=>m=>n[h](t,m,e)):function(n){return(0,cn.m)(n.addListener)&&(0,cn.m)(n.removeListener)}(n)?b2.map(tN(n,t)):function(n){return(0,cn.m)(n.on)&&(0,cn.m)(n.off)}(n)?E2.map(tN(n,t)):[];if(!o&&(0,v2.z)(n))return(0,Cr.z)(h=>bS(h,t,e))((0,Va.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new vn.y(h=>{const m=(...b)=>h.next(1<b.length?b:b[0]);return o(m),()=>l(m)})}function tN(n,t){return e=>r=>n[e](t,r)}var nN=P(2869);const p0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=p0;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(l=>{e=void 0,n(l)});return new cr.w0(()=>null==e?void 0:e(o))},requestAnimationFrame(...n){const{delegate:t}=p0;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=p0;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var rN=P(8843);new class extends rN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,o=-1;t=t||e.shift();const l=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<l&&(t=e.shift()));if(this._active=!1,r){for(;++o<l&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends nN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=p0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(p0.cancelAnimationFrame(e),t._scheduled=void 0)}});let AR,M2=1;const CS={};function iN(n){return n in CS&&(delete CS[n],!0)}const x2={setImmediate(n){const t=M2++;return CS[t]=!0,AR||(AR=Promise.resolve()),AR.then(()=>iN(t)&&n()),t},clearImmediate(n){iN(n)}},{setImmediate:k2,clearImmediate:R2}=x2,ES={setImmediate(...n){const{delegate:t}=ES;return((null==t?void 0:t.setImmediate)||k2)(...n)},clearImmediate(n){const{delegate:t}=ES;return((null==t?void 0:t.clearImmediate)||R2)(n)},delegate:void 0};new class extends rN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let r,o=-1;t=t||e.shift();const l=e.length;do{if(r=t.execute(t.state,t.delay))break}while(++o<l&&(t=e.shift()));if(this._active=!1,r){for(;++o<l&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends nN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ES.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(ES.clearImmediate(e),t._scheduled=void 0)}});var L2=P(7398);function sN(n,t=Em.P){return function(n){return(0,ur.e)((t,e)=>{let r=!1,o=null,l=null,h=!1;const m=()=>{if(null==l||l.unsubscribe(),l=null,r){r=!1;const w=o;o=null,e.next(w)}h&&e.complete()},b=()=>{l=null,h&&e.complete()};t.subscribe(new kt.Q(e,w=>{r=!0,o=w,l||(0,Va.Xf)(n()).subscribe(l=new kt.Q(e,m,b))},()=>{h=!0,(!r||!l||l.closed)&&e.complete()}))})}(()=>function(n=0,t,e=Em.P){let r=-1;return null!=t&&((0,L2.K)(t)?e=t:r=t),new vn.y(o=>{let l=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},l)})}(n,t))}let j2=(()=>{class n{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new vn.y(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(sN(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Pi(l=>!l||o.indexOf(l)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,l)=>{this._scrollableContainsElement(l,e)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=Vh(r),l=e.getElementRef().nativeElement;do{if(o==l)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(li),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oN=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new gt.x,this._changeListener=l=>{this._change.next(l)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,l=o.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-l.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(sN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li),c.LFG(c.R0b),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[u0,l0,TR],u0,TR]}),n})();class SR{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class m0 extends SR{constructor(t,e,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=o}}class lN extends SR{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class q2 extends SR{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class MR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof m0?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof lN?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof q2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $2 extends MR{constructor(t,e,r,o,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=h=>{const m=h.element,b=this._document.createComment("dom-portal");m.parentNode.insertBefore(b,m),this.outletElement.appendChild(m),this._attachedPortal=h,super.setDisposeFn(()=>{b.parentNode&&b.parentNode.replaceChild(m,b)})},this._document=l}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=r.create(t.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(r);-1!==o&&e.remove(o)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wS=(()=>{class n extends MR{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(m,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),h=r.createComponent(l,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=e,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const cN=QV();class z2{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ai(-this._previousScrollPosition.left),t.style.top=ai(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,o=this._document.body.style,l=r.scrollBehavior||"",h=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),cN&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cN&&(r.scrollBehavior=l,o.scrollBehavior=h)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class G2{constructor(t,e,r,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uN{enable(){}disable(){}attach(){}}function kR(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function dN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class W2{constructor(t,e,r,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();kR(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Z2=(()=>{class n{constructor(e,r,o,l){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new uN,this.close=h=>new G2(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new z2(this._viewportRuler,this._document),this.reposition=h=>new W2(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(j2),c.LFG(oN),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RR{constructor(t){if(this.scrollStrategy=new uN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Y2{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let hN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K2=(()=>{class n extends hN{constructor(e){super(e),this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){o[l]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n extends hN{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=n_(o)},this._clickListener=o=>{const l=n_(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let b=m.length-1;b>-1;b--){const w=m[b];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(l)||w.overlayElement.contains(h))break;w._outsidePointerEvents.next(o)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fN=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){var e;null==(e=this._containerElement)||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vR()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<o.length;l++)o[l].remove()}const r=this._document.createElement("div");r.classList.add(e),vR()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class J2{constructor(t,e,r,o,l,h,m,b,w){this._portalOutlet=t,this._host=e,this._pane=r,this._config=o,this._ngZone=l,this._keyboardDispatcher=h,this._document=m,this._location=b,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new gt.x,this._attachments=new gt.x,this._detachments=new gt.x,this._locationChanges=cr.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new gt.x,this._outsidePointerEvents=new gt.x,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Zr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(e=this._host)||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=qe(qe({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ui(qe({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ai(this._config.width),t.height=ai(this._config.height),t.minWidth=ai(this._config.minWidth),t.minHeight=ai(this._config.minHeight),t.maxWidth=ai(this._config.maxWidth),t.maxHeight=ai(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const o=dS(e||[]).filter(l=>!!l);o.length&&(r?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Pu((0,il.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}const pN="cdk-overlay-connected-position-bounding-box",X2=/([A-Za-z%]+)$/;class mN{constructor(t,e,r,o,l){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.x,this._resizeSubscription=cr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(pN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,o=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,h),b=this._getOverlayPoint(m,e,h),w=this._getOverlayFit(b,e,r,h);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(w,b,r)?o.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<w.visibleArea)&&(l={overlayFit:w,overlayPoint:b,originPoint:m,position:h,overlayRect:e})}if(o.length){let h=null,m=-1;for(const b of o){const w=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);w>m&&(m=w,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&a_(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(pN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,o;if("center"==e.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==e.originX?l:h}return o="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:o}}_getOverlayPoint(t,e,r){let o,l;return o="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+o,y:t.y+l}}_getOverlayFit(t,e,r,o){const l=_N(e);let{x:h,y:m}=t,b=this._getOffset(o,"x"),w=this._getOffset(o,"y");b&&(h+=b),w&&(m+=w);let V=0-m,j=m+l.height-r.height,Z=this._subtractOverflows(l.width,0-h,h+l.width-r.width),pe=this._subtractOverflows(l.height,V,j),Se=Z*pe;return{visibleArea:Se,isCompletelyWithinViewport:l.width*l.height===Se,fitsInViewportVertically:pe===l.height,fitsInViewportHorizontally:Z==l.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const o=r.bottom-e.y,l=r.right-e.x,h=gN(this._overlayRef.getConfig().minHeight),m=gN(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=m&&m<=l;return(t.fitsInViewportVertically||null!=h&&h<=o)&&w}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=_N(e),l=this._viewportRect,h=Math.max(t.x+o.width-l.width,0),m=Math.max(t.y+o.height-l.height,0),b=Math.max(l.top-r.top-t.y,0),w=Math.max(l.left-r.left-t.x,0);let S=0,k=0;return S=o.width<=l.width?w||-h:t.x<this._viewportMargin?l.left-r.left-t.x:0,k=o.height<=l.height?b||-m:t.y<this._viewportMargin?l.top-r.top-t.y:0,this._previousPushAmount={x:S,y:k},{x:t.x+S,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),o=new Y2(t,r);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,o=this._isRtl();let l,h,m,S,k,V;if("top"===e.overlayY)h=t.y,l=r.height-h+this._viewportMargin;else if("bottom"===e.overlayY)m=r.height-t.y+2*this._viewportMargin,l=r.height-m+this._viewportMargin;else{const j=Math.min(r.bottom-t.y+r.top,t.y),Z=this._lastBoundingBoxSize.height;l=2*j,h=t.y-j,l>Z&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.y-Z/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)V=r.width-t.x+this._viewportMargin,S=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)k=t.x,S=r.right-t.x;else{const j=Math.min(r.right-t.x+r.left,t.x),Z=this._lastBoundingBoxSize.width;S=2*j,k=t.x-j,S>Z&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-Z/2)}return{top:h,left:k,bottom:m,right:V,width:S,height:l}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,h=this._overlayRef.getConfig().maxWidth;o.height=ai(r.height),o.top=ai(r.top),o.bottom=ai(r.bottom),o.width=ai(r.width),o.left=ai(r.left),o.right=ai(r.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(o.maxHeight=ai(l)),h&&(o.maxWidth=ai(h))}this._lastBoundingBoxSize=r,a_(this._boundingBox.style,o)}_resetBoundingBoxStyles(){a_(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){a_(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},o=this._hasExactPosition(),l=this._hasFlexibleDimensions,h=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();a_(r,this._getExactOverlayY(e,t,S)),a_(r,this._getExactOverlayX(e,t,S))}else r.position="static";let m="",b=this._getOffset(e,"x"),w=this._getOffset(e,"y");b&&(m+=`translateX(${b}px) `),w&&(m+=`translateY(${w}px)`),r.transform=m.trim(),h.maxHeight&&(o?r.maxHeight=ai(h.maxHeight):l&&(r.maxHeight="")),h.maxWidth&&(o?r.maxWidth=ai(h.maxWidth):l&&(r.maxWidth="")),a_(this._pane.style,r)}_getExactOverlayY(t,e,r){let o={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r));let h=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return l.y-=h,"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":o.top=ai(l.y),o}_getExactOverlayX(t,e,r){let h,o={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,r)),h=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===h?o.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":o.left=ai(l.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dN(t,r),isOriginOutsideView:kR(t,r),isOverlayClipped:dN(e,r),isOverlayOutsideView:kR(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,o)=>r-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&dS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function a_(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function gN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(X2);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _N(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const yN="cdk-global-overlay-wrapper";class eU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(yN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:l,maxWidth:h,maxHeight:m}=r,b=!("100%"!==o&&"100vw"!==o||h&&"100%"!==h&&"100vw"!==h),w=!("100%"!==l&&"100vh"!==l||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=b?"0":this._leftOffset,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,b?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(yN),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let tU=(()=>{class n{constructor(e,r,o,l){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=l}global(){return new eU}flexibleConnectedTo(e){return new mN(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(oN),c.LFG(J),c.LFG(li),c.LFG(fN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nU=0,g0=(()=>{class n{constructor(e,r,o,l,h,m,b,w,S,k,V){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=m,this._ngZone=b,this._document=w,this._directionality=S,this._location=k,this._outsideClickDispatcher=V}create(e){const r=this._createHostElement(),o=this._createPaneElement(r),l=this._createPortalOutlet(o),h=new RR(e);return h.direction=h.direction||this._directionality.value,new J2(l,r,o,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+nU++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new $2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Z2),c.LFG(fN),c.LFG(c._Vd),c.LFG(tU),c.LFG(K2),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(J),c.LFG(r_),c.LFG(ze),c.LFG(Q2))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sU={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[g0],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let vN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[g0,sU],imports:[[u0,xR,aN],aN]}),n})();const oU=["mat-button",""],aU=["*"],cU=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],uU=i_(RB(MP(class{constructor(n){this._elementRef=n}})));let bb=(()=>{class n extends uU{constructor(e,r,o){super(e),this._focusMonitor=r,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of cU)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(wP),c.Y36(Fh,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&c.Gf(LP,5),2&e){let o;c.iGM(o=c.CRH())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(c.uIk("disabled",r.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:oU,ngContentSelectors:aU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&e&&(c.xp6(2),c.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),c.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[LP],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),OR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$B,Si],Si]}),n})();const bN=new Set;let Cb,dU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):fU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!bN.has(n))try{Cb||(Cb=document.createElement("style"),Cb.setAttribute("type","text/css"),document.head.appendChild(Cb)),Cb.sheet&&(Cb.sheet.insertRule(`@media ${n} {body{ }}`,0),bN.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pU=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new gt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return CN(dS(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let l=La(CN(dS(e)).map(h=>this._registerQuery(h).observable));return l=Rr(l.pipe((0,Zr.q)(1)),l.pipe(aP(1),gR(0))),l.pipe((0,Ye.U)(h=>{const m={matches:!1,breakpoints:{}};return h.forEach(({matches:b,query:w})=>{m.matches=m.matches||b,m.breakpoints[w]=b}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),l={observable:new vn.y(h=>{const m=b=>this._zone.run(()=>h.next(b));return r.addListener(m),()=>{r.removeListener(m)}}).pipe(_i(r),(0,Ye.U)(({matches:h})=>({query:e,matches:h})),Pu(this._destroySubject)),mql:r};return this._queries.set(e,l),l}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(dU),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CN(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function gU(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"button",2),c.NdJ("click",function(){return c.CHM(e),c.oxw().action()}),c._uU(2),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(2),c.Oqu(e.data.action)}}function _U(n,t){}const EN=new c.OlP("MatSnackBarData");class DS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const yU=Math.pow(2,31)-1;class PR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new gt.x,this._afterOpened=new gt.x,this._onAction=new gt.x,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,yU))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let vU=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(PR),c.Y36(EN))},n.\u0275cmp=c.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,r){1&e&&(c.TgZ(0,"span"),c._uU(1),c.qZA(),c.YNc(2,gU,3,1,"div",0)),2&e&&(c.xp6(1),c.Oqu(r.data.message),c.xp6(1),c.Q6J("ngIf",r.hasAction))},directives:[xr,bb],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const bU={snackBarState:fb("state",[Ap("void, hidden",us({transform:"scale(0.8)",opacity:0})),Ap("visible",us({transform:"scale(1)",opacity:1})),hc("* => visible",Ph("150ms cubic-bezier(0, 0, 0.2, 1)")),hc("* => void, * => hidden",Ph("75ms cubic-bezier(0.4, 0.0, 1, 1)",us({opacity:0})))])};let CU=(()=>{class n extends MR{constructor(e,r,o,l,h){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=l,this.snackBarConfig=h,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new gt.x,this._onExit=new gt.x,this._onEnter=new gt.x,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:r,toState:o}=e;if(("void"===o&&"void"!==r||"hidden"===o)&&this._completeExit(),"visible"===o){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Zr.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(o=>e.classList.add(o)):e.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(li),c.Y36(DS))},n.\u0275cmp=c.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,r){if(1&e&&c.Gf(wS,7),2&e){let o;c.iGM(o=c.CRH())&&(r._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,r){1&e&&c.WFA("@state.done",function(l){return r.onAnimationEnd(l)}),2&e&&c.d8E("@state",r._animationState)},features:[c.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.YNc(1,_U,0,0,"ng-template",1),c.qZA(),c._UZ(2,"div")),2&e&&(c.xp6(2),c.uIk("aria-live",r._live)("role",r._role))},directives:[wS],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[bU.snackBarState]}}),n})(),NR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[vN,xR,ys,OR,Si],Si]}),n})();const EU=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new DS}});let DU=(()=>{class n{constructor(e,r,o,l,h,m){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=l,this._parentSnackBar=h,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=vU,this.snackBarContainerComponent=CU,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){const l=qe(qe({},this._defaultConfig),o);return l.data={message:e,action:r},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const l=c.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:DS,useValue:r}]}),h=new m0(this.snackBarContainerComponent,r.viewContainerRef,l),m=e.attach(h);return m.instance.snackBarConfig=r,m.instance}_attach(e,r){const o=qe(qe(qe({},new DS),this._defaultConfig),r),l=this._createOverlay(o),h=this._attachSnackBarContainer(l,o),m=new PR(h,l);if(e instanceof c.Rgc){const b=new lN(e,null,{$implicit:o.data,snackBarRef:m});m.instance=h.attachTemplatePortal(b)}else{const b=this._createInjector(o,m),w=new m0(e,void 0,b),S=h.attachComponentPortal(w);m.instance=S.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Pu(l.detachments())).subscribe(b=>{l.overlayElement.classList.toggle(this.handsetCssClass,b.matches)}),o.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(m,o),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new RR;r.direction=e.direction;let o=this._overlay.position().global();const l="rtl"===e.direction,h="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,m=!h&&"center"!==e.horizontalPosition;return h?o.left("0"):m?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){return c.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:PR,useValue:r},{provide:EN,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(g0),c.LFG(EP),c.LFG(c.zs3),c.LFG(pU),c.LFG(n,12),c.LFG(EU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:NR}),n})(),wN=(()=>{class n{constructor(e){this._snackBar=e,this.config={duration:5e3,horizontalPosition:"center",verticalPosition:"top"}}openSnackBar(e,r){this._snackBar.open(e,r,this.config)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(DU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU=["*",[["mat-toolbar-row"]]],AU=["*","mat-toolbar-row"],TU=i_(class{constructor(n){this._elementRef=n}});let DN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),IN=(()=>{class n extends TU{constructor(e,r,o){super(e),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(li),c.Y36(J))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,r,o){if(1&e&&c.Suo(o,DN,5),2&e){let l;c.iGM(l=c.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,r){2&e&&c.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:AU,decls:2,vars:0,template:function(e,r){1&e&&(c.F$t(IU),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),AN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Si],Si]}),n})();function SU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",5),c.TgZ(2,"h1"),c._uU(3),c.qZA(),c.qZA(),c.BQk()),2&n){const e=t.ngIf;c.xp6(3),c.Oqu(e)}}function MU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",11),c.TgZ(2,"h2"),c._uU(3,"Tema"),c.qZA(),c._uU(4),c.qZA(),c.BQk()),2&n){const e=t.ngIf;c.xp6(4),c.hij(" ",e," ")}}function xU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",12),c.TgZ(2,"h2"),c._uU(3,"Texto Base"),c.qZA(),c._uU(4),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(4),c.hij(" ",e.bosquejo.textoBase," ")}}function kU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"li"),c._uU(2),c.qZA(),c.BQk()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e," ")}}function RU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"li"),c._uU(2),c.qZA(),c.BQk()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e," ")}}function OU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"li"),c._uU(2),c.TgZ(3,"ul"),c.YNc(4,RU,3,1,"ng-container",7),c.qZA(),c.qZA(),c.BQk()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e.punto," "),c.xp6(2),c.Q6J("ngForOf",e.incisos)}}function PU(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"li"),c._uU(2),c.qZA(),c.BQk()),2&n){const e=t.$implicit;c.xp6(2),c.hij(" ",e," ")}}function NU(n,t){if(1&n&&(c.ynx(0),c.YNc(1,MU,5,1,"ng-container",0),c.YNc(2,xU,5,1,"ng-container",0),c.TgZ(3,"div",6),c.TgZ(4,"h2"),c._uU(5,"Introducci\xf3n"),c.qZA(),c.TgZ(6,"ul"),c.YNc(7,kU,3,1,"ng-container",7),c.qZA(),c.qZA(),c.TgZ(8,"div",8),c.TgZ(9,"h2"),c._uU(10,"Desarrollo"),c.qZA(),c.TgZ(11,"h3"),c._uU(12),c.qZA(),c.TgZ(13,"ol"),c.YNc(14,OU,5,2,"ng-container",7),c.qZA(),c.qZA(),c.TgZ(15,"div",9),c.TgZ(16,"h2"),c._uU(17,"Conclusi\xf3n"),c.qZA(),c.TgZ(18,"ul"),c.YNc(19,PU,3,1,"ng-container",7),c.qZA(),c.qZA(),c.TgZ(20,"div",10),c.TgZ(21,"h2"),c._uU(22,"Llamado"),c.qZA(),c._uU(23),c.qZA(),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngIf",e.bosquejo.tema),c.xp6(1),c.Q6J("ngIf",e.bosquejo.textoBase),c.xp6(5),c.Q6J("ngForOf",e.bosquejo.introduccion),c.xp6(5),c.Oqu(e.bosquejo.desarrollo.tituloDesarrollo),c.xp6(2),c.Q6J("ngForOf",e.bosquejo.desarrollo.secciones),c.xp6(5),c.Q6J("ngForOf",e.bosquejo.conclusion),c.xp6(4),c.hij(" ",e.bosquejo.llamado," ")}}const FU=function(n){return["/form","editar",n]};let LU=(()=>{class n{constructor(e,r,o,l){this.route=e,this.bosquejoService=r,this.snackBarService=o,this.router=l,this.bosquejo=this.route.snapshot.data.bosquejo}ngOnInit(){}onDeleteBosquejo(e){this.bosquejoService.eliminarBosquejo(e.id).pipe((0,Xt.b)(()=>{this.snackBarService.openSnackBar("Bosquejo eliminado correctamente"),this.router.navigateByUrl("/preview")})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Nr),c.Y36(ku),c.Y36(wN),c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-bosquejo"]],decls:12,vars:5,consts:[[4,"ngIf"],[1,"spacer"],["aria-hidden","false","aria-label","Delete",1,"actions",3,"click"],["aria-hidden","false","aria-label","Edit",1,"actions",3,"routerLink"],["aria-hidden","false","aria-label","Download",1,"actions"],[1,"elemento","t\xedtulo"],[1,"elemento","introduccion"],[4,"ngFor","ngForOf"],[1,"elemento","desarrollo"],[1,"elemento","conclusion"],[1,"elemento","llamado"],[1,"elemento","tema"],[1,"elemento","texto-base"]],template:function(e,r){1&e&&(c.TgZ(0,"mat-toolbar"),c.TgZ(1,"mat-toolbar-row"),c.YNc(2,SU,4,1,"ng-container",0),c._UZ(3,"span",1),c.TgZ(4,"mat-icon",2),c.NdJ("click",function(){return r.onDeleteBosquejo(r.bosquejo)}),c._uU(5,"delete"),c.qZA(),c.TgZ(6,"mat-icon",3),c._uU(7,"edit"),c.qZA(),c.TgZ(8,"mat-icon",4),c._uU(9,"download"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"mat-card"),c.YNc(11,NU,24,7,"ng-container",0),c.qZA()),2&e&&(c.xp6(2),c.Q6J("ngIf",r.bosquejo.titulo),c.xp6(4),c.Q6J("routerLink",c.VKq(3,FU,r.bosquejo.id)),c.xp6(5),c.Q6J("ngIf",r.bosquejo))},directives:[IN,DN,xr,vS,$l,wR,ms],styles:[".bosquejo-container[_ngcontent-%COMP%]{background-color:#cbcbcb}.elemento[_ngcontent-%COMP%]{margin:20px}.elemento[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{margin-right:20px}.actions[_ngcontent-%COMP%]:hover{color:#c4ddf6;cursor:pointer}"]}),n})(),TN=(()=>{class n{constructor(e){this.bosquejoService=e}resolve(e,r){const o=e.paramMap.get("id");return o?this.bosquejoService.cargarBosquejo(o):Xe(void 0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ku))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VU=["connectionContainer"],BU=["inputContainer"],UU=["label"];function jU(n,t){1&n&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15),c._UZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15),c._UZ(7,"div",16),c._UZ(8,"div",17),c.qZA(),c.BQk())}function HU(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.Hsn(1,1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function qU(n,t){if(1&n&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw(2);c.xp6(3),c.Oqu(e._control.placeholder)}}function $U(n,t){1&n&&c.Hsn(0,3,["*ngSwitchCase","true"])}function zU(n,t){1&n&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function GU(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(e),c.oxw().updateOutlineGap()}),c.YNc(2,qU,4,1,"ng-container",12),c.YNc(3,$U,1,0,"ng-content",12),c.YNc(4,zU,2,0,"span",22),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),c.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),c.uIk("for",e._control.id)("aria-owns",e._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function WU(n,t){1&n&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function ZU(n,t){if(1&n&&(c.TgZ(0,"div",25),c._UZ(1,"span",26),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function YU(n,t){if(1&n&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState)}}function KU(n,t){if(1&n&&(c.TgZ(0,"div",30),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Q6J("id",e._hintLabelId),c.xp6(1),c.Oqu(e.hintLabel)}}function QU(n,t){if(1&n&&(c.TgZ(0,"div",27),c.YNc(1,KU,2,2,"div",28),c.Hsn(2,6),c._UZ(3,"div",29),c.Hsn(4,7),c.qZA()),2&n){const e=c.oxw();c.Q6J("@transitionMessages",e._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",e.hintLabel)}}const JU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],XU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],ej=new c.OlP("MatError"),tj={transitionMessages:fb("transitionMessages",[Ap("enter",us({opacity:1,transform:"translateY(0%)"})),hc("void => enter",[us({opacity:0,transform:"translateY(-5px)"}),Ph("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let IS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})();const nj=new c.OlP("MatHint");let AS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-label"]]}),n})(),rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ij=new c.OlP("MatPrefix"),SN=new c.OlP("MatSuffix");let sj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:SN,useExisting:n}])]}),n})(),MN=0;const aj=i_(class{constructor(n){this._elementRef=n}},"primary"),lj=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FR=new c.OlP("MatFormField");let kN=(()=>{class n extends aj{constructor(e,r,o,l,h,m,b){super(e),this._changeDetectorRef=r,this._dir=o,this._defaults=l,this._platform=h,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new gt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+MN++,this._labelId="mat-form-field-label-"+MN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=zn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(_i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pu(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pu(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,il.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(_i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(_i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pu(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,bS(this._label.nativeElement,"transitionend").pipe((0,Zr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,o=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,o=0;const l=this._connectionContainerRef.nativeElement,h=l.querySelectorAll(".mat-form-field-outline-start"),m=l.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const b=l.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(b),S=e.children,k=this._getStartEnd(S[0].getBoundingClientRect());let V=0;for(let j=0;j<S.length;j++)V+=S[j].offsetWidth;r=Math.abs(k-w)-5,o=V>0?.75*V+10:0}for(let b=0;b<h.length;b++)h[b].style.width=`${r}px`;for(let b=0;b<m.length;b++)m[b].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(r_,8),c.Y36(lj,8),c.Y36(li),c.Y36(c.R0b),c.Y36(Fh,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,o){if(1&e&&(c.Suo(o,IS,5),c.Suo(o,IS,7),c.Suo(o,AS,5),c.Suo(o,AS,7),c.Suo(o,rj,5),c.Suo(o,ej,5),c.Suo(o,nj,5),c.Suo(o,ij,5),c.Suo(o,SN,5)),2&e){let l;c.iGM(l=c.CRH())&&(r._controlNonStatic=l.first),c.iGM(l=c.CRH())&&(r._controlStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildNonStatic=l.first),c.iGM(l=c.CRH())&&(r._labelChildStatic=l.first),c.iGM(l=c.CRH())&&(r._placeholderChild=l.first),c.iGM(l=c.CRH())&&(r._errorChildren=l),c.iGM(l=c.CRH())&&(r._hintChildren=l),c.iGM(l=c.CRH())&&(r._prefixChildren=l),c.iGM(l=c.CRH())&&(r._suffixChildren=l)}},viewQuery:function(e,r){if(1&e&&(c.Gf(VU,7),c.Gf(BU,5),c.Gf(UU,5)),2&e){let o;c.iGM(o=c.CRH())&&(r._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(r._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(r._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&c.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:FR,useExisting:n}]),c.qOj],ngContentSelectors:XU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(c.F$t(JU),c.TgZ(0,"div",0),c.TgZ(1,"div",1,2),c.NdJ("click",function(l){return r._control.onContainerClick&&r._control.onContainerClick(l)}),c.YNc(3,jU,9,0,"ng-container",3),c.YNc(4,HU,2,1,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,GU,5,16,"label",8),c.qZA(),c.qZA(),c.YNc(10,WU,2,0,"div",9),c.qZA(),c.YNc(11,ZU,2,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,YU,2,1,"div",12),c.YNc(14,QU,5,2,"div",13),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngIf","outline"==r.appearance),c.xp6(1),c.Q6J("ngIf",r._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",r._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",r._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=r.appearance),c.xp6(1),c.Q6J("ngSwitch",r._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[xr,Ca,Gr,XV],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tj.transitionMessages]},changeDetection:0}),n})(),RN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ys,Si,pP],Si]}),n})();const ON=hS({passive:!0});let cj=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Es.E;const r=Vh(e),o=this._monitoredElements.get(r);if(o)return o.subject;const l=new gt.x,h="cdk-text-field-autofilled",m=b=>{"cdk-text-field-autofill-start"!==b.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===b.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>l.next({target:b.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",m,ON),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",m,ON)}}),l}stopMonitoring(e){const r=Vh(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(li),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[l0]]}),n})(),NN=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),l_=(()=>{class n extends NN{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const pc=new c.OlP("NgValueAccessor"),dj={provide:pc,useExisting:(0,c.Gpc)(()=>_0),multi:!0},fj=new c.OlP("CompositionEventMode");let _0=(()=>{class n extends NN{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(fj,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&c.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[c._Bn([dj]),c.qOj]}),n})();function Rp(n){return null==n||0===n.length}function LN(n){return null!=n&&"number"==typeof n.length}const fs=new c.OlP("NgValidators"),Op=new c.OlP("NgAsyncValidators"),pj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _a{static min(t){return function(n){return t=>{if(Rp(t.value)||Rp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Rp(t.value)||Rp(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return UN(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Rp(n.value)||pj.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Rp(t.value)||!LN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>LN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return y0;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Rp(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return QN(t)}static composeAsync(t){return JN(t)}}function UN(n){return Rp(n.value)?{required:!0}:null}function y0(n){return null}function GN(n){return null!=n}function WN(n){const t=(0,c.QGY)(n)?(0,yn.D)(n):n;return(0,c.CqO)(t),t}function ZN(n){let t={};return n.forEach(e=>{t=null!=e?qe(qe({},t),e):t}),0===Object.keys(t).length?null:t}function YN(n,t){return t.map(e=>e(n))}function KN(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function QN(n){if(!n)return null;const t=n.filter(GN);return 0==t.length?null:function(e){return ZN(YN(e,t))}}function LR(n){return null!=n?QN(KN(n)):null}function JN(n){if(!n)return null;const t=n.filter(GN);return 0==t.length?null:function(e){return jP(YN(e,t).map(WN)).pipe((0,Ye.U)(ZN))}}function VR(n){return null!=n?JN(KN(n)):null}function XN(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eF(n){return n._rawValidators}function tF(n){return n._rawAsyncValidators}function BR(n){return n?Array.isArray(n)?n:[n]:[]}function TS(n,t){return Array.isArray(n)?n.includes(t):n===t}function nF(n,t){const e=BR(t);return BR(n).forEach(o=>{TS(e,o)||e.push(o)}),e}function rF(n,t){return BR(t).filter(e=>!TS(n,e))}class iF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=LR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=VR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class eo extends iF{get formDirective(){return null}get path(){return null}}class Nu extends iF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sF{constructor(t){this._cd=t}is(t){var e,r,o;return"submitted"===t?!!(null==(e=this._cd)?void 0:e.submitted):!!(null==(o=null==(r=this._cd)?void 0:r.control)?void 0:o[t])}}let UR=(()=>{class n extends sF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Nu,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),oF=(()=>{class n extends sF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(eo,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function MS(n,t){return[...t.path,n]}function v0(n,t){qR(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aF(n,t)})}(n,t),function(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function xS(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),RS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qR(n,t){const e=eF(n);null!==t.validator?n.setValidators(XN(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=tF(n);null!==t.asyncValidator?n.setAsyncValidators(XN(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();kS(t._rawValidators,o),kS(t._rawAsyncValidators,o)}function RS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=eF(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.validator);l.length!==o.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const o=tF(n);if(Array.isArray(o)&&o.length>0){const l=o.filter(h=>h!==t.asyncValidator);l.length!==o.length&&(e=!0,n.setAsyncValidators(l))}}}const r=()=>{};return kS(t._rawValidators,r),kS(t._rawAsyncValidators,r),e}function aF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lF(n,t){qR(n,t)}function $R(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function cF(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function zR(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(l=>{l.constructor===_0?e=l:function(n){return Object.getPrototypeOf(n.constructor)===l_}(l)?r=l:o=l}),o||r||e||null}function OS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const b0="VALID",PS="INVALID",Eb="PENDING",C0="DISABLED";function GR(n){return(ZR(n)?n.validators:n)||null}function uF(n){return Array.isArray(n)?LR(n):n||null}function WR(n,t){return(ZR(t)?t.asyncValidators:n)||null}function dF(n){return Array.isArray(n)?VR(n):n||null}function ZR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class YR{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=uF(this._rawValidators),this._composedAsyncValidatorFn=dF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===b0}get invalid(){return this.status===PS}get pending(){return this.status==Eb}get disabled(){return this.status===C0}get enabled(){return this.status!==C0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=uF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=dF(t)}addValidators(t){this.setValidators(nF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rF(t,this._rawAsyncValidators))}hasValidator(t){return TS(this._rawValidators,t)}hasAsyncValidator(t){return TS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eb,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=C0,this.errors=null,this._forEachChild(r=>{r.disable(ui(qe({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ui(qe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable(ui(qe({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ui(qe({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===Eb)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?C0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eb,this._hasOwnPendingAsyncValidator=!0;const e=WN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=r instanceof E0?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof KR&&r.at(o)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?C0:this.errors?PS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eb)?Eb:this._anyControlsHaveStatus(PS)?PS:b0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ZR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wb extends YR{constructor(t=null,e,r){super(GR(e),WR(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){OS(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){OS(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class E0 extends YR{constructor(t,e,r){super(GR(e),WR(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof wb?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,l)=>{r=e(r,o,l)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class KR extends YR{constructor(t,e,r){super(GR(e),WR(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wb?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Tj={provide:eo,useExisting:(0,c.Gpc)(()=>D0)},w0=(()=>Promise.resolve(null))();let D0=(()=>{class n extends eo{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new E0({},LR(e),VR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){w0.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),v0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){w0.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),OS(this._directives,e)})}addFormGroup(e){w0.then(()=>{const r=this._findContainer(e.path),o=new E0({});lF(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){w0.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){w0.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fs,10),c.Y36(Op,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Tj]),c.qOj]}),n})(),hF=(()=>{class n extends eo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return MS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Mj={provide:Nu,useExisting:(0,c.Gpc)(()=>QR)},pF=(()=>Promise.resolve(null))();let QR=(()=>{class n extends Nu{constructor(e,r,o,l){super(),this.control=new wb,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=zR(0,l)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),$R(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?MS(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){v0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){pF.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=""===r||r&&"false"!==r;pF.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(eo,9),c.Y36(fs,10),c.Y36(Op,10),c.Y36(pc,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([Mj]),c.qOj,c.TTD]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const JR=new c.OlP("NgModelWithFormControlWarning"),Nj={provide:eo,useExisting:(0,c.Gpc)(()=>Db)};let Db=(()=>{class n extends eo{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(RS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return v0(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){xS(e.control||null,e,!1),OS(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,cF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(xS(r||null,e),o instanceof wb&&(v0(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);lF(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return RS(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qR(this.form,this),this._oldForm&&RS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(fs,10),c.Y36(Op,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&c.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Nj]),c.qOj,c.TTD]}),n})();const Fj={provide:eo,useExisting:(0,c.Gpc)(()=>NS)};let NS=(()=>{class n extends hF{constructor(e,r,o){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(o)}_checkParentType(){CF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(eo,13),c.Y36(fs,10),c.Y36(Op,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([Fj]),c.qOj]}),n})();const Lj={provide:eo,useExisting:(0,c.Gpc)(()=>XR)};let XR=(()=>{class n extends eo{constructor(e,r,o){super(),this._parent=e,this._setValidators(r),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return MS(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){CF(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(eo,13),c.Y36(fs,10),c.Y36(Op,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([Lj]),c.qOj]}),n})();function CF(n){return!(n instanceof NS||n instanceof Db||n instanceof XR)}const Vj={provide:Nu,useExisting:(0,c.Gpc)(()=>eO)};let eO=(()=>{class n extends Nu{constructor(e,r,o,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=zR(0,l)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),$R(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return MS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(c.Y36(eo,13),c.Y36(fs,10),c.Y36(Op,10),c.Y36(pc,10),c.Y36(JR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Vj]),c.qOj,c.TTD]}),n})();const Wj={provide:fs,useExisting:(0,c.Gpc)(()=>LS),multi:!0};let LS=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?UN(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&c.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[c._Bn([Wj])]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[_F]]}),n})(),Xj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[OF]}),n})(),PF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:JR,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[OF]}),n})(),tH=(()=>{class n{group(e,r=null){const o=this._reduceControls(e);let m,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new E0(o,{asyncValidators:h,updateOn:m,validators:l})}control(e,r,o){return new wb(e,r,o)}array(e,r,o){const l=e.map(h=>this._createControl(h));return new KR(l,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof wb||e instanceof E0||e instanceof KR?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:PF}),n})();const NF=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),nH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let rH=0;const iH=xP(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let FF=(()=>{class n extends iH{constructor(e,r,o,l,h,m,b,w,S,k){super(m,l,h,o),this._elementRef=e,this._platform=r,this._autofillMonitor=w,this._formField=k,this._uid="mat-input-"+rH++,this.focused=!1,this.stateChanges=new gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Z=>cP().has(Z));const V=this._elementRef.nativeElement,j=V.nodeName.toLowerCase();this._inputValueAccessor=b||V,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&S.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",Z=>{const pe=Z.target;!pe.value&&0===pe.selectionStart&&0===pe.selectionEnd&&(pe.setSelectionRange(1,1),pe.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=zn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,r,o,l;return null!=(l=null!=(o=this._required)?o:null==(r=null==(e=this.ngControl)?void 0:e.control)?void 0:r.hasValidator(_a.required))&&l}set required(e){this._required=zn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&cP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=zn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,o;const e=(null==(o=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:o.call(r))?null:this.placeholder;if(e!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=e,e?l.setAttribute("placeholder",e):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){nH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(li),c.Y36(Nu,10),c.Y36(D0,8),c.Y36(Db,8),c.Y36(mS),c.Y36(NF,10),c.Y36(cj),c.Y36(c.R0b),c.Y36(FR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&c.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(c.Ikx("disabled",r.disabled)("required",r.required),c.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),c.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[c._Bn([{provide:IS,useExisting:n}]),c.qOj,c.TTD]}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mS],imports:[[PN,RN,Si],PN,RN]}),n})();class oH{constructor(t=!1,e,r=!0){this._multiple=t,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gt.x,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const aH=["*"],LF=new c.OlP("MatChipRemove"),VF=new c.OlP("MatChipAvatar"),BF=new c.OlP("MatChipTrailingIcon");class lH{constructor(t){this._elementRef=t}}const cH=OB(i_(MP(lH),"primary"),-1);let I0=(()=>{class n extends cH{constructor(e,r,o,l,h,m,b,w){super(e),this._ngZone=r,this._changeDetectorRef=h,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new gt.x,this._onBlur=new gt.x,this.selectionChange=new c.vpe,this.destroyed=new c.vpe,this.removed=new c.vpe,this._addHostClassName(),this._chipRippleTarget=m.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new NP(this,r,this._chipRippleTarget,o),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=l||{},this._animationsDisabled="NoopAnimations"===b,this.tabIndex=null!=w&&parseInt(w)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const r=zn(e);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=zn(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=zn(e)}get removable(){return this._removable}set removable(e){this._removable=zn(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(e)||r.tagName.toLowerCase()===e?r.classList.add(e):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled?e.preventDefault():e.stopPropagation()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Zr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(li),c.Y36(FP,8),c.Y36(c.sBO),c.Y36(J),c.Y36(Fh,8),c.$8M("tabindex"))},n.\u0275dir=c.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,r,o){if(1&e&&(c.Suo(o,VF,5),c.Suo(o,BF,5),c.Suo(o,LF,5)),2&e){let l;c.iGM(l=c.CRH())&&(r.avatar=l.first),c.iGM(l=c.CRH())&&(r.trailingIcon=l.first),c.iGM(l=c.CRH())&&(r.removeIcon=l.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,r){1&e&&c.NdJ("click",function(l){return r._handleClick(l)})("keydown",function(l){return r._handleKeydown(l)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&e&&(c.uIk("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),c.ekj("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[c.qOj]}),n})(),rO=(()=>{class n{constructor(e,r){this._parentChip=e,"BUTTON"===r.nativeElement.nodeName&&r.nativeElement.setAttribute("type","button")}_handleClick(e){const r=this._parentChip;r.removable&&!r.disabled&&r.remove(),e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(I0),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,r){1&e&&c.NdJ("click",function(l){return r._handleClick(l)})},features:[c._Bn([{provide:LF,useExisting:n}])]}),n})();const UF=new c.OlP("mat-chips-default-options"),hH=xP(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let fH=0;class pH{constructor(t,e){this.source=t,this.value=e}}let iO=(()=>{class n extends hH{constructor(e,r,o,l,h,m,b){super(m,l,h,b),this._elementRef=e,this._changeDetectorRef=r,this._dir=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new gt.x,this._uid="mat-chip-list-"+fH++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(w,S)=>w===S,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var e,r;return this.multiple?(null==(e=this._selectionModel)?void 0:e.selected)||[]:null==(r=this._selectionModel)?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=zn(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var e,r,o,l;return null!=(l=null!=(o=this._required)?o:null==(r=null==(e=this.ngControl)?void 0:e.control)?void 0:r.hasValidator(_a.required))&&l}set required(e){this._required=zn(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=zn(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=zn(e),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,il.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,il.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,il.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,il.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new rB(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Pu(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(Pu(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(_i(null),Pu(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new oH(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const r=e.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,r=!0){if(this._clearSelection(),this.chips.forEach(o=>o.deselect()),Array.isArray(e))e.forEach(o=>this._selectValue(o,r)),this._sortValues();else{const o=this._selectValue(e,r);o&&r&&this._keyManager.setActiveItem(o)}}_selectValue(e,r=!0){const o=this.chips.find(l=>null!=l.value&&this._compareWith(l.value,e));return o&&(r?o.selectViaInteraction():o.select(),this._selectionModel.select(o)),o}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(r=>{r!==e&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let r=null;r=Array.isArray(this.selected)?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=r,this.change.emit(new pH(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let r=this.chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const r=e.chip,o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&r._hasFocus&&(this._lastDestroyedChipIndex=o)})}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(r_,8),c.Y36(D0,8),c.Y36(Db,8),c.Y36(mS),c.Y36(Nu,10))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(e,r,o){if(1&e&&c.Suo(o,I0,5),2&e){let l;c.iGM(l=c.CRH())&&(r.chips=l)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,r){1&e&&c.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(l){return r._keydown(l)}),2&e&&(c.Ikx("id",r._uid),c.uIk("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),c.ekj("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[c._Bn([{provide:IS,useExisting:n}]),c.qOj],ngContentSelectors:aH,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,r){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),mH=0,sO=(()=>{class n{constructor(e,r){this._elementRef=e,this._defaultOptions=r,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new c.vpe,this.placeholder="",this.id="mat-chip-list-input-"+mH++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(e){e&&(this._chipList=e,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(e){this._addOnBlur=zn(e)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(e){this._disabled=zn(e)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(e){if(e){if(9===e.keyCode&&!_b(e,"shiftKey")&&this._chipList._allowFocusEscape(),8===e.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void e.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(e)}_keyup(e){!this._focusLastChipOnBackspace&&8===e.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,e.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(e){!this.inputElement.value&&!!e&&this._chipList._keydown(e),(!e||this._isSeparatorKey(e))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),null==e||e.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(e){this.inputElement.focus(e)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(e){return!_b(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(UF))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,r){1&e&&c.NdJ("keydown",function(l){return r._keydown(l)})("keyup",function(l){return r._keyup(l)})("blur",function(){return r._blur()})("focus",function(){return r._focus()})("input",function(){return r._onInput()}),2&e&&(c.Ikx("id",r.id),c.uIk("disabled",r.disabled||null)("placeholder",r.placeholder||null)("aria-invalid",r._chipList&&r._chipList.ngControl?r._chipList.ngControl.invalid:null)("aria-required",r._chipList&&r._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[c.TTD]}),n})(),gH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mS,{provide:UF,useValue:{separatorKeyCodes:[13]}}],imports:[[Si]]}),n})();function _H(n,t){1&n&&(c.TgZ(0,"button",13),c.TgZ(1,"mat-icon"),c._uU(2,"cancel"),c.qZA(),c.qZA())}function yH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",11),c.NdJ("removed",function(){const l=c.CHM(e).$implicit;return c.oxw(2).remove(l)}),c._uU(1),c.YNc(2,_H,3,0,"button",12),c.qZA()}if(2&n){const e=t.$implicit,r=c.oxw(2);c.Q6J("selectable",r.selectable)("removable",r.removable),c.xp6(1),c.hij(" ",e," "),c.xp6(1),c.Q6J("ngIf",r.removable)}}function vH(n,t){if(1&n&&(c.ynx(0),c.YNc(1,yH,3,4,"mat-chip",10),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.incisos)}}let jF=(()=>{class n{constructor(){this.deleteEvent=new c.vpe,this.puntoModel="",this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.incisos=[],this.separatorKeysCodes=[13,188]}ngOnInit(){}delete(){this.deleteEvent.emit("borrar")}add(e){const r=(e.value||"").trim();r&&this.incisos.push(r),e.chipInput.clear()}remove(e){const r=this.incisos.indexOf(e);r>=0&&this.incisos.splice(r,1)}ngOnDestroy(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-puntos-desarrollo"]],inputs:{puntoModel:["punto","puntoModel"],incisos:"incisos"},outputs:{deleteEvent:"delete"},decls:16,vars:5,consts:[[1,"container-flex-form"],["appearance","fill",1,"input","flex-grow-1"],["type","text","matInput","",3,"ngModel","ngModelChange"],["appearance","fill",1,"input","flex-grow-2"],["aria-label","Seleccionar punto"],["chipListIncisos",""],[4,"ngIf"],["placeholder","Nuevo punto...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[1,"button-delete"],["type","button","mat-fab","","color","warn","aria-label","Example icon button with a delete icon",3,"click"],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(e,r){if(1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-form-field",1),c.TgZ(2,"mat-label"),c._uU(3,"Punto"),c.qZA(),c.TgZ(4,"input",2),c.NdJ("ngModelChange",function(l){return r.puntoModel=l}),c.qZA(),c.qZA(),c.TgZ(5,"mat-form-field",3),c.TgZ(6,"mat-label"),c._uU(7,"Incisos"),c.qZA(),c.TgZ(8,"mat-chip-list",4,5),c.YNc(10,vH,2,1,"ng-container",6),c.TgZ(11,"input",7),c.NdJ("matChipInputTokenEnd",function(l){return r.add(l)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",8),c.TgZ(13,"button",9),c.NdJ("click",function(){return r.delete()}),c.TgZ(14,"mat-icon"),c._uU(15,"clear"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e){const o=c.MAs(9);c.xp6(4),c.Q6J("ngModel",r.puntoModel),c.xp6(6),c.Q6J("ngIf",r.incisos),c.xp6(1),c.Q6J("matChipInputFor",o)("matChipInputSeparatorKeyCodes",r.separatorKeysCodes)("matChipInputAddOnBlur",r.addOnBlur)}},directives:[kN,AS,FF,_0,UR,QR,iO,xr,sO,bb,vS,ms,I0,rO],styles:[".container-flex-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.input[_ngcontent-%COMP%]{margin:5px}.button-delete[_ngcontent-%COMP%]{margin-left:15px;margin-top:25px}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}.flex-grow-2[_ngcontent-%COMP%]{flex-grow:3}"]}),n})();const bH=["mat-calendar-body",""];function CH(n,t){if(1&n&&(c.TgZ(0,"tr",2),c.TgZ(1,"td",3),c._uU(2),c.qZA(),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e.numCols),c.xp6(1),c.hij(" ",e.label," ")}}function EH(n,t){if(1&n&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),c.uIk("colspan",e._firstRowOffset),c.xp6(1),c.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function wH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",7),c.NdJ("click",function(o){const h=c.CHM(e).$implicit;return c.oxw(2)._cellClicked(h,o)}),c.TgZ(1,"div",8),c._uU(2),c.qZA(),c._UZ(3,"div",9),c.qZA()}if(2&n){const e=t.$implicit,r=t.index,o=c.oxw().index,l=c.oxw();c.Udp("width",l._cellWidth)("padding-top",l._cellPadding)("padding-bottom",l._cellPadding),c.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",l._isActiveCell(o,r))("mat-calendar-body-range-start",l._isRangeStart(e.compareValue))("mat-calendar-body-range-end",l._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",l._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",l._isComparisonBridgeStart(e.compareValue,o,r))("mat-calendar-body-comparison-bridge-end",l._isComparisonBridgeEnd(e.compareValue,o,r))("mat-calendar-body-comparison-start",l._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",l._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",l._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",l._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",l._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",l._isInPreview(e.compareValue)),c.Q6J("ngClass",e.cssClasses)("tabindex",l._isActiveCell(o,r)?0:-1),c.uIk("data-mat-row",o)("data-mat-col",r)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",l._isSelected(e.compareValue))("aria-current",l.todayValue===e.compareValue?"date":null),c.xp6(1),c.ekj("mat-calendar-body-selected",l._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",l._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",l.todayValue===e.compareValue),c.xp6(1),c.hij(" ",e.displayValue," ")}}function DH(n,t){if(1&n&&(c.TgZ(0,"tr",4),c.YNc(1,EH,2,6,"td",5),c.YNc(2,wH,4,47,"td",6),c.qZA()),2&n){const e=t.$implicit,r=t.index,o=c.oxw();c.xp6(1),c.Q6J("ngIf",0===r&&o._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",e)}}function IH(n,t){if(1&n&&(c.TgZ(0,"th",5),c.TgZ(1,"abbr",6),c._uU(2),c.qZA(),c.qZA()),2&n){const e=t.$implicit;c.uIk("aria-label",e.long),c.xp6(1),c.uIk("title",e.long),c.xp6(1),c.Oqu(e.narrow)}}const AH=["*"];function TH(n,t){}function SH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(o){return c.CHM(e),c.oxw().activeDate=o})("_userSelection",function(o){return c.CHM(e),c.oxw()._dateSelected(o)}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function MH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(o){return c.CHM(e),c.oxw().activeDate=o})("monthSelected",function(o){return c.CHM(e),c.oxw()._monthSelectedInYearView(o)})("selectedChange",function(o){return c.CHM(e),c.oxw()._goToDateInView(o,"month")}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function xH(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(o){return c.CHM(e),c.oxw().activeDate=o})("yearSelected",function(o){return c.CHM(e),c.oxw()._yearSelectedInMultiYearView(o)})("selectedChange",function(o){return c.CHM(e),c.oxw()._goToDateInView(o,"year")}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function kH(n,t){}const RH=["button"];function OH(n,t){1&n&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const PH=[[["","matDatepickerToggleIcon",""]]],NH=["[matDatepickerToggleIcon]"];let A0=(()=>{class n{constructor(){this.changes=new gt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,r){return`${e} \u2013 ${r}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oO{constructor(t,e,r,o,l={},h=t,m){this.value=t,this.displayValue=e,this.ariaLabel=r,this.enabled=o,this.cssClasses=l,this.compareValue=h,this.rawValue=m}}let Ib=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const l=this._getCellFromElement(o.target);l&&this._ngZone.run(()=>this.previewChange.emit({value:l.enabled?l:null,event:o}))}},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&o.target&&aO(o.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o}))},r.runOutsideAngular(()=>{const o=e.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,r){e.enabled&&this.selectedValueChange.emit({value:e.value,event:r})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const r=e.numCols,{rows:o,numCols:l}=this;(e.rows||r)&&(this._firstRowOffset=o&&o.length&&o[0].length?l-o[0].length:0),(e.cellAspectRatio||r||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/l+"%"),(r||!this._cellWidth)&&(this._cellWidth=100/l+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,r){let o=e*this.numCols+r;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Zr.q)(1)).subscribe(()=>{const r=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");r&&(e||(this._skipNextFocus=!0),r.focus())})})}_isRangeStart(e){return lO(e,this.startValue,this.endValue)}_isRangeEnd(e){return cO(e,this.startValue,this.endValue)}_isInRange(e){return uO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return lO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,r,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let l=this.rows[r][o-1];if(!l){const h=this.rows[r-1];l=h&&h[h.length-1]}return l&&!this._isRangeEnd(l.compareValue)}_isComparisonBridgeEnd(e,r,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let l=this.rows[r][o+1];if(!l){const h=this.rows[r+1];l=h&&h[0]}return l&&!this._isRangeStart(l.compareValue)}_isComparisonEnd(e){return cO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return uO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return lO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return cO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return uO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let r;if(aO(e)?r=e:aO(e.parentNode)&&(r=e.parentNode),r){const o=r.getAttribute("data-mat-row"),l=r.getAttribute("data-mat-col");if(o&&l)return this.rows[parseInt(o)][parseInt(l)]}return null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:bH,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,r){1&e&&(c.YNc(0,CH,3,6,"tr",0),c.YNc(1,DH,3,2,"tr",1)),2&e&&(c.Q6J("ngIf",r._firstRowOffset<r.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",r.rows))},directives:[xr,ms,zr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),n})();function aO(n){return"TD"===n.nodeName}function lO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function cO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function uO(n,t,e,r){return r&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Oo{constructor(t,e){this.start=t,this.end=e}}let Pp=(()=>{class n{constructor(e,r){this.selection=e,this._adapter=r,this._selectionChanged=new gt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,r){const o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:r,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),FH=(()=>{class n extends Pp{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ds))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const HF={provide:Pp,deps:[[new c.FiY,new c.tp0,Pp],ds],useFactory:function(n,t){return n||new FH(t)}},VS=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let qF=(()=>{class n{constructor(e,r,o,l,h){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=o,this._dir=l,this._rangeStrategy=h,this._rerenderSubscription=cr.w0.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const r=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(r,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_i(null)).subscribe(()=>this._init())}ngOnChanges(e){const r=e.comparisonStart||e.comparisonEnd;r&&!r.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const r=e.value,o=this._dateAdapter.getYear(this.activeDate),l=this._dateAdapter.getMonth(this.activeDate),h=this._dateAdapter.createDate(o,l,r);let m,b;this._selected instanceof Oo?(m=this._getDateInCurrentMonth(this._selected.start),b=this._getDateInCurrentMonth(this._selected.end)):m=b=this._getDateInCurrentMonth(this._selected),(m!==r||b!==r)&&this.selectedChange.emit(h),this._userSelection.emit({value:h,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!_b(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:r}){if(this._rangeStrategy){const l=this._rangeStrategy.createPreview(r?r.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(l.start),this._previewEnd=this._getCellCompareValue(l.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),r=this._dateAdapter.getDayOfWeekNames("narrow");let l=this._dateAdapter.getDayOfWeekNames("long").map((h,m)=>({long:h,narrow:r[m]}));this._weekdays=l.slice(e).concat(l.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),r=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,l=this._firstWeekOffset;o<e;o++,l++){7==l&&(this._weeks.push([]),l=0);const h=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),m=this._shouldEnableDate(h),b=this._dateAdapter.format(h,this._dateFormats.display.dateA11yLabel),w=this.dateClass?this.dateClass(h,"month"):void 0;this._weeks[this._weeks.length-1].push(new oO(o+1,r[o],b,m,w,this._getCellCompareValue(h),h))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,r){return!(!e||!r||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(r)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(r))}_getCellCompareValue(e){if(e){const r=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),l=this._dateAdapter.getDate(e);return new Date(r,o,l).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Oo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(s_,8),c.Y36(ds,8),c.Y36(r_,8),c.Y36(VS,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,r){if(1&e&&c.Gf(Ib,5),2&e){let o;c.iGM(o=c.CRH())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(e,r){1&e&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c.YNc(3,IH,3,3,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA(),c.qZA(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(l){return r._dateSelected(l)})("previewChange",function(l){return r._previewChanged(l)})("keyup",function(l){return r._handleCalendarBodyKeyup(l)})("keydown",function(l){return r._handleCalendarBodyKeydown(l)}),c.qZA(),c.qZA()),2&e&&(c.xp6(3),c.Q6J("ngForOf",r._weekdays),c.xp6(3),c.Q6J("label",r._monthLabel)("rows",r._weeks)("todayValue",r._todayDate)("startValue",r._rangeStart)("endValue",r._rangeEnd)("comparisonStart",r._comparisonRangeStart)("comparisonEnd",r._comparisonRangeEnd)("previewStart",r._previewStart)("previewEnd",r._previewEnd)("isRange",r._isRange)("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1))},directives:[ms,Ib],encapsulation:2,changeDetection:0}),n})(),$F=(()=>{class n{constructor(e,r,o){this._changeDetectorRef=e,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=cr.w0.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),zF(this._dateAdapter,r,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_i(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const r=this._dateAdapter.getYear(this._activeDate)-T0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,l=[];o<24;o++)l.push(r+o),4==l.length&&(this._years.push(l.map(h=>this._createCellForYear(h))),l=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const r=e.value;this.yearSelected.emit(this._dateAdapter.createDate(r,0,1));let o=this._dateAdapter.getMonth(this.activeDate),l=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(r,o,1));this.selectedChange.emit(this._dateAdapter.createDate(r,o,Math.min(this._dateAdapter.getDate(this.activeDate),l)))}_handleCalendarBodyKeydown(e){const r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-T0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-T0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return T0(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const r=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(r),l=this.dateClass?this.dateClass(r,"multi-year"):void 0;return new oO(e,o,o,this._shouldEnableYear(e),l)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Oo){const r=e.start||e.end;r&&(this._selectedYear=this._dateAdapter.getYear(r))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(ds,8),c.Y36(r_,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,r){if(1&e&&c.Gf(Ib,5),2&e){let o;c.iGM(o=c.CRH())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,r){1&e&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c._UZ(3,"th",2),c.qZA(),c.qZA(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(l){return r._yearSelected(l)})("keyup",function(l){return r._handleCalendarBodyKeyup(l)})("keydown",function(l){return r._handleCalendarBodyKeydown(l)}),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Q6J("rows",r._years)("todayValue",r._todayYear)("startValue",r._selectedYear)("endValue",r._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},directives:[Ib],encapsulation:2,changeDetection:0}),n})();function zF(n,t,e,r,o){const l=n.getYear(t),h=n.getYear(e),m=GF(n,r,o);return Math.floor((l-m)/24)===Math.floor((h-m)/24)}function T0(n,t,e,r){return function(n,t){return(n%24+24)%24}(n.getYear(t)-GF(n,e,r))}function GF(n,t,e){let r=0;return e?r=n.getYear(e)-24+1:t&&(r=n.getYear(t)),r}let WF=(()=>{class n{constructor(e,r,o,l){this._changeDetectorRef=e,this._dateFormats=r,this._dateAdapter=o,this._dir=l,this._rerenderSubscription=cr.w0.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let r=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(r)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(_i(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const r=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,1);this.monthSelected.emit(o);const l=this._dateAdapter.getNumDaysInMonth(o);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),r,Math.min(this._dateAdapter.getDate(this.activeDate),l)))}_handleCalendarBodyKeydown(e){const r=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(r=>r.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,r){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),l=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),h=this.dateClass?this.dateClass(o,"year"):void 0;return new oO(e,r.toLocaleUpperCase(),l,this._shouldEnableMonth(e),h)}_shouldEnableMonth(e){const r=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(r,e)||this._isYearAndMonthBeforeMinDate(r,e))return!1;if(!this.dateFilter)return!0;for(let l=this._dateAdapter.createDate(r,e,1);this._dateAdapter.getMonth(l)==e;l=this._dateAdapter.addCalendarDays(l,1))if(this.dateFilter(l))return!0;return!1}_isYearAndMonthAfterMaxDate(e,r){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),l=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&r>l}return!1}_isYearAndMonthBeforeMinDate(e,r){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),l=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&r<l}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Oo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(s_,8),c.Y36(ds,8),c.Y36(r_,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,r){if(1&e&&c.Gf(Ib,5),2&e){let o;c.iGM(o=c.CRH())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,r){1&e&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c._UZ(3,"th",2),c.qZA(),c.qZA(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(l){return r._monthSelected(l)})("keyup",function(l){return r._handleCalendarBodyKeyup(l)})("keydown",function(l){return r._handleCalendarBodyKeydown(l)}),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Q6J("label",r._yearLabel)("rows",r._months)("todayValue",r._todayMonth)("startValue",r._selectedMonth)("endValue",r._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},directives:[Ib],encapsulation:2,changeDetection:0}),n})(),qH=0,$H=(()=>{class n{constructor(e,r,o,l,h){this._intl=e,this.calendar=r,this._dateAdapter=o,this._dateFormats=l,this._buttonDescriptionId="mat-calendar-button-"+qH++,this.calendar.stateChanges.subscribe(()=>h.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const r=this._dateAdapter.getYear(this.calendar.activeDate)-T0(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=r+24-1,l=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1)),h=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return this._intl.formatYearRange(l,h)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,r){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(r):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(r):zF(this._dateAdapter,e,r,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(A0),c.Y36((0,c.Gpc)(()=>fO)),c.Y36(ds,8),c.Y36(s_,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:AH,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,r){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"button",2),c.NdJ("click",function(){return r.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA(),c.qZA(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return r.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return r.nextClicked()}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.uIk("aria-label",r.periodButtonLabel)("aria-describedby",r._buttonDescriptionId),c.xp6(1),c.uIk("id",r._buttonDescriptionId),c.xp6(1),c.Oqu(r.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==r.calendar.currentView),c.xp6(4),c.Q6J("disabled",!r.previousEnabled()),c.uIk("aria-label",r.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!r.nextEnabled()),c.uIk("aria-label",r.nextButtonLabel))},directives:[bb,DB],encapsulation:2,changeDetection:0}),n})(),fO=(()=>{class n{constructor(e,r,o,l){this._dateAdapter=r,this._dateFormats=o,this._changeDetectorRef=l,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new gt.x,this._intlChanges=e.changes.subscribe(()=>{l.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Oo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const r=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),r&&this.viewChanged.emit(r)}ngAfterContentInit(){this._calendarHeaderPortal=new m0(this.headerComponent||$H),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const r=e.minDate||e.maxDate||e.dateFilter;if(r&&!r.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const r=e.value;(this.selected instanceof Oo||r&&!this._dateAdapter.sameDate(r,this.selected))&&this.selectedChange.emit(r),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,r){this.activeDate=e,this.currentView=r}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(A0),c.Y36(ds,8),c.Y36(s_,8),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,r){if(1&e&&(c.Gf(qF,5),c.Gf(WF,5),c.Gf($F,5)),2&e){let o;c.iGM(o=c.CRH())&&(r.monthView=o.first),c.iGM(o=c.CRH())&&(r.yearView=o.first),c.iGM(o=c.CRH())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([HF]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,r){1&e&&(c.YNc(0,TH,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,SH,1,8,"mat-month-view",2),c.YNc(3,MH,1,6,"mat-year-view",3),c.YNc(4,xH,1,6,"mat-multi-year-view",4),c.qZA()),2&e&&(c.Q6J("cdkPortalOutlet",r._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",r.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},directives:[wS,AB,Ca,Gr,qF,WF,$F],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),n})();const ZF={transformPanel:fb("transformPanel",[hc("void => enter-dropdown",Ph("120ms cubic-bezier(0, 0, 0.2, 1)",t0([us({opacity:0,transform:"scale(1, 0.8)"}),us({opacity:1,transform:"scale(1, 1)"})]))),hc("void => enter-dialog",Ph("150ms cubic-bezier(0, 0, 0.2, 1)",t0([us({opacity:0,transform:"scale(0.7)"}),us({transform:"none",opacity:1})]))),hc("* => void",Ph("100ms linear",us({opacity:0})))]),fadeInCalendar:fb("fadeInCalendar",[Ap("void",us({opacity:0})),Ap("enter",us({opacity:1})),hc("void => *",Ph("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let zH=0;const YF=new c.OlP("mat-datepicker-scroll-strategy"),WH={provide:YF,deps:[g0],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},ZH=i_(class{constructor(n){this._elementRef=n}});let YH=(()=>{class n extends ZH{constructor(e,r,o,l,h,m){super(e),this._changeDetectorRef=r,this._globalModel=o,this._dateAdapter=l,this._rangeSelectionStrategy=h,this._subscriptions=new cr.w0,this._animationDone=new gt.x,this._actionsPortal=null,this._closeButtonText=m.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const r=this._model.selection,o=e.value,l=r instanceof Oo;if(l&&this._rangeSelectionStrategy){const h=this._rangeSelectionStrategy.selectionFinished(o,r,e.event);this._model.updateSelection(h,this)}else o&&(l||!this._dateAdapter.sameDate(o,r))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Pp),c.Y36(ds),c.Y36(VS,8),c.Y36(A0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,r){if(1&e&&c.Gf(fO,5),2&e){let o;c.iGM(o=c.CRH())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,r){1&e&&c.WFA("@transformPanel.done",function(){return r._animationDone.next()}),2&e&&(c.d8E("@transformPanel",r._animationState),c.ekj("mat-datepicker-content-touch",r.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,r){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-calendar",1),c.NdJ("yearSelected",function(l){return r.datepicker._selectYear(l)})("monthSelected",function(l){return r.datepicker._selectMonth(l)})("viewChanged",function(l){return r.datepicker._viewChanged(l)})("_userSelection",function(l){return r._handleUserSelection(l)}),c.qZA(),c.YNc(2,kH,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),c._uU(4),c.qZA(),c.qZA()),2&e&&(c.ekj("mat-datepicker-content-container-with-actions",r._actionsPortal),c.xp6(1),c.Q6J("id",r.datepicker.id)("ngClass",r.datepicker.panelClass)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",r._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!r._closeButtonFocused),c.Q6J("color",r.color||"primary"),c.xp6(1),c.Oqu(r._closeButtonText))},directives:[_B,fO,zr,wS,bb],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[ZF.transformPanel,ZF.fadeInCalendar]},changeDetection:0}),n})(),KF=(()=>{class n{constructor(e,r,o,l,h,m,b){this._overlay=e,this._ngZone=r,this._viewContainerRef=o,this._dateAdapter=h,this._dir=m,this._model=b,this._inputStateChanges=cr.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+zH++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new gt.x,this._scrollStrategy=l}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=zn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const r=zn(e);r!==this._disabled&&(this._disabled=r,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=zn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function(n,t=/\s+/){const e=[];if(null!=n){const r=Array.isArray(n)?n:`${n}`.split(t);for(const o of r){const l=`${o}`.trim();l&&e.push(l)}}return e}(e)}get opened(){return this._opened}set opened(e){zn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const r=e.xPosition||e.yPosition;if(r&&!r.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof mN&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=dP(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const r=this._componentRef.instance;r._startExitAnimation(),r._animationDone.pipe((0,Zr.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){var e,r;null==(r=null==(e=this._componentRef)?void 0:e.instance)||r._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const e=this.touchUi,r=this.datepickerInput.getOverlayLabelId(),o=new m0(YH,this._viewContainerRef),l=this._overlayRef=this._overlay.create(new RR({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")})),h=l.overlayElement;h.setAttribute("role","dialog"),r&&h.setAttribute("aria-labelledby",r),e&&h.setAttribute("aria-modal","true"),this._getCloseStream(l).subscribe(m=>{m&&m.preventDefault(),this.close()}),this._componentRef=l.attach(o),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,Zr.q)(1)).subscribe(()=>l.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const r="end"===this.xPosition?"end":"start",o="start"===r?"end":"start",l="above"===this.yPosition?"bottom":"top",h="top"===l?"bottom":"top";return e.withPositions([{originX:r,originY:h,overlayX:r,overlayY:l},{originX:r,originY:l,overlayX:r,overlayY:h},{originX:o,originY:h,overlayX:o,overlayY:l},{originX:o,originY:l,overlayX:o,overlayY:h}])}_getCloseStream(e){return(0,il.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Pi(r=>27===r.keyCode&&!_b(r)||this.datepickerInput&&_b(r,"altKey")&&38===r.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(g0),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(YF),c.Y36(ds,8),c.Y36(r_,8),c.Y36(Pp))},n.\u0275dir=c.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),n})(),KH=(()=>{class n extends KF{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=c.n5z(n)))(r||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([HF,{provide:KF,useExisting:n}]),c.qOj],decls:0,vars:0,template:function(e,r){},encapsulation:2,changeDetection:0}),n})();class BS{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let QH=(()=>{class n{constructor(e,r,o){this._elementRef=e,this._dateAdapter=r,this._dateFormats=o,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new gt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=cr.w0.EMPTY,this._localeSubscription=cr.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value));return!h||this._matchesFilter(h)?null:{matDatepickerFilter:!0}},this._minValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),m=this._getMinDate();return!m||!h||this._dateAdapter.compareDate(m,h)<=0?null:{matDatepickerMin:{min:m,actual:h}}},this._maxValidator=l=>{const h=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(l.value)),m=this._getMaxDate();return!m||!h||this._dateAdapter.compareDate(m,h)>=0?null:{matDatepickerMax:{max:m,actual:h}}},this._lastValueValid=!1,this._localeSubscription=r.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const r=zn(e),o=this._elementRef.nativeElement;this._disabled!==r&&(this._disabled=r,this.stateChanges.next(void 0)),r&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(r=>{if(this._shouldHandleChangeEvent(r)){const o=this._getValueFromModel(r.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new BS(this,this._elementRef.nativeElement)),this.dateChange.emit(new BS(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function(n,t){const e=Object.keys(n);for(let r of e){const{previousValue:o,currentValue:l}=n[r];if(!t.isDateInstance(o)||!t.isDateInstance(l))return!0;if(!t.sameDate(o,l))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const r=this._lastValueValid;let o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o),this._dateAdapter.sameDate(o,this.value)?(e&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(o),this._cvaOnChange(o),this.dateInput.emit(new BS(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new BS(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const r=this._getDateFilter();return!r||r(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ds,8),c.Y36(s_,8))},n.\u0275dir=c.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),n})();const XH={provide:pc,useExisting:(0,c.Gpc)(()=>pO),multi:!0},e3={provide:fs,useExisting:(0,c.Gpc)(()=>pO),multi:!0};let pO=(()=>{class n extends QH{constructor(e,r,o,l){super(e,r,o),this._formField=l,this._closedSubscription=cr.w0.EMPTY,this._validator=_a.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._min)||(this._min=r,this._validatorOnChange())}get max(){return this._max}set max(e){const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(r,this._max)||(this._max=r,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const r=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==r&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ds,8),c.Y36(s_,8),c.Y36(FR,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,r){1&e&&c.NdJ("input",function(l){return r._onInput(l.target.value)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(l){return r._onKeydown(l)}),2&e&&(c.Ikx("disabled",r.disabled),c.uIk("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",(null==r._datepicker?null:r._datepicker.opened)&&r._datepicker.id||null)("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([XH,e3,{provide:NF,useExisting:n}]),c.qOj]}),n})(),t3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),n3=(()=>{class n{constructor(e,r,o){this._intl=e,this._changeDetectorRef=r,this._stateChanges=cr.w0.EMPTY;const l=Number(o);this.tabIndex=l||0===l?l:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=zn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Xe(),r=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Xe(),o=this.datepicker?(0,il.T)(this.datepicker.openedStream,this.datepicker.closedStream):Xe();this._stateChanges.unsubscribe(),this._stateChanges=(0,il.T)(this._intl.changes,e,r,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(A0),c.Y36(c.sBO),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,r,o){if(1&e&&c.Suo(o,t3,5),2&e){let l;c.iGM(l=c.CRH())&&(r._customIcon=l.first)}},viewQuery:function(e,r){if(1&e&&c.Gf(RH,5),2&e){let o;c.iGM(o=c.CRH())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,r){1&e&&c.NdJ("click",function(l){return r._open(l)}),2&e&&(c.uIk("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&"accent"===r.datepicker.color)("mat-warn",r.datepicker&&"warn"===r.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:NH,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,r){1&e&&(c.F$t(PH),c.TgZ(0,"button",0,1),c.YNc(2,OH,2,0,"svg",2),c.Hsn(3),c.qZA()),2&e&&(c.Q6J("disabled",r.disabled)("disableRipple",r.disableRipple),c.uIk("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("tabindex",r.disabled?-1:r.tabIndex),c.xp6(2),c.Q6J("ngIf",!r._customIcon))},directives:[bb,xr],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[A0,WH],imports:[[ys,OR,vN,TB,xR,Si],TR]}),n})();var r3=cb.Z.firestore.Timestamp;const JF=["puntoDesarrolloComponent"];function s3(n,t){1&n&&(c.TgZ(0,"button",36),c.TgZ(1,"mat-icon"),c._uU(2,"cancel"),c.qZA(),c.qZA())}function o3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",34),c.NdJ("removed",function(){const l=c.CHM(e).$implicit;return c.oxw().remove(l,"introduccion")}),c._uU(1),c.YNc(2,s3,3,0,"button",35),c.qZA()}if(2&n){const e=t.$implicit,r=c.oxw();c.Q6J("selectable",r.selectable)("removable",r.removable),c.xp6(1),c.hij(" ",e," "),c.xp6(1),c.Q6J("ngIf",r.removable)}}function a3(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"app-puntos-desarrollo",37,38),c.NdJ("delete",function(){const l=c.CHM(e).index;return c.oxw().quitarPuntoDesarrollo(l)}),c.qZA(),c.BQk()}if(2&n){const e=t.$implicit,r=t.index;c.xp6(1),c.s9C("id",r),c.Q6J("punto",null==e.value?null:e.value.punto)("incisos",null==e.value?null:e.value.incisos)}}function l3(n,t){1&n&&(c.TgZ(0,"button",36),c.TgZ(1,"mat-icon"),c._uU(2,"cancel"),c.qZA(),c.qZA())}function c3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",34),c.NdJ("removed",function(){const l=c.CHM(e).$implicit;return c.oxw().remove(l,"conclusion")}),c._uU(1),c.YNc(2,l3,3,0,"button",35),c.qZA()}if(2&n){const e=t.$implicit,r=c.oxw();c.Q6J("selectable",r.selectable)("removable",r.removable),c.xp6(1),c.hij(" ",e," "),c.xp6(1),c.Q6J("ngIf",r.removable)}}function u3(n,t){1&n&&(c.TgZ(0,"button",36),c.TgZ(1,"mat-icon"),c._uU(2,"cancel"),c.qZA(),c.qZA())}function d3(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",34),c.NdJ("removed",function(){const l=c.CHM(e).$implicit;return c.oxw().remove(l,"llamado")}),c._uU(1),c.YNc(2,u3,3,0,"button",35),c.qZA()}if(2&n){const e=t.$implicit,r=c.oxw();c.Q6J("selectable",r.selectable)("removable",r.removable),c.xp6(1),c.hij(" ",e," "),c.xp6(1),c.Q6J("ngIf",r.removable)}}let XF=(()=>{class n{constructor(e,r,o,l,h,m,b){this.fb=e,this.bosquejoService=r,this.afs=o,this.router=l,this.activatedRoute=h,this.snackBarService=m,this.cdref=b,this.bosquejoEditar={},this.bosquejoForm=this.fb.group({nombreExpositor:["",_a.required],fecha:["",_a.required],titulo:["",_a.required],tema:["",_a.required],textoBase:["",_a.required],introduccion:[[]],desarrolloTitulo:[""],desarrollo:this.fb.group({tituloDesarrollo:[""],secciones:this.fb.array([])}),conclusion:[[]],llamado:[[]]}),this.selectable=!0,this.removable=!0,this.addOnBlur=!0,this.separatorKeysCodes=[13,188],this.queryListElementRef=new c.n_E,this.queryListPuntoDesarrolloComponent=new c.n_E,this.indices=[],this.accion=this.activatedRoute.snapshot.paramMap.get("accion"),this.bosquejoId="agregar"==this.accion?this.afs.createId():""}ngOnInit(){"editar"==this.accion&&(this.bosquejoEditar=this.activatedRoute.snapshot.data.bosquejo,this.bosquejoId=this.bosquejoEditar.id,this.bosquejoForm=this.fb.group({nombreExpositor:[this.bosquejoEditar.nombreExpositor,_a.required],fecha:[new Date(1e3*this.bosquejoEditar.fecha.seconds),_a.required],titulo:[this.bosquejoEditar.titulo,_a.required],tema:[this.bosquejoEditar.tema,_a.required],textoBase:[this.bosquejoEditar.textoBase,_a.required],introduccion:[this.bosquejoEditar.introduccion],desarrollo:this.fb.group({tituloDesarrollo:[this.bosquejoEditar.desarrollo.tituloDesarrollo],secciones:this.fb.array(this.bosquejoEditar.desarrollo.secciones)}),conclusion:[this.bosquejoEditar.conclusion],llamado:[this.bosquejoEditar.llamado]}))}ngAfterViewInit(){}agregarPuntoDesarrollo(){this.addSeccion()}quitarPuntoDesarrollo(e){this.queryListElementRef.forEach(r=>{r.nativeElement.id==e&&r.nativeElement.remove()})}onSubmit(){if("INVALID"!=this.bosquejoForm.status){if("editar"==this.accion){const e=this.getBosquejo();this.bosquejoService.actualizarBosquejo(this.bosquejoId,e).subscribe(()=>{this.router.navigateByUrl("/preview"),this.snackBarService.openSnackBar("Bosquejo editado con \xe9xito")})}else if("agregar"==this.accion){const e=this.getBosquejo();this.bosquejoService.crearBosquejo(e,this.bosquejoId).pipe((0,Xt.b)(r=>{this.router.navigateByUrl("/preview"),this.snackBarService.openSnackBar("Bosquejo agregado con \xe9xito")}),tr(r=>(console.log(r),this.snackBarService.openSnackBar(r,"Error"),UP(r)))).subscribe(r=>{})}}else this.snackBarService.openSnackBar("Revisa el formulario","Error")}getBosquejo(){const e=this.bosquejoForm.value;this.setearSeccionesDesarrollo();const r={nombreExpositor:e.nombreExpositor,titulo:e.titulo,fecha:e.fecha,tema:e.tema,desarrollo:e.desarrollo,textoBase:e.textoBase,introduccion:e.introduccion,conclusion:e.conclusion,llamado:e.llamado};return r.fecha=r3.fromDate(r.fecha),r}setearComponenteSeccionesDesarrollo(){this.queryListPuntoDesarrolloComponent.forEach((e,r)=>{e.puntoModel=this.bosquejoForm.value.desarrollo.secciones[r].punto,e.incisos=this.bosquejoForm.value.desarrollo.secciones[r].incisos})}setearSeccionesDesarrollo(){this.queryListPuntoDesarrolloComponent.forEach((e,r)=>{this.bosquejoForm.value.desarrollo.secciones[r].incisos=e.incisos,this.bosquejoForm.value.desarrollo.secciones[r].punto=e.puntoModel})}get secciones(){return this.bosquejoForm.controls.desarrollo.get("secciones")}addSeccion(){this.secciones.push(this.fb.group({punto:[""],incisos:[[]]}))}add(e,r){const o=(e.value||"").trim();"introduccion"==r&&o&&this.bosquejoForm.value.introduccion.push(o),"conclusion"==r&&o&&this.bosquejoForm.value.conclusion.push(o),"llamado"==r&&o&&this.bosquejoForm.value.llamado.push(o),e.chipInput.clear()}remove(e,r){if("introduccion"==r){const o=this.bosquejoForm.value.introduccion.indexOf(e);o>=0&&this.bosquejoForm.value.introduccion.splice(o,1)}if("conclusion"==r){const o=this.bosquejoForm.value.conclusion.indexOf(e);o>=0&&this.bosquejoForm.value.conclusion.splice(o,1)}if("llamado"==r){const o=this.bosquejoForm.value.llamado.indexOf(e);o>=0&&this.bosquejoForm.value.llamado.splice(o,1)}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(tH),c.Y36(ku),c.Y36(Xw),c.Y36(Rn),c.Y36(Nr),c.Y36(wN),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form"]],viewQuery:function(e,r){if(1&e&&(c.Gf(JF,5,c.SBq),c.Gf(JF,5,jF)),2&e){let o;c.iGM(o=c.CRH())&&(r.queryListElementRef=o),c.iGM(o=c.CRH())&&(r.queryListPuntoDesarrolloComponent=o)}},decls:66,vars:16,consts:[[1,"card-form"],[3,"formGroup","ngSubmit"],[1,"container-flex-form"],["appearance","fill",1,"input","flex-grow-2"],["for","nombre-expositor"],["required","","id","nombre-expositor","matInput","","type","text","formControlName","nombreExpositor"],["appearance","fill",1,"input","flex-grow-1"],["for","fecha"],["matInput","","formControlName","fecha","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["for","titulo"],["required","","id","titulo","matInput","","formControlName","titulo"],["for","tema"],["required","","id","tema","matInput","","formControlName","tema"],["for","texto-base"],["required","","id","texto-base","matInput","","formControlName","textoBase"],["for","introduccion"],["id","introduccion","formControlName","introduccion","aria-label","Seleccionar punto"],["chipListIntroduccion",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["placeholder","Nuevo punto...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["formGroupName","desarrollo"],["for","titulo-desarollo"],["id","titulo-desarollo","matInput","","formControlName","tituloDesarrollo"],[4,"ngFor","ngForOf"],["type","button","mat-button","",1,"boton-agregar-punto",3,"click"],["color","primary","aria-hidden","false","aria-label","Add",1,"boton-agregar-punto"],["for","conclusion"],["id","conclusion","aria-label","Seleccionar punto"],["chipListConclusion",""],["aria-label","Seleccionar punto"],["chipListLlamado",""],["type","submit","color","primary","mat-raised-button","",1,"boton-submit"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"id","punto","incisos","delete"],["puntoDesarrolloComponent",""]],template:function(e,r){if(1&e&&(c.TgZ(0,"mat-card",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(2,"div",2),c.TgZ(3,"mat-form-field",3),c.TgZ(4,"mat-label",4),c._uU(5,"Nombre del Expositor"),c.qZA(),c._UZ(6,"input",5),c.qZA(),c.TgZ(7,"mat-form-field",6),c.TgZ(8,"mat-label",7),c._uU(9,"Fecha"),c.qZA(),c._UZ(10,"input",8),c._UZ(11,"mat-datepicker-toggle",9),c._UZ(12,"mat-datepicker",null,10),c.qZA(),c.qZA(),c.TgZ(14,"div",2),c.TgZ(15,"mat-form-field",6),c.TgZ(16,"mat-label",11),c._uU(17,"T\xedtulo"),c.qZA(),c._UZ(18,"input",12),c.qZA(),c.TgZ(19,"mat-form-field",6),c.TgZ(20,"mat-label",13),c._uU(21,"Tema"),c.qZA(),c._UZ(22,"input",14),c.qZA(),c.qZA(),c.TgZ(23,"div",2),c.TgZ(24,"mat-form-field",6),c.TgZ(25,"mat-label",15),c._uU(26,"Texto Base"),c.qZA(),c._UZ(27,"input",16),c.qZA(),c.qZA(),c.TgZ(28,"div",2),c.TgZ(29,"mat-form-field",6),c.TgZ(30,"mat-label",17),c._uU(31,"Introducci\xf3n"),c.qZA(),c.TgZ(32,"mat-chip-list",18,19),c.YNc(34,o3,3,4,"mat-chip",20),c.TgZ(35,"input",21),c.NdJ("matChipInputTokenEnd",function(l){return r.add(l,"introduccion")}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(36,"mat-card-title"),c._uU(37," Desarrollo "),c.qZA(),c.TgZ(38,"div",22),c.TgZ(39,"div",2),c.TgZ(40,"mat-form-field",6),c.TgZ(41,"mat-label",23),c._uU(42,"T\xedtulo"),c.qZA(),c._UZ(43,"input",24),c.qZA(),c.qZA(),c.YNc(44,a3,3,3,"ng-container",25),c.qZA(),c.TgZ(45,"button",26),c.NdJ("click",function(){return r.agregarPuntoDesarrollo()}),c.TgZ(46,"mat-icon",27),c._uU(47,"add "),c.qZA(),c.qZA(),c.TgZ(48,"div",2),c.TgZ(49,"mat-form-field",6),c.TgZ(50,"mat-label",28),c._uU(51,"Conclusi\xf3n"),c.qZA(),c.TgZ(52,"mat-chip-list",29,30),c.YNc(54,c3,3,4,"mat-chip",20),c.TgZ(55,"input",21),c.NdJ("matChipInputTokenEnd",function(l){return r.add(l,"conclusion")}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(56,"div",2),c.TgZ(57,"mat-form-field",6),c.TgZ(58,"mat-label"),c._uU(59,"Llamado"),c.qZA(),c.TgZ(60,"mat-chip-list",31,32),c.YNc(62,d3,3,4,"mat-chip",20),c.TgZ(63,"input",21),c.NdJ("matChipInputTokenEnd",function(l){return r.add(l,"llamado")}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(64,"button",33),c._uU(65," Guardar "),c.qZA(),c.qZA(),c.qZA()),2&e){const o=c.MAs(13),l=c.MAs(33),h=c.MAs(53),m=c.MAs(61);let b,w,S;c.xp6(1),c.Q6J("formGroup",r.bosquejoForm),c.xp6(9),c.Q6J("matDatepicker",o),c.xp6(1),c.Q6J("for",o),c.xp6(23),c.Q6J("ngForOf",null==(b=r.bosquejoForm.get("introduccion"))?null:b.value),c.xp6(1),c.Q6J("matChipInputFor",l)("matChipInputSeparatorKeyCodes",r.separatorKeysCodes)("matChipInputAddOnBlur",r.addOnBlur),c.xp6(9),c.Q6J("ngForOf",null==r.secciones?null:r.secciones.controls),c.xp6(10),c.Q6J("ngForOf",null==(w=r.bosquejoForm.get("conclusion"))?null:w.value),c.xp6(1),c.Q6J("matChipInputFor",h)("matChipInputSeparatorKeyCodes",r.separatorKeysCodes)("matChipInputAddOnBlur",r.addOnBlur),c.xp6(7),c.Q6J("ngForOf",null==(S=r.bosquejoForm.get("llamado"))?null:S.value),c.xp6(1),c.Q6J("matChipInputFor",m)("matChipInputSeparatorKeyCodes",r.separatorKeysCodes)("matChipInputAddOnBlur",r.addOnBlur)}},directives:[wR,mF,oF,Db,kN,AS,FF,_0,LS,UR,eO,pO,n3,sj,KH,iO,ms,sO,VP,NS,bb,vS,I0,xr,rO,jF],styles:[".container-flex-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.input[_ngcontent-%COMP%]{margin:5px}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}.flex-grow-2[_ngcontent-%COMP%]{flex-grow:3}.boton-agregar-punto[_ngcontent-%COMP%], .boton-submit[_ngcontent-%COMP%]{width:100%}.boton-submit[_ngcontent-%COMP%]{font-size:x-large}.boton-submit[_ngcontent-%COMP%]:hover{background-color:#9fc9f3}"]}),n})();const h3=[{path:"preview",component:y2},{path:"preview/bosquejo/:id",component:LU,resolve:{bosquejo:TN}},{path:"form/:accion",component:XF},{path:"form/:accion/:id",component:XF,resolve:{bosquejo:TN}},{path:"",redirectTo:"/preview",pathMatch:"full"}];let eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[bm.forRoot(h3)],bm]}),n})(),f3=(()=>{class n{constructor(){this.loadingSubject=new br(!1),this.loading$=this.loadingSubject.asObservable(),console.log("Loading service created ...")}showLoaderUntilCompleted(e){return Xe(null).pipe((0,Xt.b)(()=>this.loadingOn()),Hs(()=>e),Ni(()=>this.loadingOff()))}loadingOn(){this.loadingSubject.next(!0)}loadingOff(){this.loadingSubject.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function p3(n,t){if(1&n&&(c.O4$(),c._UZ(0,"circle",3)),2&n){const e=c.oxw();c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}function m3(n,t){if(1&n&&(c.O4$(),c._UZ(0,"circle",3)),2&n){const e=c.oxw();c.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}function g3(n,t){if(1&n&&(c.O4$(),c._UZ(0,"circle",3)),2&n){const e=c.oxw();c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}function _3(n,t){if(1&n&&(c.O4$(),c._UZ(0,"circle",3)),2&n){const e=c.oxw();c.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),c.uIk("r",e._getCircleRadius())}}const b3=i_(class{constructor(n){this._elementRef=n}},"primary"),tL=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Bh extends b3{constructor(t,e,r,o,l){super(t),this._document=r,this._diameter=100,this._value=0,this.mode="determinate";const h=Bh._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(r.head)||h.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===o&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=a0(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=a0(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,a0(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=uP(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,r=Bh._diameters;let o=r.get(t);if(!o||!o.has(e)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),t.appendChild(l),o||(o=new Set,r.set(t,o)),o.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Bh._diameters=new WeakMap,Bh.\u0275fac=function(t){return new(t||Bh)(c.Y36(c.SBq),c.Y36(li),c.Y36(J,8),c.Y36(Fh,8),c.Y36(tL))},Bh.\u0275cmp=c.Xpm({type:Bh,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(c.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),c.Udp("width",e.diameter,"px")("height",e.diameter,"px"),c.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(c.O4$(),c.TgZ(0,"svg",0),c.YNc(1,p3,1,9,"circle",1),c.YNc(2,m3,1,7,"circle",2),c.qZA()),2&t&&(c.Udp("width",e.diameter,"px")("height",e.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===e.mode),c.uIk("viewBox",e._getViewBox()),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[Ca,Gr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let w3=(()=>{class n extends Bh{constructor(e,r,o,l,h){super(e,r,o,l,h),this.mode="indeterminate"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(li),c.Y36(J,8),c.Y36(Fh,8),c.Y36(tL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,r){2&e&&(c.Udp("width",r.diameter,"px")("height",r.diameter,"px"),c.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color"},features:[c.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,r){1&e&&(c.O4$(),c.TgZ(0,"svg",0),c.YNc(1,g3,1,9,"circle",1),c.YNc(2,_3,1,7,"circle",2),c.qZA()),2&e&&(c.Udp("width",r.diameter,"px")("height",r.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===r.mode),c.uIk("viewBox",r._getViewBox()),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[Ca,Gr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Si,ys],Si]}),n})();function D3(n,t){1&n&&(c.TgZ(0,"div",1),c._UZ(1,"mat-spinner"),c.qZA())}let I3=(()=>{class n{constructor(e,r){this.loadingService=e,this.router=r,this.routing=!1,this.detectRoutingOngoing=!1}ngOnInit(){this.detectRoutingOngoing&&this.router.events.subscribe(e=>{e instanceof Ba||e instanceof $s?this.loadingService.loadingOn():(e instanceof qs||e instanceof ud||e instanceof jc||e instanceof Hc)&&this.loadingService.loadingOff()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(f3),c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["loading"]],inputs:{routing:"routing",detectRoutingOngoing:"detectRoutingOngoing"},decls:2,vars:3,consts:[["class","spinner-container",4,"ngIf"],[1,"spinner-container"]],template:function(e,r){1&e&&(c.YNc(0,D3,2,0,"div",0),c.ALo(1,"async")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,r.loadingService.loading$))},directives:[xr,w3],pipes:[yc],styles:[".spinner-container[_ngcontent-%COMP%]{position:fixed;height:100vh;width:100vw;top:0;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.32);z-index:20000}"]}),n})(),A3=(()=>{class n{constructor(){this.title="bosquejos"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[["color","primary",1,"toolbar"],["routerLink","/preview",1,"home"],[1,"container"],[3,"detectRoutingOngoing"]],template:function(e,r){1&e&&(c.TgZ(0,"mat-toolbar",0),c.TgZ(1,"span",1),c._uU(2,"Bosquejos Homil\xe9ticos"),c.qZA(),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"loading",3),c._UZ(5,"router-outlet"),c.qZA()),2&e&&(c.xp6(4),c.Q6J("detectRoutingOngoing",!0))},directives:[IN,$l,I3,sm],styles:[".toolbar[_ngcontent-%COMP%]{width:100%}.home[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ys,AN,BP,eN,NR,kP,QF,nL],AN,BP,eN,sH,gH,OR,NR,kP,QF,nL]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ys,gO]]}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ys,gO,eL,Xj,PF]]}),n})();const S0_firebase={apiKey:"AIzaSyDCdKYtTcKi-aVOGn9rs9WytnMGyc2FU2U",authDomain:"bosquejos-homileticos.firebaseapp.com",projectId:"bosquejos-homileticos",storageBucket:"bosquejos-homileticos.appspot.com",messagingSenderId:"770453743079",appId:"1:770453743079:web:bf61b1919f8679b8aa0942"},x3=new c.OlP("angularfire2.functions.origin"),k3=new c.OlP("angularfire2.functions.region"),rL=new c.OlP("angularfire2.functions.use-emulator");let iL=(()=>{class n{constructor(e,r,o,l,h,m,b,w){const S=b,k=Xe(void 0).pipe((0,Th.Q)(l.outsideAngular),Or(()=>P.e(27).then(P.bind(P,7027))),(0,Ye.U)(()=>(0,Qr.on)(e,o,r)),(0,Ye.U)(V=>(0,Qr.cc)(`${V.name}.functions.${h||m}`,"AngularFireFunctions",V.name,()=>{let j;if(h&&m)throw new Error("REGION and ORIGIN can't be used at the same time.");return j=V.functions(h||m||void 0),S&&j.useEmulator(...S),j},[h,m,S])),Qv({bufferSize:1,refCount:!1}));return this.httpsCallable=(V,j)=>Z=>(0,yn.D)(k).pipe((0,Th.Q)(l.insideAngular),Or(pe=>pe.httpsCallable(V,j)(Z)),(0,Ye.U)(pe=>pe.data)),(0,Qr.pX)(this,k,o)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Qr.Dh),c.LFG(Qr.xv,8),c.LFG(c.R0b),c.LFG(Er.HU),c.LFG(k3,8),c.LFG(x3,8),c.LFG(rL,8),c.LFG(Zg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),R3=(()=>{class n{constructor(){cb.Z.registerVersion("angularfire",Er.q4.full,"fn-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[iL]}),n})(),O3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[A3]}),n.\u0275inj=c.cJS({providers:[{provide:kh,useValue:void 0},{provide:PT,useValue:void 0},{provide:rL,useValue:void 0}],imports:[[id,eL,FV,T3,S3,gO,Qr.hO.initializeApp(S0_firebase),dc,$k,R3]]}),n})();(0,c.G48)(),Na().bootstrapModule(O3).catch(n=>console.error(n))},9162:(Ke,_e,P)=>{"use strict";function se(te,he,be,we){return new(be||(be=Promise))(function(me,St){function Kt(Et){try{Mt(we.next(Et))}catch(Ot){St(Ot)}}function Jn(Et){try{Mt(we.throw(Et))}catch(Ot){St(Ot)}}function Mt(Et){Et.done?me(Et.value):function(me){return me instanceof be?me:new be(function(St){St(me)})}(Et.value).then(Kt,Jn)}Mt((we=we.apply(te,he||[])).next())})}function le(te){return this instanceof le?(this.v=te,this):new le(te)}function Y(te,he,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,we=be.apply(te,he||[]),me=[];return Fe={},St("next"),St("throw"),St("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function St(pn){we[pn]&&(Fe[pn]=function(qr){return new Promise(function(di,hn){me.push([pn,qr,di,hn])>1||Kt(pn,qr)})})}function Kt(pn,qr){try{!function(pn){pn.value instanceof le?Promise.resolve(pn.value.v).then(Mt,Et):Ot(me[0][2],pn)}(we[pn](qr))}catch(di){Ot(me[0][3],di)}}function Mt(pn){Kt("next",pn)}function Et(pn){Kt("throw",pn)}function Ot(pn,qr){pn(qr),me.shift(),me.length&&Kt(me[0][0],me[0][1])}}function De(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,he=te[Symbol.asyncIterator];return he?he.call(te):(te=function(te){var he="function"==typeof Symbol&&Symbol.iterator,be=he&&te[he],we=0;if(be)return be.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&we>=te.length&&(te=void 0),{value:te&&te[we++],done:!te}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),be={},we("next"),we("throw"),we("return"),be[Symbol.asyncIterator]=function(){return this},be);function we(me){be[me]=te[me]&&function(St){return new Promise(function(Kt,Jn){!function(me,St,Kt,Jn){Promise.resolve(Jn).then(function(Mt){me({value:Mt,done:Kt})},St)}(Kt,Jn,(St=te[me](St)).done,St.value)})}}}P.d(_e,{mG:()=>se,qq:()=>le,FC:()=>Y,KL:()=>De})},3668:(Ke,_e,P)=>{"use strict";P.d(_e,{deG:()=>ef,tb:()=>cw,AFp:()=>_A,ip1:()=>kv,CZH:()=>ac,hGG:()=>ak,z2F:()=>_p,sBO:()=>LA,Sil:()=>Og,_Vd:()=>gh,EJc:()=>kg,SBq:()=>Mo,qLn:()=>$a,vpe:()=>Rs,tBr:()=>rs,XFs:()=>rt,OlP:()=>Sn,zs3:()=>$n,ZZ4:()=>jv,aQg:()=>Hv,soG:()=>mp,YKP:()=>Ur,h0i:()=>sc,PXZ:()=>Hx,R0b:()=>Os,FiY:()=>Kn,Lbi:()=>Rv,g9A:()=>lw,n_E:()=>ip,Qsj:()=>RI,FYo:()=>Qf,JOm:()=>As,Tiy:()=>mv,q3G:()=>qn,tp0:()=>Pr,Rgc:()=>sp,dDg:()=>Pg,q4F:()=>gv,GfV:()=>PI,s_b:()=>ap,ifc:()=>Ze,eFA:()=>pw,G48:()=>$O,Gpc:()=>q,f3M:()=>un,X6Q:()=>Vn,_c5:()=>JA,VLi:()=>Nx,c2e:()=>Ov,zSh:()=>Gl,wAp:()=>_t,vHH:()=>$e,EiD:()=>qa,mCW:()=>Jo,qzn:()=>Vl,JVY:()=>cf,pB0:()=>Jp,eBb:()=>Qp,L6k:()=>x_,LAX:()=>k_,cg1:()=>Ar,Tjo:()=>qA,kL8:()=>iE,yhl:()=>gd,dqk:()=>At,sIi:()=>Yl,CqO:()=>ii,QGY:()=>Nf,F4k:()=>Ff,RDi:()=>Up,AaK:()=>se,z3N:()=>Nr,qOj:()=>Ny,TTD:()=>so,_Bn:()=>MI,xp6:()=>et,uIk:()=>Ly,ekj:()=>Ky,Suo:()=>HE,Xpm:()=>kn,lG2:()=>No,Yz7:()=>hn,cJS:()=>Mn,oAB:()=>cl,Yjl:()=>Uu,Y36:()=>Pf,_UZ:()=>jy,BQk:()=>tg,ynx:()=>eg,qZA:()=>Uy,TgZ:()=>fu,EpF:()=>BC,n5z:()=>Bc,Ikx:()=>rv,LFG:()=>Pe,$8M:()=>kl,$Z:()=>ot,NdJ:()=>qy,CRH:()=>bh,kcU:()=>td,O4$:()=>kc,oxw:()=>ng,ALo:()=>UI,lcZ:()=>jI,xi3:()=>HI,Hsn:()=>LD,F$t:()=>Vi,Q6J:()=>Ql,s9C:()=>HC,MGl:()=>zy,DdM:()=>tp,VKq:()=>wg,iGM:()=>yh,MAs:()=>By,CHM:()=>vs,LSH:()=>Bl,Udp:()=>ZC,WFA:()=>On,d8E:()=>rE,YNc:()=>Kd,_uU:()=>YD,Oqu:()=>ev,hij:()=>lg,Gf:()=>vh});var c=P(273),X=P(7908),F=P(8305),ue=P(3719),ie=P(3174);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function J(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function se(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(se).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function de(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const $=ge({__forward_ref__:ge});function q(i){return i.__forward_ref__=q,i.toString=function(){return se(this())},i}function Q(i){return je(i)?i():i}function je(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===q}class $e extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function Y(i){return"string"==typeof i?i:null==i?"":String(i)}function ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Y(i)}function ke(i,s){const a=s?` in ${s}`:"";throw new $e("201",`No provider for ${ce(i)} found${a}`)}function Et(i,s){null==i&&function(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function hn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function sr(i){return zt(i,ps)||zt(i,or)}function zt(i,s){return i.hasOwnProperty(s)?i[s]:null}function $i(i){return i&&(i.hasOwnProperty(Me)||i.hasOwnProperty(Gn))?i[Me]:null}const ps=ge({\u0275prov:ge}),Me=ge({\u0275inj:ge}),or=ge({ngInjectableDef:ge}),Gn=ge({ngInjectorDef:ge});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Yt;function hi(i){const s=Yt;return Yt=i,s}function dt(i,s,a){const u=sr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&rt.Optional?null:void 0!==s?s:void ke(se(i),"Injector")}function Lt(i){return{toString:i}.toString()}var Vt=(()=>((Vt=Vt||{})[Vt.OnPush=0]="OnPush",Vt[Vt.Default=1]="Default",Vt))(),Ze=(()=>{return(i=Ze||(Ze={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ze;var i})();const lt="undefined"!=typeof globalThis&&globalThis,Vu="undefined"!=typeof window&&window,to="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At=lt||"undefined"!=typeof global&&global||Vu||to,z={},B=[],W=ge({\u0275cmp:ge}),Ee=ge({\u0275dir:ge}),ne=ge({\u0275pipe:ge}),Je=ge({\u0275mod:ge}),pt=ge({\u0275fac:ge}),rn=ge({__NG_ELEMENT_ID__:ge});let gr=0;function kn(i){return Lt(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||B,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ze.Emulated,id:"c",styles:i.styles||B,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,_=i.pipes;return u.id+=gr++,u.inputs=mc(i.inputs,a),u.outputs=mc(i.outputs),f&&f.forEach(v=>v(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(jt):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(_r):null,u})}function jt(i){return mn(i)||function(i){return i[Ee]||null}(i)}function _r(i){return function(i){return i[ne]||null}(i)}const Po={};function cl(i){return Lt(()=>{const s={type:i.type,bootstrap:i.bootstrap||B,declarations:i.declarations||B,imports:i.imports||B,exports:i.exports||B,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Po[i.id]=i.type),s})}function mc(i,s){if(null==i)return z;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=u,s&&(s[d]=f)}return a}const No=kn;function Uu(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function mn(i){return i[W]||null}function yr(i,s){const a=i[Je]||null;if(!a&&!0===s)throw new Error(`Type ${se(i)} does not have '\u0275mod' property.`);return a}function Gr(i){return Array.isArray(i)&&"object"==typeof i[1]}function gs(i){return Array.isArray(i)&&!0===i[1]}function Xn(i){return 0!=(8&i.flags)}function Fs(i){return 2==(2&i.flags)}function ju(i){return 1==(1&i.flags)}function Oi(i){return null!==i.template}function Fp(i){return 0!=(512&i[2])}function _s(i,s){return i.hasOwnProperty(pt)?i[pt]:null}class bc{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function so(){return Da}function Da(i){return i.type.prototype.ngOnChanges&&(i.setInput=ys),oo}function oo(){const i=vr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===z)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function ys(i,s,a,u){const d=vr(i)||function(i,s){return i[Wh]=s}(i,{previous:z,current:null}),f=d.current||(d.current={}),_=d.previous,v=this.declaredInputs[a],E=_[v];f[v]=new bc(E&&E.currentValue,s,_===z),i[u]=s}so.ngInherit=!0;const Wh="__ngSimpleChanges__";function vr(i){return i[Wh]||null}const Zh="http://www.w3.org/2000/svg";let Cc;function Up(i){Cc=i}function ln(i){return!!i.listen}const Wu={createRenderer:(i,s)=>void 0!==Cc?Cc:"undefined"!=typeof document?document:void 0};function Un(i){for(;Array.isArray(i);)i=i[0];return i}function Ki(i,s){return Un(s[i])}function jn(i,s){return Un(s[i.index])}function Uo(i,s){return i.data[s]}function jo(i,s){return i[s]}function sn(i,s){const a=s[i];return Gr(a)?a:a[0]}function Vs(i){return 4==(4&i[2])}function yl(i){return 128==(128&i[2])}function Qi(i,s){return null==s?null:i[s]}function Zu(i){i[18]=0}function Ia(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const tt={lFrame:Xu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qu(){return tt.bindingsEnabled}function Ae(){return tt.lFrame.lView}function Bt(){return tt.lFrame.tView}function vs(i){return tt.lFrame.contextLView=i,i[8]}function gn(){let i=ao();for(;null!==i&&64===i.type;)i=i.parent;return i}function ao(){return tt.lFrame.currentTNode}function er(i,s){const a=tt.lFrame;a.currentTNode=i,a.isParent=s}function bl(){return tt.lFrame.isParent}function lo(){tt.lFrame.isParent=!1}function Aa(){return tt.isInCheckNoChangesMode}function Ta(i){tt.isInCheckNoChangesMode=i}function ar(){const i=tt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Xi(){return tt.lFrame.bindingIndex++}function qo(i,s){const a=tt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Sa(s)}function Sa(i){tt.lFrame.currentDirectiveIndex=i}function Ma(i){const s=tt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function xc(){return tt.lFrame.currentQueryIndex}function El(i){tt.lFrame.currentQueryIndex=i}function Ju(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function xa(i,s,a){if(a&rt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&rt.Host||(d=Ju(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const u=tt.lFrame=Ra();return u.currentTNode=s,u.lView=i,!0}function ka(i){const s=Ra(),a=i[1];tt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Ra(){const i=tt.lFrame,s=null===i?null:i.child;return null===s?Xu(i):s}function Xu(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function wl(){const i=tt.lFrame;return tt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const jp=wl;function Oa(){const i=wl();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return tt.lFrame.selectedIndex}function uo(i){tt.lFrame.selectedIndex=i}function En(){const i=tt.lFrame;return Uo(i.tView,i.selectedIndex)}function kc(){tt.lFrame.currentNamespace=Zh}function td(){tt.lFrame.currentNamespace=null}function Bs(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:M}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=M&&(i.destroyHooks||(i.destroyHooks=[])).push(a,M)}}function Rc(i,s,a){rd(i,s,3,a)}function Pa(i,s,a,u){(3&i[2])===a&&rd(i,s,a,u)}function nd(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function rd(i,s,a,u){const f=null!=u?u:-1,_=s.length-1;let v=0;for(let E=void 0!==u?65535&i[18]:0;E<_;E++)if("number"==typeof s[E+1]){if(v=s[E],null!=u&&v>=u)break}else s[E]<0&&(i[18]+=65536),(v<f||-1==f)&&(Hp(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function Hp(i,s,a,u){const d=a[u]<0,f=a[u+1],v=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class Na{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Oc(i,s,a){const u=ln(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const _=a[d++],v=a[d++],E=a[d++];u?i.setAttribute(s,v,E,_):s.setAttributeNS(_,v,E)}else{const _=f,v=a[++d];lr(_)?u&&i.setProperty(s,_,v):u?i.setAttribute(s,_,v):s.setAttribute(_,v),d++}}return d}function Jh(i){return 3===i||4===i||6===i}function lr(i){return 64===i.charCodeAt(0)}function Pc(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||v_(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function v_(i,s,a,u,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){_=-1;break}if(v>s){_=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===u)return void(null!==d&&(i[f+1]=d));if(u===i[f+1])return void(i[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==d&&i.splice(f++,0,d)}function b_(i){return-1!==i}function Al(i){return 32767&i}function Nc(i,s){let a=function(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Fc=!0;function Tl(i){const s=Fc;return Fc=i,s}let E_=0;function bs(i,s){const a=gt(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,Xe(u.data,i),Xe(s,null),Xe(u.blueprint,null));const d=br(i,s),f=i.injectorIndex;if(b_(d)){const _=Al(d),v=Nc(d,s),E=v[1].data;for(let I=0;I<8;I++)s[f+I]=v[_+I]|E[_+I]}return s[f+8]=d,f}function Xe(i,s){i.push(0,0,0,0,0,0,0,0,s)}function gt(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function br(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){const f=d[1],_=f.type;if(u=2===_?f.declTNode:1===_?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function vn(i,s,a){!function(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(rn)&&(u=a[rn]),null==u&&(u=a[rn]=E_++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Cs(i,s,a){if(a&rt.Optional)return i;ke(s,"NodeInjector")}function od(i,s,a,u){if(a&rt.Optional&&void 0===u&&(u=null),0==(a&(rt.Self|rt.Host))){const d=i[9],f=hi(void 0);try{return d?d.get(s,u,a&rt.Optional):dt(s,u,a&rt.Optional)}finally{hi(f)}}return Cs(u,s,a)}function ad(i,s,a,u=rt.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(rn)?i[rn]:void 0;return"number"==typeof s?s>=0?255&s:Ml:s}(a);if("function"==typeof f){if(!xa(s,i,u))return u&rt.Host?Cs(d,a,u):od(s,a,u,d);try{const _=f(u);if(null!=_||u&rt.Optional)return _;ke(a)}finally{jp()}}else if("number"==typeof f){let _=null,v=gt(i,s),E=-1,I=u&rt.Host?s[16][6]:null;for((-1===v||u&rt.SkipSelf)&&(E=-1===v?br(i,s):s[v+8],-1!==E&&ld(u,!1)?(_=s[1],v=Al(E),s=Nc(E,s)):v=-1);-1!==v;){const M=s[1];if(ho(f,v,M.data)){const O=xl(v,s,a,_,u,I);if(O!==Sl)return O}E=s[v+8],-1!==E&&ld(u,s[1].data[v+8]===I)&&ho(f,v,s)?(_=M,v=Al(E),s=Nc(E,s)):v=-1}}}return od(s,a,u,d)}const Sl={};function Ml(){return new kt(gn(),Ae())}function xl(i,s,a,u,d,f){const _=s[1],v=_.data[i+8],M=Ye(v,_,a,null==u?Fs(v)&&Fc:u!=_&&0!=(3&v.type),d&rt.Host&&f===v);return null!==M?Wo(s,_,M,v):Sl}function Ye(i,s,a,u,d){const f=i.providerIndexes,_=s.data,v=1048575&f,E=i.directiveStart,M=f>>20,N=d?v+M:i.directiveEnd;for(let U=u?v:v+M;U<N;U++){const G=_[U];if(U<E&&a===G||U>=E&&G.type===a)return U}if(d){const U=_[E];if(U&&Oi(U)&&U.type===a)return E}return null}function Wo(i,s,a,u){let d=i[a];const f=s.data;if(function(i){return i instanceof Na}(d)){const _=d;_.resolving&&function(i,s){throw new $e("200",`Circular dependency in DI detected for ${i}`)}(ce(f[a]));const v=Tl(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?hi(_.injectImpl):null;xa(i,u,rt.Default);try{d=i[a]=_.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(u){const _=Da(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==E&&hi(E),Tl(v),_.resolving=!1,jp()}}return d}function ho(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ld(i,s){return!(i&rt.Self||i&rt.Host&&s)}class kt{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return ad(this._tNode,this._lView,s,u,a)}}function Bc(i){return Lt(()=>{const s=i.prototype.constructor,a=s[pt]||La(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const f=d[pt]||La(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function La(i){return je(i)?()=>{const s=La(Q(i));return s&&s()}:_s(i)}function kl(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const f=a[d];if(Jh(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(gn(),i)}const fo="__parameters__";function Rr(i,s,a){return Lt(()=>{const u=function(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return v.annotation=_,v;function v(E,I,M){const O=E.hasOwnProperty(fo)?E[fo]:Object.defineProperty(E,fo,{value:[]})[fo];for(;O.length<=M;)O.push(null);return(O[M]=O[M]||[]).push(_),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Sn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=hn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ef=new Sn("AnalyzeForEntryComponents");function Yr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),Yr(u,s)):s!==i&&s.push(u)}return s}function ws(i,s){i.forEach(a=>Array.isArray(a)?ws(a,s):s(a))}function Ds(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Xt(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ni(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}function Fi(i,s,a){let u=Zo(i,s);return u>=0?i[1|u]=a:(u=~u,function(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function nf(i,s){const a=Zo(i,s);if(a>=0)return i[1|a]}function Zo(i,s){return function(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const f=u+(d-u>>1),_=i[f<<a];if(s===_)return f<<a;_>s?d=f:u=f+1}return~(d<<a)}(i,s,1)}const mo={},Pl="__NG_DI_FLAG__",Yo="ngTempTokenPath",A=/\n/gm,L="__source",K=ge({provide:String,useValue:ge});let ae;function Te(i){const s=ae;return ae=i,s}function Be(i,s=rt.Default){if(void 0===ae)throw new Error("inject() must be called from an injection context");return null===ae?dt(i,void 0,s):ae.get(i,s&rt.Optional?null:void 0,s)}function Pe(i,s=rt.Default){return(Yt||Be)(Q(i),s)}const un=Pe;function Hn(i){const s=[];for(let a=0;a<i.length;a++){const u=Q(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let d,f=rt.Default;for(let _=0;_<u.length;_++){const v=u[_],E=dr(v);"number"==typeof E?-1===E?d=v.token:f|=E:d=v}s.push(Pe(d,f))}else s.push(Pe(u))}return s}function Yn(i,s){return i[Pl]=s,i.prototype[Pl]=s,i}function dr(i){return i[Pl]}function go(i,s,a,u){const d=i[Yo];throw s[L]&&d.unshift(s[L]),i.message=function(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=se(s);if(Array.isArray(s))d=s.map(se).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let v=s[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):se(v)))}d=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(A,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[Yo]=null,i}const rs=Yn(Rr("Inject",i=>({token:i})),-1),Kn=Yn(Rr("Optional"),8),Pr=Yn(Rr("SkipSelf"),4);let Fl;function Ll(i){var s;return(null==(s=function(){if(void 0===Fl&&(Fl=null,At.trustedTypes))try{Fl=At.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Fl}())?void 0:s.createHTML(i))||i}class Ko{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qo extends Ko{getTypeName(){return"HTML"}}class Wc extends Ko{getTypeName(){return"Style"}}class lf extends Ko{getTypeName(){return"Script"}}class M_ extends Ko{getTypeName(){return"URL"}}class xb extends Ko{getTypeName(){return"ResourceURL"}}function Nr(i){return i instanceof Ko?i.changingThisBreaksApplicationSecurity:i}function Vl(i,s){const a=gd(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function gd(i){return i instanceof Ko&&i.getTypeName()||null}function cf(i){return new Qo(i)}function x_(i){return new Wc(i)}function Qp(i){return new lf(i)}function k_(i){return new M_(i)}function Jp(i){return new xb(i)}class kb{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Ll(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class _d{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ll(s),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Ll(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const _=a.item(d).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Rb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,df=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jo(i){return(i=String(i)).match(Rb)||i.match(df)?i:"unsafe:"+i}function Is(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Zc(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const R_=Is("area,br,col,hr,img,wbr"),ff=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),O_=Is("rp,rt"),Yc=Zc(R_,Zc(ff,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zc(O_,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zc(O_,ff)),pf=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yd=Is("srcset"),mf=Zc(pf,yd,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),F_=Is("script,style,template");class Pb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Yc.hasOwnProperty(a))return this.sanitizedSomething=!0,!F_.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let d=0;d<u.length;d++){const f=u.item(d),_=f.name,v=_.toLowerCase();if(!mf.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let E=f.value;pf[v]&&(E=Jo(E)),yd[v]&&(i=E,E=(i=String(i)).split(",").map(s=>Jo(s.trim())).join(", ")),this.buf.push(" ",_,'="',Ha(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Yc.hasOwnProperty(a)&&!R_.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ha(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Nb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tm=/([^\#-~ |!])/g;function Ha(i){return i.replace(/&/g,"&amp;").replace(Nb,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(tm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vo;function qa(i,s){let a=null;try{vo=vo||function(i){const s=new _d(i);return function(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch(i){return!1}}()?new kb(s):s}(i);let u=s?String(s):"";a=vo.getInertBodyElement(u);let d=5,f=u;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,u=f,f=a.innerHTML,a=vo.getInertBodyElement(u)}while(u!==f);return Ll((new Pb).sanitizeChildren(nm(a)||a))}finally{if(a){const u=nm(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function nm(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var qn=(()=>((qn=qn||{})[qn.NONE=0]="NONE",qn[qn.HTML=1]="HTML",qn[qn.STYLE=2]="STYLE",qn[qn.SCRIPT=3]="SCRIPT",qn[qn.URL=4]="URL",qn[qn.RESOURCE_URL=5]="RESOURCE_URL",qn))();function Bl(i){const s=function(){const i=Ae();return i&&i[12]}();return s?s.sanitize(qn.URL,i)||"":Vl(i,"URL")?Nr(i):Jo(Y(i))}const Cd="__ngContext__";function Qn(i,s){i[Cd]=s}function lm(i){const s=function(i){return i[Cd]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Dd(i){return i.ngOriginalError}function fm(i,...s){i.error(...s)}class $a{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=this._findContext(s),d=(i=s)&&i.ngErrorLogger||fm;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),u&&d(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(Dd(s)):null}_findOriginalError(s){let a=s&&Dd(s);for(;a&&Dd(a);)a=Dd(a);return a||null}}const gm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Ws(i){return i instanceof Function?i():i}var As=(()=>((As=As||{})[As.Important=1]="Important",As[As.DashCase=2]="DashCase",As))();function bo(i,s){return undefined(i,s)}function ql(i){const s=i[3];return gs(s)?s[3]:s}function _m(i){return Z_(i[13])}function ym(i){return Z_(i[4])}function Z_(i){for(;null!==i&&!gs(i);)i=i[4];return i}function p(i,s,a,u,d){if(null!=u){let f,_=!1;gs(u)?f=u:Gr(u)&&(_=!0,u=u[0]);const v=Un(u);0===i&&null!==a?null==d?vm(s,a,v):Ga(s,a,v,d||null,!0):1===i&&null!==a?Ga(s,a,v,d||null,!0):2===i?function(i,s,a){const u=kd(i,s);u&&function(i,s,a,u){ln(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,v,_):3===i&&s.destroyNode(v),null!=f&&function(i,s,a,u,d){const f=a[7];f!==Un(a)&&p(s,i,u,f,d);for(let v=10;v<a.length;v++){const E=a[v];Cm(E[1],E,i,s,u,f)}}(s,i,f,a,d)}}function x(i,s,a){return ln(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function Ht(i,s){const a=i[9],u=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Ia(d,-1)),a.splice(u,1)}function nr(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&Ht(d,u),s>0&&(i[a-1][4]=u[4]);const f=Xt(i,10+s);!function(i,s){Cm(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Rn(i,s){if(!(256&s[2])){const a=s[11];ln(a)&&a.destroyNode&&Cm(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return eu(i[1],i);for(;s;){let a=null;if(Gr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Gr(s)&&eu(s[1],s),s=s[3];null===s&&(s=i),Gr(s)&&eu(s[1],s),a=s&&s[4]}s=a}}(s)}}function eu(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof Na)){const f=a[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=d[f[_]],E=f[_+1];try{E.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],v="function"==typeof _?_(s):Un(s[_]),E=u[d=a[f+2]],I=a[f+3];"boolean"==typeof I?v.removeEventListener(a[f],E,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),f+=2}else{const _=u[d=a[f+1]];a[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&ln(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&gs(s[3])){a!==s[3]&&Ht(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function Md(i,s,a){return function(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Ze.None||d===Ze.Emulated)return null}return jn(u,a)}(i,s.parent,a)}function Ga(i,s,a,u,d){ln(i)?i.insertBefore(s,a,u,d):s.insertBefore(a,u,d)}function vm(i,s,a){ln(i)?i.appendChild(s,a):s.appendChild(a)}function xd(i,s,a,u,d){null!==u?Ga(i,s,a,u,d):vm(i,s,a)}function kd(i,s){return ln(i)?i.parentNode(s):s.parentNode}function Ef(i,s,a){return nu(i,s,a)}let nu=function(i,s,a){return 40&i.type?jn(i,a):null};function Q_(i,s,a,u){const d=Md(i,u,s),f=s[11],v=Ef(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)xd(f,d,a[E],v,!1);else xd(f,d,a,v,!1)}function bm(i,s){if(null!==s){const a=s.type;if(3&a)return jn(s,i);if(4&a)return Hb(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return bm(i,u);{const d=i[s.index];return gs(d)?Hb(-1,d):Un(d)}}if(32&a)return bo(s,i)()||Un(i[s.index]);{const u=L0(i,s);return null!==u?Array.isArray(u)?u[0]:bm(ql(i[16]),u):bm(i,s.next)}}return null}function L0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Hb(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return bm(u,d)}return s[7]}function J_(i,s,a,u,d,f,_){for(;null!=a;){const v=u[a.index],E=a.type;if(_&&0===s&&(v&&Qn(Un(v),u),a.flags|=4),64!=(64&a.flags))if(8&E)J_(i,s,a.child,u,d,f,!1),p(s,i,d,v,f);else if(32&E){const I=bo(a,u);let M;for(;M=I();)p(s,i,d,M,f);p(s,i,d,v,f)}else 16&E?B0(i,s,u,a,d,f):p(s,i,d,v,f);a=_?a.projectionNext:a.next}}function Cm(i,s,a,u,d,f){J_(a,u,i.firstChild,s,d,f,!1)}function B0(i,s,a,u,d,f){const _=a[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)p(s,i,d,E[I],f);else J_(i,s,E,_[3],d,f,!0)}function U0(i,s,a){ln(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function X_(i,s,a){ln(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function j0(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===u||i.charCodeAt(d+f)<=32)return d}a=d+1}}const H0="ng-template";function $S(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==j0(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Em(i){return 4===i.type&&i.value!==H0}function Er(i,s,a){return s===(4!==i.type||a?i.value:H0)}function $b(i,s,a){let u=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Jh(i[s]))return s;return i.length}(d);let _=!1;for(let v=0;v<s.length;v++){const E=s[v];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!Er(i,E,a)||""===E&&1===s.length){if(Co(u))return!1;_=!0}}else{const I=8&u?E:s[++v];if(8&u&&null!==i.attrs){if(!$S(i.attrs,I,a)){if(Co(u))return!1;_=!0}continue}const O=zS(8&u?"class":E,d,Em(i),a);if(-1===O){if(Co(u))return!1;_=!0;continue}if(""!==I){let N;N=O>f?"":d[O+1].toLowerCase();const U=8&u?N:null;if(U&&-1!==j0(U,I,0)||2&u&&I!==N){if(Co(u))return!1;_=!0}}}}else{if(!_&&!Co(u)&&!Co(E))return!1;if(_&&Co(E))continue;_=!1,u=E|1&u}}return Co(u)||_}function Co(i){return 0==(1&i)}function zS(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function Qr(i,s,a=!1){for(let u=0;u<s.length;u++)if($b(i,s[u],a))return!0;return!1}function Rd(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let d=0;d<i.length;d++)if(i[d]!==u[d])continue e;return!0}}return!1}function wm(i,s){return i?":not("+s.trim()+")":s}function ru(i){let s=i[0],a=1,u=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const v=i[++a];d+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!Co(_)&&(s+=wm(f,d),d=""),u=_,f=f||!Co(u);a++}return""!==d&&(s+=wm(f,d)),s}const bt={};function et(i){ey(Bt(),Ae(),Zn()+i,Aa())}function ey(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Rc(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Pa(s,f,0,a)}uo(a)}function Od(i,s){return i<<17|s<<2}function Zs(i){return i>>17&32767}function Dm(i){return 2|i}function zl(i){return(131068&i)>>2}function zb(i,s){return-131069&i|s<<2}function Fr(i){return 1|i}function K0(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],f=a[u+1];if(-1!==f){const _=i.data[f];El(d),_.contentQueries(2,s[f],f)}}}function su(i,s,a,u,d,f,_,v,E,I){const M=s.blueprint.slice();return M[0]=d,M[2]=140|u,Zu(M),M[3]=M[15]=i,M[8]=a,M[10]=_||i&&i[10],M[11]=v||i&&i[11],M[12]=E||i&&i[12]||null,M[9]=I||i&&i[9]||null,M[6]=f,M[16]=2==s.type?i[16]:M,M}function ou(i,s,a,u,d){let f=i.data[s];if(null===f)f=function(i,s,a,u,d){const f=ao(),_=bl(),E=i.data[s]=function(i,s,a,u,d,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(i,s,a,u,d),tt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=d;const _=function(){const i=tt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return er(f,!0),f}function au(i,s,a,u){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function Nd(i,s,a){ka(s);try{const u=i.viewQuery;null!==u&&Lm(1,u,a);const d=i.template;null!==d&&J0(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&K0(i,s),i.staticViewQueries&&Lm(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)hD(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,Oa()}}function Fd(i,s,a,u){const d=s[2];if(256==(256&d))return;ka(s);const f=Aa();try{Zu(s),function(i){tt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&J0(i,s,a,2,u);const _=3==(3&d);if(!f)if(_){const I=i.preOrderCheckHooks;null!==I&&Rc(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Pa(s,I,0,null),nd(s,0)}if(function(i){for(let s=_m(i);null!==s;s=ym(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],f=d[3];0==(1024&d[2])&&Ia(f,1),d[2]|=1024}}}(s),function(i){for(let s=_m(i);null!==s;s=ym(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];yl(u)&&Fd(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&K0(i,s),!f)if(_){const I=i.contentCheckHooks;null!==I&&Rc(s,I)}else{const I=i.contentHooks;null!==I&&Pa(s,I,1),nd(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)uo(~d);else{const f=d,_=a[++u],v=a[++u];qo(_,f),v(2,s[f])}}}finally{uo(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let a=0;a<s.length;a++)dD(i,s[a])}(s,v);const E=i.viewQuery;if(null!==E&&Lm(2,E,u),!f)if(_){const I=i.viewCheckHooks;null!==I&&Rc(s,I)}else{const I=i.viewHooks;null!==I&&Pa(s,I,2),nd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Ia(s[3],-1))}finally{Oa()}}function Q0(i,s,a,u){const d=s[10],f=!Aa(),_=Vs(s);try{f&&!_&&d.begin&&d.begin(),_&&Nd(i,s,u),Fd(i,s,a,u)}finally{f&&!_&&d.end&&d.end()}}function J0(i,s,a,u,d){const f=Zn(),_=2&u;try{uo(-1),_&&s.length>20&&ey(i,s,20,Aa()),a(u,d)}finally{uo(f)}}function eC(i,s,a){if(Xn(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}function hy(i,s,a){!Qu()||(function(i,s,a,u){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||bs(a,s),Qn(u,s);const _=a.initialInputs;for(let v=d;v<f;v++){const E=i.data[v],I=Oi(E);I&&oM(s,a,E);const M=Wo(s,i,v,a);Qn(M,s),null!==_&&aM(0,v-d,M,E,0,_),I&&(sn(a.index,s)[8]=M)}}(i,s,a,jn(a,s)),128==(128&a.flags)&&function(i,s,a){const u=a.directiveStart,d=a.directiveEnd,_=a.index,v=tt.lFrame.currentDirectiveIndex;try{uo(_);for(let E=u;E<d;E++){const I=i.data[E],M=s[E];Sa(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&oD(I,M)}}finally{uo(-1),Sa(v)}}(i,s,a))}function xm(i,s,a=jn){const u=s.localNames;if(null!==u){let d=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],v=-1===_?a(s,i):i[_];i[d++]=v}}}function tC(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=fy(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function fy(i,s,a,u,d,f,_,v,E,I){const M=20+u,O=M+d,N=function(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:bt);return a}(M,O),U="function"==typeof I?I():I;return N[1]={type:i,blueprint:N,template:a,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:U,incompleteFirstPass:!1}}function Xr(i,s,a,u){const d=hC(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&fD(i).push(u,d.length-1))}function gy(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function Ss(i,s,a,u,d,f,_,v){const E=jn(s,a);let M,I=s.inputs;!v&&null!=I&&(M=I[u])?(Cy(i,a,M,u,d),Fs(s)&&function(i,s){const a=sn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=_?_(d,s.value||"",u):d,ln(f)?f.setProperty(E,u,d):lr(u)||(E.setProperty?E.setProperty(u,d):E[u]=d))}function rC(i,s,a,u){let d=!1;if(Qu()){const f=function(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];Qr(a,_.selectors,!1)&&(d||(d=[]),vn(bs(a,s),i,_.type),Oi(_)?(oC(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===u?null:{"":-1};if(null!==f){d=!0,Om(a,i.data.length,f.length);for(let M=0;M<f.length;M++){const O=f[M];O.providersResolver&&O.providersResolver(O)}let v=!1,E=!1,I=au(i,s,f.length,null);for(let M=0;M<f.length;M++){const O=f[M];a.mergedAttrs=Pc(a.mergedAttrs,O.hostAttrs),cD(i,a,s,I,O),lD(I,O,_),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const N=O.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function(i,s){const u=s.directiveEnd,d=i.data,f=s.attrs,_=[];let v=null,E=null;for(let I=s.directiveStart;I<u;I++){const M=d[I],O=M.inputs,N=null===f||Em(s)?null:Ld(O,f);_.push(N),v=gy(O,I,v),E=gy(M.outputs,I,E)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=v,s.outputs=E}(i,a)}_&&function(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new $e("301",`Export of name '${s[d+1]}' not found!`);u.push(s[d],f)}}}(a,u,_)}return a.mergedAttrs=Pc(a.mergedAttrs,a.attrs),d}function km(i,s,a,u,d,f){const _=f.hostBindings;if(_){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=E&&v.push(E),v.push(u,d,_)}}function oD(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function oC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function lD(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Oi(s)&&(a[""]=i)}}function Om(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function cD(i,s,a,u,d){i.data[u]=d;const f=d.factory||(d.factory=_s(d.type)),_=new Na(f,Oi(d),null);i.blueprint[u]=_,a[u]=_,km(i,s,0,u,au(i,a,d.hostVars,bt),d)}function oM(i,s,a){const u=jn(s,i),d=tC(a),f=i[10],_=Vd(i,su(i,d,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=_}function os(i,s,a,u,d,f){const _=jn(i,s);!function(i,s,a,u,d,f,_){if(null==f)ln(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==_?Y(f):_(f,u||"",d);ln(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}(s[11],_,f,i.value,a,u,d)}function aM(i,s,a,u,d,f){const _=f[s];if(null!==_){const v=u.setInput;for(let E=0;E<_.length;){const I=_[E++],M=_[E++],O=_[E++];null!==v?u.setInput(a,O,I,M):a[M]=O}}}function Ld(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function Pm(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function dD(i,s){const a=sn(s,i);if(yl(a)){const u=a[1];80&a[2]?Fd(u,a,u.template,a[8]):a[5]>0&&bi(a)}}function bi(i){for(let u=_m(i);null!==u;u=ym(u))for(let d=10;d<u.length;d++){const f=u[d];if(1024&f[2]){const _=f[1];Fd(_,f,_.template,f[8])}else f[5]>0&&bi(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=sn(a[u],i);yl(d)&&d[5]>0&&bi(d)}}function hD(i,s){const a=sn(s,i),u=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),Nd(u,a,a[8])}function Vd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function _y(i){for(;i;){i[2]|=64;const s=ql(i);if(Fp(i)&&!s)return i;i=s}return null}function vy(i,s,a){const u=s[10];u.begin&&u.begin();try{Fd(i,s,i.template,a)}catch(d){throw Bm(s,d),d}finally{u.end&&u.end()}}function Df(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=lm(a),d=u[1];Q0(d,u,d.template,a)}}(i[8])}function Lm(i,s,a){El(0),s(i,a)}const Vm=(()=>Promise.resolve(null))();function hC(i){return i[7]||(i[7]=[])}function fD(i){return i.cleanup||(i.cleanup=[])}function by(i,s,a){return(null===i||Oi(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Bm(i,s){const a=i[9],u=a?a.get($a,null):null;u&&u.handleError(s)}function Cy(i,s,a,u,d){for(let f=0;f<a.length;){const _=a[f++],v=a[f++],E=s[_],I=i.data[_];null!==I.setInput?I.setInput(E,d,u,v):E[v]=d}}function Za(i,s,a){const u=Ki(s,i);!function(i,s,a){ln(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function Um(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const v=s[_];"number"==typeof v?f=v:1==f?d=de(d,v):2==f&&(u=de(u,v+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}const If=new Sn("INJECTOR",-1);class jm{get(s,a=mo){if(a===mo){const u=new Error(`NullInjectorError: No provider for ${se(s)}!`);throw u.name="NullInjectorError",u}return a}}const Gl=new Sn("Set Injector scope."),ta={},fC={};let pC;function wy(){return void 0===pC&&(pC=new jm),pC}function Dy(i,s=null,a=null,u){return new Bd(i,a,s||wy(),u)}class Bd{constructor(s,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&ws(a,v=>this.processProvider(v,s,a)),ws([s],v=>this.processInjectorType(v,[],f)),this.records.set(If,Wl(void 0,this));const _=this.records.get(Gl);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:se(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=mo,u=rt.Default){this.assertNotDestroyed();const d=Te(this),f=hi(void 0);try{if(!(u&rt.SkipSelf)){let v=this.records.get(s);if(void 0===v){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Sn)&&sr(s);v=E&&this.injectableDefInScope(E)?Wl(Iy(s),ta):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&rt.Self?wy():this.parent).get(s,a=u&rt.Optional&&a===mo?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Yo]=_[Yo]||[]).unshift(se(s)),d)throw _;return go(_,s,"R3InjectorError",this.source)}throw _}finally{hi(f),Te(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(se(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,u){if(!(s=Q(s)))return!1;let d=$i(s);const f=null==d&&s.ngModule||void 0,_=void 0===f?s:f,v=-1!==u.indexOf(_);if(void 0!==f&&(d=$i(f)),null==d)return!1;if(null!=d.imports&&!v){let M;u.push(_);try{ws(d.imports,O=>{this.processInjectorType(O,a,u)&&(void 0===M&&(M=[]),M.push(O))})}finally{}if(void 0!==M)for(let O=0;O<M.length;O++){const{ngModule:N,providers:U}=M[O];ws(U,G=>this.processProvider(G,N,U||B))}}this.injectorDefTypes.add(_);const E=_s(_)||(()=>new _);this.records.set(_,Wl(E,ta));const I=d.providers;if(null!=I&&!v){const M=s;ws(I,O=>this.processProvider(O,M,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let d=Dn(s=Q(s))?s:Q(s&&s.provide);const f=(i=s,Hm(i)?Wl(void 0,i.useValue):Wl(Ya(i),ta));var i;if(Dn(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Wl(void 0,ta,!0),_.factory=()=>Hn(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===ta&&(a.value=fC,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Iy(i){const s=sr(i),a=null!==s?s.factory:_s(i);if(null!==a)return a;if(i instanceof Sn)throw new Error(`Token ${se(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=Ni(s,"?");throw new Error(`Can't resolve all parameters for ${se(i)}: (${u.join(", ")}).`)}const a=function(i){const s=i&&(i[ps]||i[or]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function Ya(i,s,a){let u;if(Dn(i)){const d=Q(i);return _s(d)||Iy(d)}if(Hm(i))u=()=>Q(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Hn(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>Pe(Q(i.useExisting));else{const d=Q(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return _s(d)||Iy(d);u=()=>new d(...Hn(i.deps))}return u}function Wl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Hm(i){return null!==i&&"object"==typeof i&&K in i}function Dn(i){return"function"==typeof i}const mC=function(i,s,a){return function(i,s=null,a=null,u){const d=Dy(i,s,a,u);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let $n=(()=>{class i{static create(a,u){return Array.isArray(a)?mC(a,u,""):mC(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=mo,i.NULL=new jm,i.\u0275prov=hn({token:i,providedIn:"any",factory:()=>Pe(If)}),i.__NG_ELEMENT_ID__=-1,i})();function Py(i,s){Bs(lm(i)[1],gn())}function Ny(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(Oi(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){u.push(d);const _=i;_.inputs=zm(i.inputs),_.declaredInputs=zm(i.declaredInputs),_.outputs=zm(i.outputs);const v=d.hostBindings;v&&MC(i,v);const E=d.viewQuery,I=d.contentQueries;if(E&&Gm(i,E),I&&CD(i,I),J(i.inputs,d.inputs),J(i.declaredInputs,d.declaredInputs),J(i.outputs,d.outputs),Oi(d)&&d.data.animation){const M=i.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(i),v===Ny&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Pc(d.hostAttrs,a=Pc(a,d.hostAttrs))}}(u)}function zm(i){return i===z?{}:i===B?[]:i}function Gm(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function CD(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,f)=>{s(u,d,f),a(u,d,f)}:s}function MC(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let $d=null;function Sf(){if(!$d){const i=At.Symbol;if(i&&i.iterator)$d=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&($d=u)}}}return $d}function Yl(i){return!!Wm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Sf()in i)}function Wm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Eo(i,s,a){return i[s]=a}function Vr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Ly(i,s,a,u){const d=Ae();return Vr(d,Xi(),s)&&(Bt(),os(En(),d,i,s,a,u)),Ly}function Gd(i,s,a,u){return Vr(i,Xi(),a)?s+Y(a)+u:bt}function Kd(i,s,a,u,d,f,_,v){const E=Ae(),I=Bt(),M=i+20,O=I.firstCreatePass?function(i,s,a,u,d,f,_,v,E){const I=s.consts,M=ou(s,i,4,_||null,Qi(I,v));rC(s,a,M,Qi(I,E)),Bs(s,M);const O=M.tViews=fy(2,M,u,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,M),O.queries=s.queries.embeddedTView(M)),M}(M,I,E,s,a,u,d,f,_):I.data[M];er(O,!1);const N=E[11].createComment("");Q_(I,E,N,O),Qn(N,E),Vd(E,E[M]=Pm(N,E,N,O)),ju(O)&&hy(I,E,O),null!=_&&xm(E,O,v)}function By(i){return jo(tt.lFrame.contextLView,20+i)}function Pf(i,s=rt.Default){const a=Ae();return null===a?Pe(i,s):ad(gn(),a,Q(i),s)}function ot(){throw new Error("invalid")}function Ql(i,s,a){const u=Ae();return Vr(u,Xi(),s)&&Ss(Bt(),En(),u,i,s,u[11],a,!1),Ql}function Do(i,s,a,u,d){const _=d?"class":"style";Cy(i,a,s.inputs[_],_,u)}function fu(i,s,a,u){const d=Ae(),f=Bt(),_=20+i,v=d[11],E=d[_]=x(v,s,tt.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,u,d,f,_){const v=s.consts,I=ou(s,i,2,d,Qi(v,f));return rC(s,a,I,Qi(v,_)),null!==I.attrs&&Um(I,I.attrs,!1),null!==I.mergedAttrs&&Um(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,d,0,s,a,u):f.data[_];er(I,!0);const M=I.mergedAttrs;null!==M&&Oc(v,E,M);const O=I.classes;null!==O&&X_(v,E,O);const N=I.styles;null!==N&&U0(v,E,N),64!=(64&I.flags)&&Q_(f,d,E,I),0===tt.lFrame.elementDepthCount&&Qn(E,d),tt.lFrame.elementDepthCount++,ju(I)&&(hy(f,d,I),eC(f,I,d)),null!==u&&xm(d,I)}function Uy(){let i=gn();bl()?lo():(i=i.parent,er(i,!1));const s=i;tt.lFrame.elementDepthCount--;const a=Bt();a.firstCreatePass&&(Bs(a,i),Xn(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Do(a,s,Ae(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Do(a,s,Ae(),s.stylesWithoutHost,!1)}function jy(i,s,a,u){fu(i,s,a,u),Uy()}function eg(i,s,a){const u=Ae(),d=Bt(),f=i+20,_=d.firstCreatePass?function(i,s,a,u,d){const f=s.consts,_=Qi(f,u),v=ou(s,i,8,"ng-container",_);return null!==_&&Um(v,_,!0),rC(s,a,v,Qi(f,d)),null!==s.queries&&s.queries.elementStart(s,v),v}(f,d,u,s,a):d.data[f];er(_,!0);const v=u[f]=u[11].createComment("");Q_(d,u,v,_),Qn(v,u),ju(_)&&(hy(d,u,_),eC(d,_,u)),null!=a&&xm(u,_)}function tg(){let i=gn();const s=Bt();bl()?lo():(i=i.parent,er(i,!1)),s.firstCreatePass&&(Bs(s,i),Xn(i)&&s.queries.elementEnd(i))}function BC(){return Ae()}function Nf(i){return!!i&&"function"==typeof i.then}function Ff(i){return!!i&&"function"==typeof i.subscribe}const ii=Ff;function qy(i,s,a,u){const d=Ae(),f=Bt(),_=gn();return UC(f,d,d[11],_,i,s,!!a,u),qy}function On(i,s){const a=gn(),u=Ae(),d=Bt();return UC(d,u,by(Ma(d.data),a,u),a,i,s,!1),On}function UC(i,s,a,u,d,f,_,v){const E=ju(u),M=i.firstCreatePass&&fD(i),O=s[8],N=hC(s);let U=!0;if(3&u.type||v){const ee=jn(u,s),Ne=v?v(ee):ee,ve=N.length,st=v?wt=>v(Un(wt[u.index])):u.index;if(ln(a)){let wt=null;if(!v&&E&&(wt=function(i,s,a,u){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===u){const v=s[7],E=d[f+2];return v.length>E?v[E]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,u.index)),null!==wt)(wt.__ngLastListenerFn__||wt).__ngNextListenerFn__=f,wt.__ngLastListenerFn__=f,U=!1;else{f=jC(u,s,O,f,!1);const qt=a.listen(Ne,d,f);N.push(f,qt),M&&M.push(d,st,ve,ve+1)}}else f=jC(u,s,O,f,!0),Ne.addEventListener(d,f,_),N.push(f),M&&M.push(d,st,ve,_)}else f=jC(u,s,O,f,!1);const G=u.outputs;let oe;if(U&&null!==G&&(oe=G[d])){const ee=oe.length;if(ee)for(let Ne=0;Ne<ee;Ne+=2){const Bn=s[oe[Ne]][oe[Ne+1]].subscribe(f),Ns=N.length;N.push(f,Bn),M&&M.push(d,u.index,Ns,-(Ns+1))}}}function Lf(i,s,a,u){try{return!1!==a(u)}catch(d){return Bm(i,d),!1}}function jC(i,s,a,u,d){return function f(_){if(_===Function)return u;const v=2&i.flags?sn(i.index,s):s;0==(32&s[2])&&_y(v);let E=Lf(s,0,u,_),I=f.__ngNextListenerFn__;for(;I;)E=Lf(s,0,I,_)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function ng(i=1){return function(i){return(tt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,tt.lFrame.contextLView))[8]}(i)}function $y(i,s){let a=null;const u=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===u?Qr(i,f,!0):Rd(u,f))return d}else a=d}return a}function Vi(i){const s=Ae()[16][6];if(!s.projection){const u=s.projection=Ni(i?i.length:1,null),d=u.slice();let f=s.child;for(;null!==f;){const _=i?$y(f,i):0;null!==_&&(d[_]?d[_].projectionNext=f:u[_]=f,d[_]=f),f=f.next}}}function LD(i,s=0,a){const u=Ae(),d=Bt(),f=ou(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),lo(),64!=(64&f.flags)&&function(i,s,a){B0(s[11],0,s,a,Md(i,a,s),Ef(a.parent||s[6],a,s))}(d,u,f)}function HC(i,s,a){return zy(i,"",s,"",a),HC}function zy(i,s,a,u,d){const f=Ae(),_=Gd(f,s,a,u);return _!==bt&&Ss(Bt(),En(),f,i,_,f[11],d,!1),zy}function $C(i,s,a,u,d){const f=i[a+1],_=null===s;let v=u?Zs(f):zl(f),E=!1;for(;0!==v&&(!1===E||_);){const M=i[v+1];Jl(i[v],s)&&(E=!0,i[v+1]=u?Fr(M):Dm(M)),v=u?Zs(M):zl(M)}E&&(i[a+1]=u?Dm(f):Fr(f))}function Jl(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Zo(i,s)>=0}function ZC(i,s,a){return sa(i,s,a,!1),ZC}function Ky(i,s){return sa(i,s,null,!0),Ky}function sa(i,s,a,u){const d=Ae(),f=Bt(),_=function(i){const s=tt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,u){const d=i.data;if(null===d[a+1]){const f=d[Zn()],_=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,u)&&null===s&&!_&&(s=!1),s=function(i,s,a,u){const d=Ma(i);let f=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=jf(a=Jy(null,i,s,a,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=Jy(d,i,s,a,u),null===f){let E=function(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==zl(u))return i[Zs(u)]}(i,s,u);void 0!==E&&Array.isArray(E)&&(E=Jy(null,i,s,E[1],u),E=jf(E,s.attrs,u),function(i,s,a,u){i[Zs(a?s.classBindings:s.styleBindings)]=u}(i,s,u,E))}else f=function(i,s,a){let u;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)u=jf(u,i[f].hostAttrs,a);return jf(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,u),function(i,s,a,u,d,f){let _=f?s.classBindings:s.styleBindings,v=Zs(_),E=zl(_);i[u]=a;let M,I=!1;if(Array.isArray(a)){const O=a;M=O[1],(null===M||Zo(O,M)>0)&&(I=!0)}else M=a;if(d)if(0!==E){const N=Zs(i[v+1]);i[u+1]=Od(N,v),0!==N&&(i[N+1]=zb(i[N+1],u)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],u)}else i[u+1]=Od(v,0),0!==v&&(i[v+1]=zb(i[v+1],u)),v=u;else i[u+1]=Od(E,0),0===v?v=u:i[E+1]=zb(i[E+1],u),E=u;I&&(i[u+1]=Dm(i[u+1])),$C(i,M,u,!0),$C(i,M,u,!1),function(i,s,a,u,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Zo(f,s)>=0&&(a[u+1]=Fr(a[u+1]))}(s,M,i,u,f),_=Od(v,E),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,u)}}(f,i,_,u),s!==bt&&Vr(d,_,s)&&function(i,s,a,u,d,f,_,v){if(!(3&s.type))return;const E=i.data,I=E[v+1];sh(function(i){return 1==(1&i)}(I)?ag(E,s,a,d,zl(I),_):void 0)||(sh(f)||function(i){return 2==(2&i)}(I)&&(f=ag(E,null,a,d,v,_)),function(i,s,a,u,d){const f=ln(i);if(s)d?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:As.DashCase;if(null==d)f?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),_|=As.Important),f?i.setStyle(a,u,d,_):a.style.setProperty(u,d,v?"important":"")}}}(u,_,Ki(Zn(),a),d,f))}(f,f.data[Zn()],d,d[11],i,d[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=se(Nr(i)))),i}(s,a),u,_)}function Jy(i,s,a,u,d){let f=null;const _=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<_&&(f=s[v],u=jf(u,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),u}function jf(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Fi(i,_,!!a||s[++f]))}return void 0===i?null:i}function ag(i,s,a,u,d,f){const _=null===s;let v;for(;d>0;){const E=i[d],I=Array.isArray(E),M=I?E[1]:E,O=null===M;let N=a[d+1];N===bt&&(N=O?B:void 0);let U=O?nf(N,u):M===u?N:void 0;if(I&&!sh(U)&&(U=nf(E,u)),sh(U)&&(v=U,_))return v;const G=i[d+1];d=_?Zs(G):zl(G)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(v=nf(E,u))}return v}function sh(i){return void 0!==i}function YD(i,s=""){const a=Ae(),u=Bt(),d=i+20,f=u.firstCreatePass?ou(u,d,1,s,null):u.data[d],_=a[d]=function(i,s){return ln(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Q_(u,a,_,f),er(f,!1)}function ev(i){return lg("",i,""),ev}function lg(i,s,a){const u=Ae(),d=Gd(u,i,s,a);return d!==bt&&Za(u,Zn(),d),lg}function rv(i,s,a){const u=Ae();return Vr(u,Xi(),s)&&Ss(Bt(),En(),u,i,s,u[11],a,!0),rv}function rE(i,s,a){const u=Ae();if(Vr(u,Xi(),s)){const f=Bt(),_=En();Ss(f,_,u,i,s,by(Ma(f.data),_,u),a,!0)}return rE}const oh=void 0;var dg=["en",[["a","p"],["AM","PM"],oh],[["AM","PM"],oh,oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ah={};function Ar(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Gf(s);if(a)return a;const u=s.split("-")[0];if(a=Gf(u),a)return a;if("en"===u)return dg;throw new Error(`Missing locale data for the locale "${i}".`)}function iE(i){return Ar(i)[_t.PluralCase]}function Gf(i){return i in ah||(ah[i]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[i]),ah[i]}var _t=(()=>((_t=_t||{})[_t.LocaleId=0]="LocaleId",_t[_t.DayPeriodsFormat=1]="DayPeriodsFormat",_t[_t.DayPeriodsStandalone=2]="DayPeriodsStandalone",_t[_t.DaysFormat=3]="DaysFormat",_t[_t.DaysStandalone=4]="DaysStandalone",_t[_t.MonthsFormat=5]="MonthsFormat",_t[_t.MonthsStandalone=6]="MonthsStandalone",_t[_t.Eras=7]="Eras",_t[_t.FirstDayOfWeek=8]="FirstDayOfWeek",_t[_t.WeekendRange=9]="WeekendRange",_t[_t.DateFormat=10]="DateFormat",_t[_t.TimeFormat=11]="TimeFormat",_t[_t.DateTimeFormat=12]="DateTimeFormat",_t[_t.NumberSymbols=13]="NumberSymbols",_t[_t.NumberFormats=14]="NumberFormats",_t[_t.CurrencyCode=15]="CurrencyCode",_t[_t.CurrencySymbol=16]="CurrencySymbol",_t[_t.CurrencyName=17]="CurrencyName",_t[_t.Currencies=18]="Currencies",_t[_t.Directionality=19]="Directionality",_t[_t.PluralCase=20]="PluralCase",_t[_t.ExtraData=21]="ExtraData",_t))();const fg="en-US";let oI=fg;function bu(i,s,a,u,d){if(i=Q(i),Array.isArray(i))for(let f=0;f<i.length;f++)bu(i[f],s,a,u,d);else{const f=Bt(),_=Ae();let v=Dn(i)?i:Q(i.provide),E=Ya(i);const I=gn(),M=1048575&I.providerIndexes,O=I.directiveStart,N=I.providerIndexes>>20;if(Dn(i)||!i.multi){const U=new Na(E,d,Pf),G=rc(v,s,d?M:M+N,O);-1===G?(vn(bs(I,_),f,v),dv(f,i,s.length),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(U),_.push(U)):(a[G]=U,_[G]=U)}else{const U=rc(v,s,M+N,O),G=rc(v,s,M,M+N),oe=U>=0&&a[U],ee=G>=0&&a[G];if(d&&!ee||!d&&!oe){vn(bs(I,_),f,v);const Ne=function(i,s,a,u,d){const f=new Na(i,a,Pf);return f.multi=[],f.index=s,f.componentProviders=0,nc(f,d,u&&!a),f}(d?SI:fE,a.length,d,u,E);!d&&ee&&(a[G].providerFactory=Ne),dv(f,i,s.length,0),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Ne),_.push(Ne)}else dv(f,i,U>-1?U:G,nc(a[d?G:U],E,!d&&u));!d&&u&&ee&&a[G].componentProviders++}}}function dv(i,s,a,u){const d=Dn(s);if(d||function(i){return!!i.useClass}(s)){const _=(s.useClass||s).prototype.ngOnDestroy;if(_){const v=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=v.indexOf(a);-1===E?v.push(a,[u,_]):v[E+1].push(u,_)}else v.push(a,_)}}}function nc(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function rc(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function fE(i,s,a,u){return pE(this.multi,[])}function SI(i,s,a,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Wo(a,a[1],this.providerFactory.index,u);f=v.slice(0,_),pE(d,f);for(let E=_;E<v.length;E++)f.push(v[E])}else f=[],pE(d,f);return f}function pE(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function MI(i,s=[]){return a=>{a.providersResolver=(u,d)=>function(i,s,a){const u=Bt();if(u.firstCreatePass){const d=Oi(i);bu(a,u.data,u.blueprint,d,!0),bu(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class Cg{}const mE="ngComponent";class JM{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${se(i)}. Did you add it to @NgModule.entryComponents?`);return s[mE]=i,s}(s)}}let gh=(()=>{class i{}return i.NULL=new JM,i})();function hv(...i){}function Cu(i,s){return new Mo(jn(i,s))}const pv=function(){return Cu(gn(),Ae())};let Mo=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=pv,i})();function kI(i){return i instanceof Mo?i.nativeElement:i}class Qf{}let RI=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>OI(),i})();const OI=function(){const i=Ae(),a=sn(gn().index,i);return function(i){return i[11]}(Gr(a)?a:i)};let mv=(()=>{class i{}return i.\u0275prov=hn({token:i,providedIn:"root",factory:()=>null}),i})();class PI{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const gv=new PI("13.0.2"),Jf={};function ic(i,s,a,u,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(Un(f)),gs(f))for(let v=10;v<f.length;v++){const E=f[v],I=E[1].firstChild;null!==I&&ic(E[1],E,I,u)}const _=a.type;if(8&_)ic(i,s,a.child,u);else if(32&_){const v=bo(a,s);let E;for(;E=v();)u.push(E)}else if(16&_){const v=L0(s,a);if(Array.isArray(v))u.push(...v);else{const E=ql(s[16]);ic(E[1],E,v,u,!0)}}a=d?a.projectionNext:a.next}return u}class Xa{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return ic(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(gs(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(nr(s,u),Xt(a,u))}this._attachedToViewContainer=!1}Rn(this._lView[1],this._lView)}onDestroy(s){Xr(this._lView[1],this._lView,null,s)}markForCheck(){_y(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Ta(!0);try{vy(i,s,a)}finally{Ta(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Cm(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class yE extends Xa{constructor(s){super(s),this._view=s}detectChanges(){Df(this._view)}checkNoChanges(){!function(i){Ta(!0);try{Df(i)}finally{Ta(!1)}}(this._view)}get context(){return null}}class Eg extends gh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=mn(s);return new CE(a,this.ngModule)}}function vE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const rx=new Sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gm});class CE extends Cg{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(ru).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return vE(this.componentDef.inputs)}get outputs(){return vE(this.componentDef.outputs)}create(s,a,u,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,u,d)=>{const f=i.get(a,Jf,d);return f!==Jf||u===Jf?f:s.get(a,u,d)}}}(s,d.injector):s,_=f.get(Qf,Wu),v=f.get(mv,null),E=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=u?function(i,s,a){if(ln(i))return i.selectRootElement(s,a===Ze.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):x(_.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?Zh:"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),O=this.componentDef.onPush?576:528,N=function(i,s){return{components:[],scheduler:i||gm,clean:Vm,playerHandler:s||null,flags:0}}(),U=fy(0,null,null,1,0,null,null,null,null,null),G=su(null,U,N,O,null,null,_,E,v,f);let oe,ee;ka(G);try{const Ne=function(i,s,a,u,d,f){const _=a[1];a[20]=i;const E=ou(_,20,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(Um(E,I,!0),null!==i&&(Oc(d,i,I),null!==E.classes&&X_(d,i,E.classes),null!==E.styles&&U0(d,i,E.styles)));const M=u.createRenderer(i,s),O=su(a,tC(s),null,s.onPush?64:16,a[20],E,u,M,f||null,null);return _.firstCreatePass&&(vn(bs(E,a),_,s.type),oC(_,E),Om(E,a.length,1)),Vd(a,O),a[20]=O}(M,this.componentDef,G,_,E);if(M)if(u)Oc(E,M,["ng-version",gv.full]);else{const{attrs:ve,classes:st}=function(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++u]):8===d&&a.push(f);else{if(!Co(d))break;d=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ve&&Oc(E,M,ve),st&&st.length>0&&X_(E,M,st.join(" "))}if(ee=Uo(U,20),void 0!==a){const ve=ee.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const wt=a[st];ve.push(null!=wt?Array.from(wt):null)}}oe=function(i,s,a,u,d){const f=a[1],_=function(i,s,a){const u=gn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),cD(i,u,s,au(i,s,1,null),a));const d=Wo(s,i,u.directiveStart,u);Qn(d,s);const f=jn(u,s);return f&&Qn(f,s),d}(f,a,s);if(u.components.push(_),i[8]=_,d&&d.forEach(E=>E(_,s)),s.contentQueries){const E=gn();s.contentQueries(1,_,E.directiveStart)}const v=gn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(uo(v.index),km(a[1],v,0,v.directiveStart,v.directiveEnd,s),oD(s,_)),_}(Ne,this.componentDef,G,N,[Py]),Nd(U,G,null)}finally{Oa()}return new wE(this.componentType,oe,Cu(ee,G),G,ee)}}class wE extends class{}{constructor(s,a,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new yE(d),this.componentType=s}get injector(){return new kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class sc{}class Ur{}const Xf=new Map;class _v extends sc{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Eg(this);const u=yr(s);this._bootstrapComponents=Ws(u.bootstrap),this._r3Injector=Dy(s,a,[{provide:sc,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],se(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=$n.THROW_IF_NOT_FOUND,u=rt.Default){return s===$n||s===sc||s===If?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ep extends Ur{constructor(s){super(),this.moduleType=s,null!==yr(s)&&function(i){const s=new Set;!function a(u){const d=yr(u,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${se(s)} vs ${se(s.name)}`)}(f,Xf.get(f),u),Xf.set(f,u));const _=Ws(d.imports);for(const v of _)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new _v(this.moduleType,s)}}function tp(i,s,a){const u=ar()+i,d=Ae();return d[u]===bt?Eo(d,u,a?s.call(a):s()):function(i,s){return i[s]}(d,u)}function wg(i,s,a,u){return SE(Ae(),ar(),i,s,a,u)}function Dg(i,s){const a=i[s];return a===bt?void 0:a}function SE(i,s,a,u,d,f){const _=s+a;return Vr(i,_,d)?Eo(i,_+1,f?u.call(f,d):u(d)):Dg(i,_+1)}function Ig(i,s,a,u,d,f,_){const v=s+a;return function(i,s,a,u){const d=Vr(i,s,a);return Vr(i,s+1,u)||d}(i,v,d,f)?Eo(i,v+2,_?u.call(_,d,f):u(d,f)):Dg(i,v+2)}function UI(i,s){const a=Bt();let u;const d=i+20;a.firstCreatePass?(u=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}throw new $e("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const f=u.factory||(u.factory=_s(u.type)),_=hi(Pf);try{const v=Tl(!1),E=f();return Tl(v),function(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Ae(),d,E),E}finally{hi(_)}}function jI(i,s,a){const u=i+20,d=Ae(),f=jo(d,u);return el(d,u)?SE(d,ar(),s,f.transform,a,f):f.transform(a)}function HI(i,s,a,u){const d=i+20,f=Ae(),_=jo(f,d);return el(f,d)?Ig(f,ar(),s,_.transform,a,u,_):_.transform(a,u)}function el(i,s){return i[1].data[s].pure}function rp(i){return s=>{setTimeout(i,void 0,s)}}const Rs=class extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var E,I,M;let d=s,f=a||(()=>null),_=u;if(s&&"object"==typeof s){const O=s;d=null==(E=O.next)?void 0:E.bind(O),f=null==(I=O.error)?void 0:I.bind(O),_=null==(M=O.complete)?void 0:M.bind(O)}this.__isAsync&&(f=rp(f),d&&(d=rp(d)),_&&(_=rp(_)));const v=super.subscribe({next:d,error:f,complete:_});return s instanceof X.w0&&s.add(v),v}};function RE(){return this._results[Sf()]()}class ip{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Sf(),u=ip.prototype;u[a]||(u[a]=RE)}get changes(){return this._changes||(this._changes=new Rs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=Yr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],f=s[u];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const Eu=function(){return op(gn(),Ae())};let sp=(()=>{class i{}return i.__NG_ELEMENT_ID__=Eu,i})();const fx=sp,PE=class extends fx{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=su(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),Nd(a,u,s),new Xa(u)}};function op(i,s){return 4&i.type?new PE(s,i,Cu(i,s)):null}const vv=function(){return FE(gn(),Ae())};let ap=(()=>{class i{}return i.__NG_ELEMENT_ID__=vv,i})();const lp=ap,bv=class extends lp{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Cu(this._hostTNode,this._hostLView)}get injector(){return new kt(this._hostTNode,this._hostLView)}get parentInjector(){const s=br(this._hostTNode,this._hostLView);if(b_(s)){const a=Nc(s,this._hostLView),u=Al(s);return new kt(a[1].data[u+8],a)}return new kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=GI(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const d=s.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(s,a,u,d,f){const _=s&&!("function"==typeof s);let v;if(_)v=a;else{const O=a||{};v=O.index,u=O.injector,d=O.projectableNodes,f=O.ngModuleRef}const E=_?s:new CE(mn(s)),I=u||this.parentInjector;if(!f&&null==E.ngModule&&I){const O=I.get(sc,null);O&&(f=O)}const M=E.create(I,d,void 0,f);return this.insert(M.hostView,v),M}insert(s,a){const u=s._lView,d=u[1];if(gs(u[3])){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const O=u[3],N=new bv(O,O[6],O[3]);N.detach(N.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,u){const d=10+u,f=a.length;u>0&&(a[d-1][4]=s),u<f-10?(s[4]=a[d],Ds(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,u,_,f);const v=Hb(f,_),E=u[11],I=kd(E,_[7]);return null!==I&&function(i,s,a,u,d,f){u[0]=d,u[6]=s,Cm(i,u,a,1,d,f)}(d,_[6],E,u,I,v),s.attachToViewContainerRef(),Ds(NE(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=GI(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=nr(this._lContainer,a);u&&(Xt(NE(this._lContainer),a),Rn(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=nr(this._lContainer,a);return u&&null!=Xt(NE(this._lContainer),a)?new Xa(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function GI(i){return i[8]}function NE(i){return i[8]||(i[8]=[])}function FE(i,s){let a;const u=s[i.index];if(gs(u))a=u;else{let d;if(8&i.type)d=Un(u);else{const f=s[11];d=f.createComment("");const _=jn(i,s);Ga(f,kd(f,_),d,function(i,s){return ln(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=Pm(u,s,d,i),Vd(s,a)}return new bv(a,i,s)}class LE{constructor(s){this.queryList=s,this.matches=null}clone(){return new LE(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<u;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new Tg(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Ev(s,a).matches&&this.queries[a].setDirty()}}class YI{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Sg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,d);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new Sg(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class VE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new VE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(s,a,BE(a,f)),this.matchTNodeWithReadOption(s,a,Ye(a,s,f,!1,!1))}else u===sp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ye(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Mo||d===ap||d===sp&&4&a.type)this.addMatch(a.index,-2);else{const f=Ye(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function BE(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function jE(i,s,a,u){return-1===a?function(i,s){return 11&i.type?Cu(i,s):4&i.type?op(i,s):null}(s,i):-2===a?function(i,s,a){return a===Mo?Cu(s,i):a===sp?op(s,i):a===ap?FE(s,i):void 0}(i,s,u):Wo(i,i[1],a,s)}function oc(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const f=i.data,_=a.matches,v=[];for(let E=0;E<_.length;E+=2){const I=_[E];v.push(I<0?null:jE(s,f[I],_[E+1],a.metadata.read))}d.matches=v}return d.matches}function Mg(i,s,a,u){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=oc(i,s,d,a);for(let v=0;v<f.length;v+=2){const E=f[v];if(E>0)u.push(_[v/2]);else{const I=f[v+1],M=s[-E];for(let O=10;O<M.length;O++){const N=M[O];N[17]===N[3]&&Mg(N[1],N,I,u)}if(null!==M[9]){const O=M[9];for(let N=0;N<O.length;N++){const U=O[N];Mg(U[1],U,I,u)}}}}}return u}function yh(i){const s=Ae(),a=Bt(),u=xc();El(u+1);const d=Ev(a,u);if(i.dirty&&Vs(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Mg(a,s,u,[]):oc(a,s,d,u);i.reset(f,kI),i.notifyOnChanges()}return!0}return!1}function vh(i,s,a){const u=Bt();u.firstCreatePass&&(Cv(u,new YI(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),KI(u,Ae(),s)}function HE(i,s,a,u){const d=Bt();if(d.firstCreatePass){const f=gn();Cv(d,new YI(s,a,u),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}KI(d,Ae(),a)}function bh(){return i=Ae(),s=xc(),i[19].queries[s].queryList;var i,s}function KI(i,s,a){const u=new ip(4==(4&a));Xr(i,s,u,u.destroy),null===s[19]&&(s[19]=new Tg),s[19].queries.push(new LE(u))}function Cv(i,s,a){null===i.queries&&(i.queries=new Sg),i.queries.track(new VE(s,a))}function Ev(i,s){return i.queries.getByIndex(s)}const kv=new Sn("Application Initializer");let ac=(()=>{class i{constructor(a){this.appInits=a,this.resolve=hv,this.reject=hv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Nf(f))a.push(f);else if(ii(f)){const _=new Promise((v,E)=>{f.subscribe({complete:v,error:E})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Pe(kv,8))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const _A=new Sn("AppId"),Sx={provide:_A,useFactory:function(){return`${aw()}${aw()}${aw()}`},deps:[]};function aw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lw=new Sn("Platform Initializer"),Rv=new Sn("Platform ID"),cw=new Sn("appBootstrapListener");let Ov=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const mp=new Sn("LocaleId"),kg=new Sn("DefaultCurrencyCode");class uw{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const dw=function(i){return new ep(i)},wA=dw,kx=function(i){return Promise.resolve(dw(i))},DA=function(i){const s=dw(i),u=Ws(yr(i).declarations).reduce((d,f)=>{const _=mn(f);return _&&d.push(new CE(_)),d},[]);return new uw(s,u)},Rx=DA,IA=function(i){return Promise.resolve(DA(i))};let Og=(()=>{class i{constructor(){this.compileModuleSync=wA,this.compileModuleAsync=kx,this.compileModuleAndAllComponentsSync=Rx,this.compileModuleAndAllComponentsAsync=IA}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();const SA=(()=>Promise.resolve(0))();function gp(i){"undefined"==typeof Zone?SA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Os{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rs(!1),this.onMicrotaskEmpty=new Rs(!1),this.onStable=new Rs(!1),this.onError=new Rs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=At.requestAnimationFrame,s=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(At,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,si(i),i.isCheckStableRunning=!0,Eh(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),si(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,f,_,v)=>{try{return la(i),a.invokeTask(d,f,_,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),hw(i)}},onInvoke:(a,u,d,f,_,v,E)=>{try{return la(i),a.invoke(d,f,_,v,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),hw(i)}},onHasTask:(a,u,d,f)=>{a.hasTask(d,f),u===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,si(i),Eh(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,MA,hv,hv);try{return f.runTask(_,a,u)}finally{f.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const MA={};function Eh(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function si(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function la(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function hw(i){i._nesting--,Eh(i)}class Px{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rs,this.onMicrotaskEmpty=new Rs,this.onStable=new Rs,this.onError=new Rs}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}let Pg=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),gp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Pe(Os))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})(),fw=(()=>{class i{constructor(){this._applications=new Map,Ng.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ng.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();class xA{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function Nx(i){Ng=i}let Ng=new xA,kA=!0,RA=!1;function Vn(){return RA=!0,kA}function $O(){if(RA)throw new Error("Cannot enable prod mode after platform setup.");kA=!1}let nl;const jx=new Sn("AllowMultipleToken");class Hx{constructor(s,a){this.name=s,this.token=a}}function pw(i,s,a=[]){const u=`Platform: ${s}`,d=new Sn(u);return(f=[])=>{let _=ca();if(!_||_.injector.get(jx,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:Gl,useValue:"platform"});!function(i){if(nl&&!nl.destroyed&&!nl.injector.get(jx,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nl=i.get(wu);const s=i.get(lw,null);s&&s.forEach(a=>a())}($n.create({providers:v,name:u}))}return function(i){const s=ca();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function ca(){return nl&&!nl.destroyed?nl:null}let wu=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const v=function(i,s){let a;return a="noop"===i?new Px:("zone.js"===i?void 0:i)||new Os({enableLongStackTrace:Vn(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Os,useValue:v}];return v.run(()=>{const I=$n.create({providers:E,parent:this.injector,name:a.moduleType.name}),M=a.create(I),O=M.injector.get($a,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:U=>{O.handleError(U)}});M.onDestroy(()=>{Nv(this._modules,M),N.unsubscribe()})}),function(i,s,a){try{const u=a();return Nf(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,v,()=>{const N=M.injector.get(ac);return N.runInitializers(),N.donePromise.then(()=>(function(i){Et(i,"Expected localeId to be defined"),"string"==typeof i&&(oI=i.toLowerCase().replace(/_/g,"-"))}(M.injector.get(mp,fg)||fg),this._moduleDoBootstrap(M),M))})})}bootstrapModule(a,u=[]){const d=PA({},u);return function(i,s,a){const u=new ep(a);return Promise.resolve(u)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const u=a.injector.get(_p);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${se(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Pe($n))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();function PA(i,s){return Array.isArray(s)?s.reduce(PA,i):qe(qe({},i),s)}let _p=(()=>{class i{constructor(a,u,d,f,_){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new F.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),gp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ue.T)(v,E.pipe((0,ie.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof Cg?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(sc),v=d.create($n.NULL,[],u||d.selector,f),E=v.location.nativeElement,I=v.injector.get(Pg,null),M=I&&v.injector.get(fw);return I&&M&&M.registerApplication(E,I),v.onDestroy(()=>{this.detachView(v.hostView),Nv(this.components,v),M&&M.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Nv(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(cw,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Pe(Os),Pe($n),Pe($a),Pe(gh),Pe(ac))},i.\u0275prov=hn({token:i,factory:i.\u0275fac}),i})();function Nv(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const _w=function(i){return function(i,s,a){if(Fs(i)&&!a){const u=sn(i.index,s);return new Xa(u,u)}return 47&i.type?new Xa(s[16],s):null}(gn(),Ae(),16==(16&i))};let LA=(()=>{class i{}return i.__NG_ELEMENT_ID__=_w,i})();const qA=function(i){return null};class bw{constructor(){}supports(s){return Yl(s)}create(s){return new GA(s)}}const zA=(i,s)=>s;class GA{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||zA}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,f=null;for(;a||u;){const _=!u||a&&a.currentIndex<ZA(u,d,f)?a:u,v=ZA(_,d,f),E=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const I=v-d,M=E-d;if(I!=M){for(let N=0;N<I;N++){const U=N<f.length?f[N]:f[N]=0,G=U+N;M<=G&&G<I&&(f[N]=U+1)}f[_.previousIndex]=M-I}}v!==E&&s(_,v,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Yl(s))throw new Error(`Error trying to diff '${se(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],_=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,f,_,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,v),u=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Sf()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,v=>{_=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,v,_,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,_,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new WA(a,u),f,d),s}_verifyReinsertion(s,a,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Bg),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bg),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class WA{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class Bg{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new Cw,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ZA(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class Ew{constructor(){}supports(s){return s instanceof Map||Wm(s)}create(){return new Iu}}class Iu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Wm(s)))throw new Error(`Error trying to diff '${se(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new Xx(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Xx{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Au(){return new jv([new bw])}let jv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Au()),deps:[[i,new Pr,new Kn]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=hn({token:i,providedIn:"root",factory:Au}),i})();function YA(){return new Hv([new Ew])}let Hv=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||YA()),deps:[[i,new Pr,new Kn]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(u)return u;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=hn({token:i,providedIn:"root",factory:YA}),i})();const tk=[new Ew],QA=new jv([new bw]),nk=new Hv(tk),JA=pw(null,"core",[{provide:Rv,useValue:"unknown"},{provide:wu,deps:[$n]},{provide:fw,deps:[]},{provide:Ov,deps:[]}]),sk=[{provide:_p,useClass:_p,deps:[Os,$n,$a,gh,ac]},{provide:rx,deps:[Os],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:ac,useClass:ac,deps:[[new Kn,kv]]},{provide:Og,useClass:Og,deps:[]},Sx,{provide:jv,useFactory:function(){return QA},deps:[]},{provide:Hv,useFactory:function(){return nk},deps:[]},{provide:mp,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||fg},deps:[[new rs(mp),new Kn,new Pr]]},{provide:kg,useValue:"USD"}];let ak=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Pe(_p))},i.\u0275mod=cl({type:i}),i.\u0275inj=Mn({providers:sk}),i})()},6293:(Ke,_e,P)=>{"use strict";P.d(_e,{Z:()=>$e});var c=P(4213),X=P(1177),F=P(1572),ue=P(3855);class ie{constructor(le,Y){this._delegate=le,this.firebase=Y,(0,F._addComponent)(le,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(le,Y=F._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(le);return!De.isInitialized()&&"EXPLICIT"===(null===(ce=De.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&De.initialize(),De.getImmediate({identifier:Y})}_removeServiceInstance(le,Y=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Y)}_addComponent(le){(0,F._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,F._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function de(){const Ue=function(Ue){const le={},Y={__esModule:!0,initializeApp:function(Qe,ft={}){const te=F.initializeApp(Qe,ft);if((0,c.r3)(le,te.name))return le[te.name];const he=new Ue(te,Y);return le[te.name]=he,he},app:De,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(Qe){const ft=Qe.name,te=ft.replace("-compat","");if(F._registerComponent(Qe)&&"PUBLIC"===Qe.type){const he=(be=De())=>{if("function"!=typeof be[te])throw J.create("invalid-app-argument",{appName:ft});return be[te]()};void 0!==Qe.serviceProps&&(0,c.ZB)(he,Qe.serviceProps),Y[te]=he,Ue.prototype[te]=function(...be){return this._getService.bind(this,ft).apply(this,Qe.multipleInstances?be:[])}}return"PUBLIC"===Qe.type?Y[te]:null},removeApp:function(Qe){delete le[Qe]},useAsService:function(Qe,ft){return"serverAuth"===ft?null:ft},modularAPIs:F}};function De(Qe){if(!(0,c.r3)(le,Qe=Qe||F._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:Qe});return le[Qe]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function(){return Object.keys(le).map(Qe=>le[Qe])}}),De.App=Ue,Y}(ie);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function(Y){(0,c.ZB)(Ue,Y)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ue}(),q=new ue.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=$;(0,F.registerVersion)("@firebase/app-compat","0.1.11",undefined)},1572:(Ke,_e,P)=>{"use strict";P.r(_e),P.d(_e,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>ba,_DEFAULT_ENTRY_NAME:()=>Jn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>qr,_apps:()=>Et,_clearComponents:()=>Mn,_components:()=>Ot,_getProvider:()=>hn,_registerComponent:()=>di,_removeServiceInstance:()=>ll,deleteApp:()=>or,getApp:()=>ps,getApps:()=>Me,initializeApp:()=>$i,onLog:()=>Yt,registerVersion:()=>rt,setLogLevel:()=>zi});var c=P(8239),X=P(1177),F=P(3855),ue=P(4213);class ie{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function(dt){const mt=dt.getComponent();return"VERSION"===(null==mt?void 0:mt.type)}(Lt)){const Vt=Lt.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(Lt=>Lt).join(" ")}}const J="@firebase/app",de=new F.Yd("@firebase/app"),Jn="[DEFAULT]",Mt={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Ot=new Map;function pn(dt,mt){try{dt.container.addComponent(mt)}catch(Lt){de.debug(`Component ${mt.name} failed to register with FirebaseApp ${dt.name}`,Lt)}}function qr(dt,mt){dt.container.addOrOverwriteComponent(mt)}function di(dt){const mt=dt.name;if(Ot.has(mt))return de.debug(`There were multiple attempts to register component ${mt}.`),!1;Ot.set(mt,dt);for(const Lt of Et.values())pn(Lt,dt);return!0}function hn(dt,mt){return dt.container.getProvider(mt)}function ll(dt,mt,Lt=Jn){hn(dt,mt).clearInstance(Lt)}function Mn(){Ot.clear()}const zt=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xn{constructor(mt,Lt,Vt){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const ba="9.6.0";function $i(dt,mt={}){"object"!=typeof mt&&(mt={name:mt});const Lt=Object.assign({name:Jn,automaticDataCollectionEnabled:!1},mt),Vt=Lt.name;if("string"!=typeof Vt||!Vt)throw zt.create("bad-app-name",{appName:String(Vt)});const fi=Et.get(Vt);if(fi){if((0,ue.vZ)(dt,fi.options)&&(0,ue.vZ)(Lt,fi.config))return fi;throw zt.create("duplicate-app",{appName:Vt})}const Jt=new X.H0(Vt);for(const lt of Ot.values())Jt.addComponent(lt);const Ze=new xn(dt,Lt,Jt);return Et.set(Vt,Ze),Ze}function ps(dt=Jn){const mt=Et.get(dt);if(!mt)throw zt.create("no-app",{appName:dt});return mt}function Me(){return Array.from(Et.values())}function or(dt){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(dt){const mt=dt.name;Et.has(mt)&&(Et.delete(mt),yield Promise.all(dt.container.getProviders().map(Lt=>Lt.delete())),dt.isDeleted=!0)})).apply(this,arguments)}function rt(dt,mt,Lt){var Vt;let fi=null!==(Vt=Mt[dt])&&void 0!==Vt?Vt:dt;Lt&&(fi+=`-${Lt}`);const Jt=fi.match(/\s|\//),Ze=mt.match(/\s|\//);if(Jt||Ze){const lt=[`Unable to register library "${fi}" with version "${mt}":`];return Jt&&lt.push(`library name "${fi}" contains illegal characters (whitespace or "/")`),Jt&&Ze&&lt.push("and"),Ze&&lt.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void de.warn(lt.join(" "))}di(new X.wA(`${fi}-version`,()=>({library:fi,version:mt}),"VERSION"))}function Yt(dt,mt){if(null!==dt&&"function"!=typeof dt)throw zt.create("invalid-log-argument");(0,F.Am)(dt,mt)}function zi(dt){(0,F.Ub)(dt)}di(new X.wA("platform-logger",mt=>new ie(mt),"PRIVATE")),rt(J,"0.7.10",""),rt(J,"0.7.10","esm2017"),rt("fire-js","")},1177:(Ke,_e,P)=>{"use strict";P.d(_e,{wA:()=>F,H0:()=>se});var c=P(8239),X=P(4213);class F{constructor($,q,Q){this.name=$,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class ie{constructor($,q){this.name=$,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const q=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(q)){const Q=new X.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:q});je&&Q.resolve(je)}catch(je){}}return this.instancesDeferred.get(q).promise}getImmediate($){var q;const Q=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),je=null!==(q=null==$?void 0:$.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(je)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if("EAGER"===$.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ue})}catch(q){}for(const[q,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(q);try{const Ie=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(Ie)}catch(Ie){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const q=Array.from($.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:q={}}=$,Q=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[Ie,$e]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&$e.resolve(je);return je}onInit($,q){var Q;const je=this.normalizeInstanceIdentifier(q),Ie=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;Ie.add($),this.onInitCallbacks.set(je,Ie);const $e=this.instances.get(je);return $e&&$($e,je),()=>{Ie.delete($)}}invokeOnInitCallbacks($,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const je of Q)try{je($,q)}catch(Ie){}}getOrInitializeService({instanceIdentifier:$,options:q={}}){let Q=this.instances.get($);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=$,de===ue?void 0:de),options:q}),this.instances.set($,Q),this.instancesOptions.set($,q),this.invokeOnInitCallbacks(Q,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Q)}catch(je){}var de;return Q||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor($){this.name=$,this.providers=new Map}addComponent($){const q=this.getProvider($.name);if(q.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);q.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const q=new ie($,this);return this.providers.set($,q),q}getProviders(){return Array.from(this.providers.values())}}},3855:(Ke,_e,P)=>{"use strict";P.d(_e,{in:()=>X,Yd:()=>J,Ub:()=>se,Am:()=>de});const c=[];var X=(()=>{return($=X||(X={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",X;var $})();const F={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ue=X.INFO,ie={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ge=($,q,...Q)=>{if(q<$.logLevel)return;const je=(new Date).toISOString(),Ie=ie[q];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ie](`[${je}]  ${$.name}:`,...Q)};class J{constructor(q){this.name=q,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in X))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...q),this._logHandler(this,X.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...q),this._logHandler(this,X.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,X.INFO,...q),this._logHandler(this,X.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,X.WARN,...q),this._logHandler(this,X.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...q),this._logHandler(this,X.ERROR,...q)}}function se($){c.forEach(q=>{q.setLogLevel($)})}function de($,q){for(const Q of c){let je=null;q&&q.level&&(je=F[q.level]),Q.userLogHandler=null===$?null:(Ie,$e,...Ue)=>{const le=Ue.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch(ce){return null}}).filter(Y=>Y).join(" ");$e>=(null!=je?je:Ie.logLevel)&&$({level:X[$e].toLowerCase(),message:le,args:Ue,type:Ie.name})}}}},8239:(Ke,_e,P)=>{"use strict";function c(F,ue,ie,ge,J,se,de){try{var $=F[se](de),q=$.value}catch(Q){return void ie(Q)}$.done?ue(q):Promise.resolve(q).then(ge,J)}function X(F){return function(){var ue=this,ie=arguments;return new Promise(function(ge,J){var se=F.apply(ue,ie);function de(q){c(se,ge,J,de,$,"next",q)}function $(q){c(se,ge,J,de,$,"throw",q)}de(void 0)})}}P.d(_e,{Z:()=>X})}},Ke=>{Ke(Ke.s=1195)}]);